/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
require({cache:{"dijit/form/nls/validate":function(){define("dijit/form/nls/validate",{root:({invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n"}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html",".."],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){var _c=_1([_8,_9],{templateString:_a,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:_6("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var _d=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((_d=="hidden"||_d=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_onInput:function(e){this.inherited(arguments);if(this.intermediateChanges){var _e=this;setTimeout(function(){_e._handleOnChange(_e.get("value"),false);},0);}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_2.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.focused&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_f,_10,_11){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_4.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_12){_4.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_12);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(_6("ie")){_c=_1(_c,{declaredClass:"dijit.form.TextBox",_isTextSelected:function(){var _13=_7.doc.selection.createRange();var _14=_13.parentElement();return _14==this.textbox&&_13.text.length==0;},postCreate:function(){this.inherited(arguments);setTimeout(_5.hitch(this,function(){try{var s=_3.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _15=this.domNode.getElementsByTagName("INPUT");if(_15){for(var i=0;i<_15.length;i++){_15[i].style.fontFamily=ff;}}}}}catch(e){}}),0);}});_b._setSelectionRange=_9._setSelectionRange=function(_16,_17,_18){if(_16.createTextRange){var r=_16.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_17);r.moveEnd("character",_18-_17);r.select();}};}else{if(_6("mozilla")){_c=_1(_c,{declaredClass:"dijit.form.TextBox",_onBlur:function(e){this.inherited(arguments);if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}});}else{_c.prototype.declaredClass="dijit.form.TextBox";}}_5.setObject("dijit.form.TextBox",_c);return _c;});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(_19,_1a,_1b,_1c,_1d,_1e,_1f,_20,has,_21,win){var _22=_1f("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(_23){var _24=this.declaredClass,_25=this;return _1c.substitute(_23,this,function(_26,key){if(key.charAt(0)=="!"){_26=_19.getObject(key.substr(1),false,_25);}if(typeof _26=="undefined"){throw new Error(_24+" template:"+key);}if(_26==null){return "";}return key.charAt(0)=="!"?_26:_26.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_1d(this.templatePath,{sanitize:true});}var _27=_22.getCachedTemplate(this.templateString,this._skipNodeCache);var _28;if(_19.isString(_27)){_28=_20.toDom(this._stringRepl(_27));if(_28.nodeType!=1){throw new Error("Invalid template: "+_27);}}else{_28=_27.cloneNode(true);}this.domNode=_28;this.inherited(arguments);this._attachTemplateNodes(_28,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_29){var _2a=this.containerNode;if(_29&&_2a){while(_29.hasChildNodes()){_2a.appendChild(_29.firstChild);}}},_attachTemplateNodes:function(_2b,_2c){var _2d=_19.isArray(_2b)?_2b:(_2b.all||_2b.getElementsByTagName("*"));var x=_19.isArray(_2b)?0:-1;for(;x<_2d.length;x++){var _2e=(x==-1)?_2b:_2d[x];if(this.widgetsInTemplate&&(_2c(_2e,"dojoType")||_2c(_2e,"data-dojo-type"))){continue;}var _2f=_2c(_2e,"dojoAttachPoint")||_2c(_2e,"data-dojo-attach-point");if(_2f){var _30,_31=_2f.split(/\s*,\s*/);while((_30=_31.shift())){if(_19.isArray(this[_30])){this[_30].push(_2e);}else{this[_30]=_2e;}this._attachPoints.push(_30);}}var _32=_2c(_2e,"dojoAttachEvent")||_2c(_2e,"data-dojo-attach-event");if(_32){var _33,_34=_32.split(/\s*,\s*/);var _35=_19.trim;while((_33=_34.shift())){if(_33){var _36=null;if(_33.indexOf(":")!=-1){var _37=_33.split(":");_33=_35(_37[0]);_36=_35(_37[1]);}else{_33=_35(_33);}if(!_36){_36=_33;}this._attachEvents.push(this.connect(_2e,_1a[_33]||_33,_36));}}}}},destroyRendering:function(){_1e.forEach(this._attachPoints,function(_38){delete this[_38];},this);this._attachPoints=[];_1e.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_22._templateCache={};_22.getCachedTemplate=function(_39,_3a){var _3b=_22._templateCache;var key=_39;var _3c=_3b[key];if(_3c){try{if(!_3c.ownerDocument||_3c.ownerDocument==win.doc){return _3c;}}catch(e){}_20.destroy(_3c);}_39=_1c.trim(_39);if(_3a||_39.match(/\$\{([^\}]+)\}/g)){return (_3b[key]=_39);}else{var _3d=_20.toDom(_39);if(_3d.nodeType!=1){throw new Error("Invalid template: "+_39);}return (_3b[key]=_3d);}};if(has("ie")){_21.addOnWindowUnload(function(){var _3e=_22._templateCache;for(var key in _3e){var _3f=_3e[key];if(typeof _3f=="object"){_20.destroy(_3f);}delete _3e[key];}});}_19.extend(_1b,{dojoAttachEvent:"",dojoAttachPoint:""});return _22;});},"dijit/_Templated":function(){define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_40,_41,_42,_43,_44,_45,_46){_45.extend(_40,{waiRole:"",waiState:""});return _44("dijit._Templated",[_41,_42],{widgetsInTemplate:false,constructor:function(){_46.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_attachTemplateNodes:function(_47,_48){this.inherited(arguments);var _49=_45.isArray(_47)?_47:(_47.all||_47.getElementsByTagName("*"));var x=_45.isArray(_47)?0:-1;for(;x<_49.length;x++){var _4a=(x==-1)?_47:_49[x];var _4b=_48(_4a,"waiRole");if(_4b){_4a.setAttribute("role",_4b);}var _4c=_48(_4a,"waiState");if(_4c){_43.forEach(_4c.split(/\s*,\s*/),function(_4d){if(_4d.indexOf("-")!=-1){var _4e=_4d.split("-");_4a.setAttribute("aria-"+_4e[0],_4e[1]);}});}}}});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/touch","dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/_base/window"],function(_4f,_50,_51,_52,_53,win){return _51("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_50.forEach(["onmouseenter","onmouseleave",_4f.press],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);_50.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(_54){this.watch(_54,_53.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_55){if(!this.disabled){switch(_55.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchpress":this._set("active",true);this._mouseDown=true;var _56=this.connect(win.body(),_4f.release,function(){this._mouseDown=false;this._set("active",false);this.disconnect(_56);});break;}}},_setStateClass:function(){var _57=this.baseClass.split(" ");function _58(_59){_57=_57.concat(_50.map(_57,function(c){return c+_59;}),"dijit"+_59);};if(!this.isLeftToRight()){_58("Rtl");}var _5a=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_58(_5a);}if(this.state){_58(this.state);}if(this.selected){_58("Selected");}if(this.disabled){_58("Disabled");}else{if(this.readOnly){_58("ReadOnly");}else{if(this.active){_58("Active");}else{if(this.hovering){_58("Hover");}}}}if(this.focused){_58("Focused");}var tn=this.stateNode||this.domNode,_5b={};_50.forEach(tn.className.split(" "),function(c){_5b[c]=true;});if("_stateClasses" in this){_50.forEach(this._stateClasses,function(c){delete _5b[c];});}_50.forEach(_57,function(c){_5b[c]=true;});var _5c=[];for(var c in _5b){_5c.push(c);}tn.className=_5c.join(" ");this._stateClasses=_57;},_trackMouseState:function(_5d,_5e){var _5f=false,_60=false,_61=false;var _62=this,cn=_53.hitch(this,"connect",_5d);function _63(){var _64=("disabled" in _62&&_62.disabled)||("readonly" in _62&&_62.readonly);_52.toggle(_5d,_5e+"Hover",_5f&&!_60&&!_64);_52.toggle(_5d,_5e+"Active",_60&&!_64);_52.toggle(_5d,_5e+"Focused",_61&&!_64);};cn("onmouseenter",function(){_5f=true;_63();});cn("onmouseleave",function(){_5f=false;_60=false;_63();});cn(_4f.press,function(){_60=true;_63();});cn(_4f.release,function(){_60=false;_63();});cn("onfocus",function(){_61=true;_63();});cn("onblur",function(){_61=false;_63();});this.watch("disabled",_63);this.watch("readOnly",_63);}});});},"dijit/_editor/html":function(){define("dijit/_editor/html",["dojo/_base/lang","dojo/_base/sniff",".."],function(_65,has,_66){_65.getObject("_editor",true,_66);_66._editor.escapeXml=function(str,_67){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_67){str=str.replace(/'/gm,"&#39;");}return str;};_66._editor.getNodeHtml=function(_68){var _69;switch(_68.nodeType){case 1:var _6a=_68.nodeName.toLowerCase();if(!_6a||_6a.charAt(0)=="/"){return "";}_69="<"+_6a;var _6b=[];var _6c;if(has("ie")&&_68.outerHTML){var s=_68.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/(\b\w+)\s?=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(_68.getAttribute("_djrealurl")){_6b.push([key,_68.getAttribute("_djrealurl")]);continue;}}var val,_6d;switch(key){case "style":val=_68.style.cssText.toLowerCase();break;case "class":val=_68.className;break;case "width":if(_6a==="img"){_6d=/width=(\S+)/i.exec(s);if(_6d){val=_6d[1];}break;}case "height":if(_6a==="img"){_6d=/height=(\S+)/i.exec(s);if(_6d){val=_6d[1];}break;}default:val=_68.getAttribute(key);}if(val!=null){_6b.push([key,val.toString()]);}}}}else{var i=0;while((_6c=_68.attributes[i++])){var n=_6c.name;if(n.substr(0,3)!="_dj"){var v=_6c.value;if(n=="src"||n=="href"){if(_68.getAttribute("_djrealurl")){v=_68.getAttribute("_djrealurl");}}_6b.push([n,v]);}}}_6b.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((_6c=_6b[j++])){_69+=" "+_6c[0]+"=\""+(_65.isString(_6c[1])?_66._editor.escapeXml(_6c[1],true):_6c[1])+"\"";}if(_6a==="script"){_69+=">"+_68.innerHTML+"</"+_6a+">";}else{if(_68.childNodes.length){_69+=">"+_66._editor.getChildrenHtml(_68)+"</"+_6a+">";}else{switch(_6a){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_69+=" />";break;default:_69+="></"+_6a+">";}}}break;case 4:case 3:_69=_66._editor.escapeXml(_68.nodeValue,true);break;case 8:_69="<!--"+_66._editor.escapeXml(_68.nodeValue,true)+"-->";break;default:_69="<!-- Element not recognized - Type: "+_68.nodeType+" Name: "+_68.nodeName+"-->";}return _69;};_66._editor.getChildrenHtml=function(dom){var out="";if(!dom){return out;}var _6e=dom["childNodes"]||dom;var _6f=!has("ie")||_6e!==dom;var _70,i=0;while((_70=_6e[i++])){if(!_6f||_70.parentNode==dom){out+=_66._editor.getNodeHtml(_70);}}return out;};return _66._editor;});},"dijit/_editor/nls/commands":function(){define("dijit/_editor/nls/commands",{root:({"bold":"Bold","copy":"Copy","cut":"Cut","delete":"Delete","indent":"Indent","insertHorizontalRule":"Horizontal Rule","insertOrderedList":"Numbered List","insertUnorderedList":"Bullet List","italic":"Italic","justifyCenter":"Align Center","justifyFull":"Justify","justifyLeft":"Align Left","justifyRight":"Align Right","outdent":"Outdent","paste":"Paste","redo":"Redo","removeFormat":"Remove Format","selectAll":"Select All","strikethrough":"Strikethrough","subscript":"Subscript","superscript":"Superscript","underline":"Underline","undo":"Undo","unlink":"Remove Link","createLink":"Create Link","toggleDir":"Toggle Direction","insertImage":"Insert Image","insertTable":"Insert/Edit Table","toggleTableBorder":"Toggle Table Border","deleteTable":"Delete Table","tableProp":"Table Property","htmlToggle":"HTML Source","foreColor":"Foreground Color","hiliteColor":"Background Color","plainFormatBlock":"Paragraph Style","formatBlock":"Paragraph Style","fontSize":"Font Size","fontName":"Font Name","tabIndent":"Tab Indent","fullScreen":"Toggle Full Screen","viewSource":"View HTML Source","print":"Print","newPage":"New Page","systemShortcut":"The \"${0}\" action is only available in your browser using a keyboard shortcut. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"⌘${0}"}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","."],function(_71,_72,_73,_74,win,_75,_76){function _77(_78,_79,_7a,_7b){var _7c=_75.getBox();if(!_78.parentNode||String(_78.parentNode.tagName).toLowerCase()!="body"){win.body().appendChild(_78);}var _7d=null;_71.some(_79,function(_7e){var _7f=_7e.corner;var pos=_7e.pos;var _80=0;var _81={w:{"L":_7c.l+_7c.w-pos.x,"R":pos.x-_7c.l,"M":_7c.w}[_7f.charAt(1)],h:{"T":_7c.t+_7c.h-pos.y,"B":pos.y-_7c.t,"M":_7c.h}[_7f.charAt(0)]};if(_7a){var res=_7a(_78,_7e.aroundCorner,_7f,_81,_7b);_80=typeof res=="undefined"?0:res;}var _82=_78.style;var _83=_82.display;var _84=_82.visibility;if(_82.display=="none"){_82.visibility="hidden";_82.display="";}var mb=_72.getMarginBox(_78);_82.display=_83;_82.visibility=_84;var _85={"L":pos.x,"R":pos.x-mb.w,"M":Math.max(_7c.l,Math.min(_7c.l+_7c.w,pos.x+(mb.w>>1))-mb.w)}[_7f.charAt(1)],_86={"T":pos.y,"B":pos.y-mb.h,"M":Math.max(_7c.t,Math.min(_7c.t+_7c.h,pos.y+(mb.h>>1))-mb.h)}[_7f.charAt(0)],_87=Math.max(_7c.l,_85),_88=Math.max(_7c.t,_86),_89=Math.min(_7c.l+_7c.w,_85+mb.w),_8a=Math.min(_7c.t+_7c.h,_86+mb.h),_8b=_89-_87,_8c=_8a-_88;_80+=(mb.w-_8b)+(mb.h-_8c);if(_7d==null||_80<_7d.overflow){_7d={corner:_7f,aroundCorner:_7e.aroundCorner,x:_87,y:_88,w:_8b,h:_8c,overflow:_80,spaceAvailable:_81};}return !_80;});if(_7d.overflow&&_7a){_7a(_78,_7d.aroundCorner,_7d.corner,_7d.spaceAvailable,_7b);}var l=_72.isBodyLtr(),s=_78.style;s.top=_7d.y+"px";s[l?"left":"right"]=(l?_7d.x:_7c.w-_7d.x-_7d.w)+"px";s[l?"right":"left"]="auto";return _7d;};return (_76.place={at:function(_8d,pos,_8e,_8f){var _90=_71.map(_8e,function(_91){var c={corner:_91,pos:{x:pos.x,y:pos.y}};if(_8f){c.pos.x+=_91.charAt(1)=="L"?_8f.x:-_8f.x;c.pos.y+=_91.charAt(0)=="T"?_8f.y:-_8f.y;}return c;});return _77(_8d,_90);},around:function(_92,_93,_94,_95,_96){var _97=(typeof _93=="string"||"offsetWidth" in _93)?_72.position(_93,true):_93;if(_93.parentNode){var _98=_93.parentNode;while(_98&&_98.nodeType==1&&_98.nodeName!="BODY"){var _99=_72.position(_98,true);var _9a=_73.getComputedStyle(_98).overflow;if(_9a=="hidden"||_9a=="auto"||_9a=="scroll"){var _9b=Math.min(_97.y+_97.h,_99.y+_99.h);var _9c=Math.min(_97.x+_97.w,_99.x+_99.w);_97.x=Math.max(_97.x,_99.x);_97.y=Math.max(_97.y,_99.y);_97.h=_9b-_97.y;_97.w=_9c-_97.x;}_98=_98.parentNode;}}var x=_97.x,y=_97.y,_9d="w" in _97?_97.w:(_97.w=_97.width),_9e="h" in _97?_97.h:(_74.deprecated("place.around: dijit.place.__Rectangle: { x:"+x+", y:"+y+", height:"+_97.height+", width:"+_9d+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_97.height+", w:"+_9d+" }","","2.0"),_97.h=_97.height);var _9f=[];function _a0(_a1,_a2){_9f.push({aroundCorner:_a1,corner:_a2,pos:{x:{"L":x,"R":x+_9d,"M":x+(_9d>>1)}[_a1.charAt(1)],y:{"T":y,"B":y+_9e,"M":y+(_9e>>1)}[_a1.charAt(0)]}});};_71.forEach(_94,function(pos){var ltr=_95;switch(pos){case "above-centered":_a0("TM","BM");break;case "below-centered":_a0("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":_a0(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":_a0(ltr?"TL":"TR",ltr?"TR":"TL");_a0(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":_a0(ltr?"BL":"BR",ltr?"TL":"TR");_a0(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":_a0(ltr?"TL":"TR",ltr?"BL":"BR");_a0(ltr?"TR":"TL",ltr?"BR":"BL");break;default:_a0(pos.aroundCorner,pos.corner);}});var _a3=_77(_92,_9f,_96,{w:_9d,h:_9e});_a3.aroundNodePos=_97;return _a3;}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/touch","dojo/_base/window","dojo/window","./registry","./focus","./popup","./_FocusMixin"],function(_a4,_a5,_a6,dom,_a7,_a8,_a9,_aa,has,_ab,_ac,_ad,win,_ae,_af,_b0,_b1,_b2){return _a4("dijit._HasDropDown",_b2,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}e.preventDefault();this._docHandler=this.connect(win.doc,_ad.release,"_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _b3=this.dropDown,_b4=false;if(e&&this._opened){var c=_a9.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_b4){if(_a8.contains(t,"dijitPopup")){_b4=true;}else{t=t.parentNode;}}if(_b4){t=e.target;if(_b3.onItemClick){var _b5;while(t&&!(_b5=_af.byNode(t))){t=t.parentNode;}if(_b5&&_b5.onClick&&_b5.getParent){_b5.getParent().onItemClick(_b5,e);}}return;}}}if(this._opened){if(_b3.focus&&_b3.autoFocus!==false){window.setTimeout(_ac.hitch(_b3,"focus"),1);}}else{setTimeout(_ac.hitch(this,"focus"),0);}if(has("ios")){this._justGotMouseUp=true;setTimeout(_ac.hitch(this,function(){this._justGotMouseUp=false;}),0);}},_onDropDownClick:function(e){if(has("ios")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_a6.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _b6={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_a8.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_b6+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,_ad.press,"_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup","_onKeyUp");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_b7=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_a6.stop(e);return;}}if(d&&this._opened&&e.charOrCode==_ab.ESCAPE){this.closeDropDown();_a6.stop(e);}else{if(!this._opened&&(e.charOrCode==_ab.DOWN_ARROW||((e.charOrCode==_ab.ENTER||e.charOrCode==" ")&&((_b7.tagName||"").toLowerCase()!=="input"||(_b7.type&&_b7.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_a6.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){setTimeout(_ac.hitch(d,"focus"),1);}}},_onBlur:function(){var _b8=_b0.curNode&&this.dropDown&&dom.isDescendant(_b0.curNode,this.dropDown.domNode);this.closeDropDown(_b8);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_b9){_b9();},loadAndOpenDropDown:function(){var d=new _a5(),_ba=_ac.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_ba);}else{_ba();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _bb=this.dropDown,_bc=_bb.domNode,_bd=this._aroundNode||this.domNode,_be=this;if(!this._preparedNode){this._preparedNode=true;if(_bc.style.width){this._explicitDDWidth=true;}if(_bc.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _bf={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_bf.width="";}if(!this._explicitDDHeight){_bf.height="";}_aa.set(_bc,_bf);var _c0=this.maxHeight;if(_c0==-1){var _c1=_ae.getBox(),_c2=_a9.position(_bd,false);_c0=Math.floor(Math.max(_c2.y,_c1.h-(_c2.y+_c2.h)));}_b1.moveOffScreen(_bb);if(_bb.startup&&!_bb._started){_bb.startup();}var mb=_a9.getMarginSize(_bc);var _c3=(_c0&&mb.h>_c0);_aa.set(_bc,{overflowX:"hidden",overflowY:_c3?"auto":"hidden"});if(_c3){mb.h=_c0;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_bd.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_bd.offsetWidth);}else{delete mb.w;}}if(_ac.isFunction(_bb.resize)){_bb.resize(mb);}else{_a9.setMarginBox(_bc,mb);}}var _c4=_b1.open({parent:this,popup:_bb,around:_bd,orient:this.dropDownPosition,onExecute:function(){_be.closeDropDown(true);},onCancel:function(){_be.closeDropDown(true);},onClose:function(){_a7.set(_be._popupStateNode,"popupActive",false);_a8.remove(_be._popupStateNode,"dijitHasDropDownOpen");_be._opened=false;}});_a7.set(this._popupStateNode,"popupActive","true");_a8.add(_be._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _c4;},closeDropDown:function(_c5){if(this._opened){if(_c5){this.focus();}_b1.close(this.dropDown);this._opened=false;}}});});},"dijit/_editor/plugins/EnterKeyHandling":function(){define("dijit/_editor/plugins/EnterKeyHandling",["dojo/_base/declare","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range","../selection"],function(_c6,_c7,_c8,_c9,_ca,has,win,_cb,_cc,_cd,_ce,_cf){return _c6("dijit._editor.plugins.EnterKeyHandling",_cc,{blockNodeForEnter:"BR",constructor:function(_d0){if(_d0){if("blockNodeForEnter" in _d0){_d0.blockNodeForEnter=_d0.blockNodeForEnter.toUpperCase();}_ca.mixin(this,_d0);}},setEditor:function(_d1){if(this.editor===_d1){return;}this.editor=_d1;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_d1.onLoadDeferred.then(_ca.hitch(this,function(d){this.connect(_d1.document,"onkeypress",function(e){if(e.charOrCode==_c9.ENTER){var ne=_ca.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){_c8.stop(e);}}});if(has("ie")==9){this.connect(_d1.document,"onpaste",function(e){setTimeout(dojo.hitch(this,function(){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();r.move("character",1);r.select();}),0);});}return d;}));}else{if(this.blockNodeForEnter){var h=_ca.hitch(this,this.handleEnterKey);_d1.addKeyHandler(13,0,0,h);_d1.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},onKeyPressed:function(){if(this._checkListLater){if(win.withGlobal(this.editor.window,"isCollapsed",dijit)){var _d2=win.withGlobal(this.editor.window,"getAncestorElement",_cf,["LI"]);if(!_d2){_cd.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _d3=win.withGlobal(this.editor.window,"getAncestorElement",_cf,[this.blockNodeForEnter]);if(_d3){_d3.innerHTML=this.bogusHtmlContent;if(has("ie")){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(has("mozilla")){if(_d2.parentNode.parentNode.nodeName=="LI"){_d2=_d2.parentNode.parentNode;}}var fc=_d2.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_d2.insertBefore(fc.ownerDocument.createTextNode(" "),fc);var _d4=_ce.create(this.editor.window);_d4.setStart(_d2.firstChild,0);var _d5=_ce.getSelection(this.editor.window,true);_d5.removeAllRanges();_d5.addRange(_d4);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _d6,_d7,_d8,_d9,_da,_db,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _dc=win.withGlobal(this.editor.window,"getParentElement",_cf);var _dd=_ce.getAncestor(_dc,this.blockNodes);if(_dd){if(_dd.tagName=="LI"){return true;}_d6=_ce.getSelection(this.editor.window);_d7=_d6.getRangeAt(0);if(!_d7.collapsed){_d7.deleteContents();_d6=_ce.getSelection(this.editor.window);_d7=_d6.getRangeAt(0);}if(_ce.atBeginningOfContainer(_dd,_d7.startContainer,_d7.startOffset)){br=doc.createElement("br");_d8=_ce.create(this.editor.window);_dd.insertBefore(br,_dd.firstChild);_d8.setStartAfter(br);_d6.removeAllRanges();_d6.addRange(_d8);}else{if(_ce.atEndOfContainer(_dd,_d7.startContainer,_d7.startOffset)){_d8=_ce.create(this.editor.window);br=doc.createElement("br");_dd.appendChild(br);_dd.appendChild(doc.createTextNode(" "));_d8.setStart(_dd.lastChild,0);_d6.removeAllRanges();_d6.addRange(_d8);}else{rs=_d7.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;win.withGlobal(this.editor.window,function(){_d9=doc.createTextNode(txt.substring(0,_d7.startOffset));_da=doc.createTextNode(txt.substring(_d7.startOffset));_db=doc.createElement("br");if(_da.nodeValue==""&&has("webkit")){_da=doc.createTextNode(" ");}_c7.place(_d9,rs,"after");_c7.place(_db,_d9,"after");_c7.place(_da,_db,"after");_c7.destroy(rs);_d8=_ce.create();_d8.setStart(_da,0);_d6.removeAllRanges();_d6.addRange(_d8);});return false;}return true;}}}else{_d6=_ce.getSelection(this.editor.window);if(_d6.rangeCount){_d7=_d6.getRangeAt(0);if(_d7&&_d7.startContainer){if(!_d7.collapsed){_d7.deleteContents();_d6=_ce.getSelection(this.editor.window);_d7=_d6.getRangeAt(0);}rs=_d7.startContainer;if(rs&&rs.nodeType==3){win.withGlobal(this.editor.window,_ca.hitch(this,function(){var _de=false;var _df=_d7.startOffset;if(rs.length<_df){ret=this._adjustNodeAndOffset(rs,_df);rs=ret.node;_df=ret.offset;}txt=rs.nodeValue;_d9=doc.createTextNode(txt.substring(0,_df));_da=doc.createTextNode(txt.substring(_df));_db=doc.createElement("br");if(!_da.length){_da=doc.createTextNode(" ");_de=true;}if(_d9.length){_c7.place(_d9,rs,"after");}else{_d9=rs;}_c7.place(_db,_d9,"after");_c7.place(_da,_db,"after");_c7.destroy(rs);_d8=_ce.create();_d8.setStart(_da,0);_d8.setEnd(_da,_da.length);_d6.removeAllRanges();_d6.addRange(_d8);if(_de&&!has("webkit")){_cf.remove();}else{_cf.collapse(true);}}));}else{var _e0;if(_d7.startOffset>=0){_e0=rs.childNodes[_d7.startOffset];}win.withGlobal(this.editor.window,_ca.hitch(this,function(){var _e1=doc.createElement("br");var _e2=doc.createTextNode(" ");if(!_e0){rs.appendChild(_e1);rs.appendChild(_e2);}else{_c7.place(_e1,_e0,"before");_c7.place(_e2,_e1,"after");}_d8=_ce.create(win.global);_d8.setStart(_e2,0);_d8.setEnd(_e2,_e2.length);_d6.removeAllRanges();_d6.addRange(_d8);_cf.collapse(true);}));}}}else{_cd.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _e3=true;_d6=_ce.getSelection(this.editor.window);_d7=_d6.getRangeAt(0);if(!_d7.collapsed){_d7.deleteContents();_d6=_ce.getSelection(this.editor.window);_d7=_d6.getRangeAt(0);}var _e4=_ce.getBlockAncestor(_d7.endContainer,null,this.editor.editNode);var _e5=_e4.blockNode;if((this._checkListLater=(_e5&&(_e5.nodeName=="LI"||_e5.parentNode.nodeName=="LI")))){if(has("mozilla")){this._pressedEnterInBlock=_e5;}if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_e5.innerHTML)){_e5.innerHTML="";if(has("webkit")){_d8=_ce.create(this.editor.window);_d8.setStart(_e5,0);_d6.removeAllRanges();_d6.addRange(_d8);}this._checkListLater=false;}return true;}if(!_e4.blockNode||_e4.blockNode===this.editor.editNode){try{_cd.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_e4={blockNode:win.withGlobal(this.editor.window,"getAncestorElement",_cf,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_e4.blockNode){if(_e4.blockNode!=this.editor.editNode&&(!(_e4.blockNode.textContent||_e4.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_e4.blockNode);return false;}}else{_e4.blockNode=this.editor.editNode;}_d6=_ce.getSelection(this.editor.window);_d7=_d6.getRangeAt(0);}var _e6=doc.createElement(this.blockNodeForEnter);_e6.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_e4.blockNode);var _e7=_d7.endOffset;var _e8=_d7.endContainer;if(_e8.length<_e7){var ret=this._adjustNodeAndOffset(_e8,_e7);_e8=ret.node;_e7=ret.offset;}if(_ce.atEndOfContainer(_e4.blockNode,_e8,_e7)){if(_e4.blockNode===_e4.blockContainer){_e4.blockNode.appendChild(_e6);}else{_c7.place(_e6,_e4.blockNode,"after");}_e3=false;_d8=_ce.create(this.editor.window);_d8.setStart(_e6,0);_d6.removeAllRanges();_d6.addRange(_d8);if(this.editor.height){_cb.scrollIntoView(_e6);}}else{if(_ce.atBeginningOfContainer(_e4.blockNode,_d7.startContainer,_d7.startOffset)){_c7.place(_e6,_e4.blockNode,_e4.blockNode===_e4.blockContainer?"first":"before");if(_e6.nextSibling&&this.editor.height){_d8=_ce.create(this.editor.window);_d8.setStart(_e6.nextSibling,0);_d6.removeAllRanges();_d6.addRange(_d8);_cb.scrollIntoView(_e6.nextSibling);}_e3=false;}else{if(_e4.blockNode===_e4.blockContainer){_e4.blockNode.appendChild(_e6);}else{_c7.place(_e6,_e4.blockNode,"after");}_e3=false;if(_e4.blockNode.style){if(_e6.style){if(_e4.blockNode.style.cssText){_e6.style.cssText=_e4.blockNode.style.cssText;}}}rs=_d7.startContainer;var _e9;if(rs&&rs.nodeType==3){var _ea,_eb;_e7=_d7.endOffset;if(rs.length<_e7){ret=this._adjustNodeAndOffset(rs,_e7);rs=ret.node;_e7=ret.offset;}txt=rs.nodeValue;_d9=doc.createTextNode(txt.substring(0,_e7));_da=doc.createTextNode(txt.substring(_e7,txt.length));_c7.place(_d9,rs,"before");_c7.place(_da,rs,"after");_c7.destroy(rs);var _ec=_d9.parentNode;while(_ec!==_e4.blockNode){var tg=_ec.tagName;var _ed=doc.createElement(tg);if(_ec.style){if(_ed.style){if(_ec.style.cssText){_ed.style.cssText=_ec.style.cssText;}}}if(_ec.tagName==="FONT"){if(_ec.color){_ed.color=_ec.color;}if(_ec.face){_ed.face=_ec.face;}if(_ec.size){_ed.size=_ec.size;}}_ea=_da;while(_ea){_eb=_ea.nextSibling;_ed.appendChild(_ea);_ea=_eb;}_c7.place(_ed,_ec,"after");_d9=_ec;_da=_ed;_ec=_ec.parentNode;}_ea=_da;if(_ea.nodeType==1||(_ea.nodeType==3&&_ea.nodeValue)){_e6.innerHTML="";}_e9=_ea;while(_ea){_eb=_ea.nextSibling;_e6.appendChild(_ea);_ea=_eb;}}_d8=_ce.create(this.editor.window);var _ee;var _ef=_e9;if(this.blockNodeForEnter!=="BR"){while(_ef){_ee=_ef;_eb=_ef.firstChild;_ef=_eb;}if(_ee&&_ee.parentNode){_e6=_ee.parentNode;_d8.setStart(_e6,0);_d6.removeAllRanges();_d6.addRange(_d8);if(this.editor.height){_cb.scrollIntoView(_e6);}if(has("mozilla")){this._pressedEnterInBlock=_e4.blockNode;}}else{_e3=true;}}else{_d8.setStart(_e6,0);_d6.removeAllRanges();_d6.addRange(_d8);if(this.editor.height){_cb.scrollIntoView(_e6);}if(has("mozilla")){this._pressedEnterInBlock=_e4.blockNode;}}}}return _e3;},_adjustNodeAndOffset:function(_f0,_f1){while(_f0.length<_f1&&_f0.nextSibling&&_f0.nextSibling.nodeType==3){_f1=_f1-_f0.length;_f0=_f0.nextSibling;}return {"node":_f0,"offset":_f1};},removeTrailingBr:function(_f2){var _f3=/P|DIV|LI/i.test(_f2.tagName)?_f2:_cf.getParentOfType(_f2,["P","DIV","LI"]);if(!_f3){return;}if(_f3.lastChild){if((_f3.childNodes.length>1&&_f3.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(_f3.lastChild.nodeValue))||_f3.lastChild.tagName=="BR"){_c7.destroy(_f3.lastChild);}}if(!_f3.childNodes.length){_f3.innerHTML=this.bogusHtmlContent;}}});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","."],function(_f4,_f5,dom,_f6,_f7,_f8,_f9,on,_fa,has,_fb,_fc,win,_fd,_fe,_ff,_100){var _101=_f5([_fb,_f8],{curNode:null,activeStack:[],constructor:function(){var _102=_f9.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_f4.before(_f7,"empty",_102);_f4.before(_f7,"destroy",_102);},registerIframe:function(_103){return this.registerWin(_103.contentWindow,_103);},registerWin:function(_104,_105){var _106=this;var _107=function(evt){_106._justMouseDowned=true;setTimeout(function(){_106._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_106._onTouchNode(_105||evt.target||evt.srcElement,"mouse");};var doc=has("ie")?_104.document.documentElement:_104.document;if(doc){if(has("ie")){_104.document.body.attachEvent("onmousedown",_107);var _108=function(evt){var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_fe.isTabNavigable(evt.srcElement)){_106._onFocusNode(_105||evt.srcElement);}else{_106._onTouchNode(_105||evt.srcElement);}};doc.attachEvent("onactivate",_108);var _109=function(evt){_106._onBlurNode(_105||evt.srcElement);};doc.attachEvent("ondeactivate",_109);return {remove:function(){_104.document.detachEvent("onmousedown",_107);doc.detachEvent("onactivate",_108);doc.detachEvent("ondeactivate",_109);doc=null;}};}else{doc.body.addEventListener("mousedown",_107,true);doc.body.addEventListener("touchstart",_107,true);var _10a=function(evt){_106._onFocusNode(_105||evt.target);};doc.addEventListener("focus",_10a,true);var _10b=function(evt){_106._onBlurNode(_105||evt.target);};doc.addEventListener("blur",_10b,true);return {remove:function(){doc.body.removeEventListener("mousedown",_107,true);doc.body.removeEventListener("touchstart",_107,true);doc.removeEventListener("focus",_10a,true);doc.removeEventListener("blur",_10b,true);doc=null;}};}}},_onBlurNode:function(){this.set("prevNode",this.curNode);this.set("curNode",null);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(_f9.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);this.prevNode=null;}),100);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _10c=[];try{while(node){var _10d=_f6.get(node,"dijitPopupParent");if(_10d){node=_ff.byId(_10d).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_fd.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_10e=id&&_ff.byId(id);if(_10e&&!(by=="mouse"&&_10e.get("disabled"))){_10c.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_10c,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("curNode",node);},_setStack:function(_10f,by){var _110=this.activeStack;this.set("activeStack",_10f);for(var _111=0;_111<Math.min(_110.length,_10f.length);_111++){if(_110[_111]!=_10f[_111]){break;}}var _112;for(var i=_110.length-1;i>=_111;i--){_112=_ff.byId(_110[i]);if(_112){_112._hasBeenBlurred=true;_112.set("focused",false);if(_112._focusManager==this){_112._onBlur(by);}this.emit("widget-blur",_112,by);}}for(i=_111;i<_10f.length;i++){_112=_ff.byId(_10f[i]);if(_112){_112.set("focused",true);if(_112._focusManager==this){_112._onFocus(by);}this.emit("widget-focus",_112,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _113=new _101();_fa(function(){var _114=_113.registerWin(win.doc.parentWindow||win.doc.defaultView);if(has("ie")){_fc.addOnWindowUnload(function(){_114.remove();_114=null;});}});_100.focus=function(node){_113.focus(node);};for(var attr in _113){if(!/^_/.test(attr)){_100.focus[attr]=typeof _113[attr]=="function"?_f9.hitch(_113,attr):_113[attr];}}_113.watch(function(attr,_115,_116){_100.focus[attr]=_116;});return _113;});},"dijit/hccss":function(){define("dijit/hccss",["require","dojo/_base/config","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dojo/_base/sniff","dojo/_base/window"],function(_117,_118,_119,_11a,_11b,_11c,has,win){if(has("ie")||has("mozilla")){_11c(90,function(){var div=_11a.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(_118.blankGif||_117.toUrl("dojo/resources/blank.gif"))+"\");"}},win.body());var cs=_11b.getComputedStyle(div);if(cs){var _11d=cs.backgroundImage;var _11e=(cs.borderTopColor==cs.borderRightColor)||(_11d!=null&&(_11d=="none"||_11d=="url(invalid-url:)"));if(_11e){_119.add(win.body(),"dijit_a11y");}if(has("ie")){div.outerHTML="";}else{win.body().removeChild(div);}}});}});},"esri/tasks/query":function(){define(["dijit","dojo","dojox","dojo/require!esri/tasks/_task,esri/_time"],function(_11f,dojo,_120){dojo.provide("esri.tasks.query");dojo.require("esri.tasks._task");dojo.require("esri._time");dojo.declare("esri.tasks.QueryTask",esri.tasks._Task,{constructor:function(url,_121){this._handler=dojo.hitch(this,this._handler);this._relationshipQueryHandler=dojo.hitch(this,this._relationshipQueryHandler);this._executeForIdsHandler=dojo.hitch(this,this._executeForIdsHandler);this._countHandler=dojo.hitch(this,this._countHandler);this.source=_121&&_121.source;this.gdbVersion=_121&&_121.gdbVersion;},__msigns:[{n:"execute",c:4,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForIds",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForCount",c:3,a:[{i:0,p:["geometry"]}],e:2}],onComplete:function(){},onExecuteRelationshipQueryComplete:function(){},onExecuteForIdsComplete:function(){},onExecuteForCountComplete:function(){},execute:function(_122,_123,_124,_125,_126){var _127=_126.assembly,_128=this._encode(dojo.mixin({},this._url.query,{f:"json"},_122.toJson(_127&&_127[0]))),_129=this._handler,_12a=this._errorHandler;if(this.source){var _12b={source:this.source.toJson()};_128.layer=dojo.toJson(_12b);}if(this.gdbVersion){_128.gdbVersion=this.gdbVersion;}return esri.request({url:this._url.path+"/query",content:_128,callbackParamName:"callback",load:function(r,i){_129(r,i,_123,_124,_126.dfd);},error:function(r){_12a(r,_124,_126.dfd);},callbackSuffix:_125});},executeRelationshipQuery:function(_12c,_12d,_12e){var _12f=this._encode(dojo.mixin({},this._url.query,{f:"json"},_12c.toJson())),_130=this._relationshipQueryHandler,_131=this._errorHandler;if(this.gdbVersion){_12f.gdbVersion=this.gdbVersion;}var dfd=new dojo.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/queryRelatedRecords",content:_12f,callbackParamName:"callback",load:function(r,i){_130(r,i,_12d,_12e,dfd);},error:function(r){_131(r,_12e,dfd);}});return dfd;},executeForIds:function(_132,_133,_134,_135){var _136=_135.assembly,_137=this._encode(dojo.mixin({},this._url.query,{f:"json",returnIdsOnly:true},_132.toJson(_136&&_136[0]))),_138=this._executeForIdsHandler,_139=this._errorHandler;if(this.source){var _13a={source:this.source.toJson()};_137.layer=dojo.toJson(_13a);}if(this.gdbVersion){_137.gdbVersion=this.gdbVersion;}return esri.request({url:this._url.path+"/query",content:_137,callbackParamName:"callback",load:function(r,i){_138(r,i,_133,_134,_135.dfd);},error:function(r){_139(r,_134,_135.dfd);}});},executeForCount:function(_13b,_13c,_13d,_13e){var _13f=_13e.assembly,_140=this._encode(dojo.mixin({},this._url.query,{f:"json",returnIdsOnly:true,returnCountOnly:true},_13b.toJson(_13f&&_13f[0]))),_141=this._countHandler,_142=this._errorHandler;if(this.source){var _143={source:this.source.toJson()};_140.layer=dojo.toJson(_143);}if(this.gdbVersion){_140.gdbVersion=this.gdbVersion;}return esri.request({url:this._url.path+"/query",content:_140,callbackParamName:"callback",load:function(r,i){_141(r,i,_13c,_13d,_13e.dfd);},error:function(r){_142(r,_13d,_13e.dfd);}});},_handler:function(_144,io,_145,_146,dfd){try{var _147=new esri.tasks.FeatureSet(_144);this._successHandler([_147],"onComplete",_145,dfd);}catch(err){this._errorHandler(err,_146,dfd);}},_relationshipQueryHandler:function(_148,io,_149,_14a,dfd){try{var gt=_148.geometryType,sr=_148.spatialReference,_14b={};dojo.forEach(_148.relatedRecordGroups,function(gr){var _14c={};_14c.geometryType=gt;_14c.spatialReference=sr;_14c.features=gr.relatedRecords;var fset=new esri.tasks.FeatureSet(_14c);_14b[gr.objectId]=fset;});this._successHandler([_14b],"onExecuteRelationshipQueryComplete",_149,dfd);}catch(err){this._errorHandler(err,_14a,dfd);}},_executeForIdsHandler:function(_14d,io,_14e,_14f,dfd){try{this._successHandler([_14d.objectIds],"onExecuteForIdsComplete",_14e,dfd);}catch(err){this._errorHandler(err,_14f,dfd);}},_countHandler:function(_150,io,_151,_152,dfd){try{var _153,_154=_150.features,ids=_150.objectIds;if(ids){_153=ids.length;}else{if(_154){throw new Error(esri.bundle.tasks.query.invalid);}else{_153=_150.count;}}this._successHandler([_153],"onExecuteForCountComplete",_151,dfd);}catch(err){this._errorHandler(err,_152,dfd);}}});esri._createWrappers("esri.tasks.QueryTask");dojo.declare("esri.tasks.Query",null,{constructor:function(){this.spatialRelationship=esri.tasks.Query.SPATIAL_REL_INTERSECTS;},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:false,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,toJson:function(_155){var json={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},g=_155&&_155["geometry"]||this.geometry,ids=this.objectIds,_156=this.outFields,_157=this.outSpatialReference,_158=this.groupByFieldsForStatistics,_159=this.orderByFields,_15a=this.outStatistics;if(g){json.geometry=g;json.geometryType=esri.geometry.getJsonType(g);json.inSR=g.spatialReference.wkid||dojo.toJson(g.spatialReference.toJson());}if(ids){json.objectIds=ids.join(",");}if(_156){json.outFields=_156.join(",");}if(_158){json.groupByFieldsForStatistics=_158.join(",");}if(_159){json.orderByFields=_159.join(",");}if(_15a){var _15b=[];dojo.forEach(_15a,function(item,idx){_15b.push(item.toJson());});json.outStatistics=dojo.toJson(_15b);}if(_157!==null){json.outSR=_157.wkid||dojo.toJson(_157.toJson());}else{if(g){json.outSR=g.spatialReference.wkid||dojo.toJson(g.spatialReference.toJson());}}var _15c=this.timeExtent;json.time=_15c?_15c.toJson().join(","):null;var _15d=this.relationParam;if(_15d&&this.spatialRelationship===esri.tasks.Query.SPATIAL_REL_RELATION){json.relationParam=_15d;}json._ts=this._ts;return json;}});dojo.mixin(esri.tasks.Query,esri.tasks._SpatialRelationship);dojo.declare("esri.tasks.RelationshipQuery",null,{definitionExpression:"",relationshipId:null,returnGeometry:false,objectIds:null,outSpatialReference:null,outFields:null,toJson:function(){var json={definitionExpression:this.definitionExpression,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},_15e=this.objectIds,_15f=this.outFields,_160=this.outSpatialReference;if(_15e){json.objectIds=_15e.join(",");}if(_15f){json.outFields=_15f.join(",");}if(_160){json.outSR=_160.toJson();}json._ts=this._ts;return json;}});dojo.declare("esri.tasks.StatisticDefinition",null,{statisticType:null,onStatisticField:null,outStatisticFieldName:null,toJson:function(){var json={statisticType:this.statisticType,onStatisticField:this.onStatisticField};if(this.outStatisticFieldName){json.outStatisticFieldName=this.outStatisticFieldName;}return json;}});});},"dijit/form/_ComboBoxMenuMixin":function(){define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/_base/window","dojo/i18n!./nls/ComboBox"],function(_161,_162,_163,i18n,win){return _162("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_164){this.value=_164;this.onChange(_164);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_165){var _166=this._createMenuItem();var _167=_165(item);if(_167.html){_166.innerHTML=_167.label;}else{_166.appendChild(win.doc.createTextNode(_167.label));}if(_166.innerHTML==""){_166.innerHTML="&#160;";}this.applyTextDir(_166,(_166.innerText||_166.textContent||""));return _166;},createOptions:function(_168,_169,_16a){this.items=_168;this.previousButton.style.display=(_169.start==0)?"none":"";_163.set(this.previousButton,"id",this.id+"_prev");_161.forEach(_168,function(item,i){var _16b=this._createOption(item,_16a);_16b.setAttribute("item",i);_163.set(_16b,"id",this.id+i);this.nextButton.parentNode.insertBefore(_16b,this.nextButton);},this);var _16c=false;if(_168.total&&!_168.total.then&&_168.total!=-1){if((_169.start+_169.count)<_168.total){_16c=true;}else{if((_169.start+_169.count)>_168.total&&_169.count==_168.length){_16c=true;}}}else{if(_169.count==_168.length){_16c=true;}}this.nextButton.style.display=_16c?"":"none";_163.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _16d=this.containerNode;while(_16d.childNodes.length>2){_16d.removeChild(_16d.childNodes[_16d.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this._getSelectedAttr();}});});},"dojo/parser":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./query","./on","./ready"],function(dojo,_16e,_16f,_170,_171,_172,_173,_174,_175,_176,don){new Date("X");var _177={"dom-attributes-explicit":document.createElement("div").attributes.length<40};function has(_178){return _177[_178];};dojo.parser=new function(){var _179={};function _17a(_17b){var map={};for(var name in _17b){if(name.charAt(0)=="_"){continue;}map[name.toLowerCase()]=name;}return map;};_174.after(_16e,"extend",function(){_179={};},true);var _17c={};this._functionFromScript=function(_17d,_17e){var _17f="";var _180="";var _181=(_17d.getAttribute(_17e+"args")||_17d.getAttribute("args"));if(_181){_16f.forEach(_181.split(/\s*,\s*/),function(part,idx){_17f+="var "+part+" = arguments["+idx+"]; ";});}var _182=_17d.getAttribute("with");if(_182&&_182.length){_16f.forEach(_182.split(/\s*,\s*/),function(part){_17f+="with("+part+"){";_180+="}";});}return new Function(_17f+_17d.innerHTML+_180);};this.instantiate=function(_183,_184,args){var _185=[],_184=_184||{};args=args||{};var _186=(args.scope||dojo._scopeName)+"Type",_187="data-"+(args.scope||dojo._scopeName)+"-",_188=_187+"type",_189=_187+"props",_18a=_187+"attach-point",_18b=_187+"attach-event",_18c=_187+"id";var _18d={};_16f.forEach([_189,_188,_186,_18c,"jsId",_18a,_18b,"dojoAttachPoint","dojoAttachEvent","class","style"],function(name){_18d[name.toLowerCase()]=name.replace(args.scope,"dojo");});_16f.forEach(_183,function(obj){if(!obj){return;}var node=obj.node||obj,type=_186 in _184?_184[_186]:obj.node?obj.type:(node.getAttribute(_188)||node.getAttribute(_186)),ctor=_17c[type]||(_17c[type]=_16e.getObject(type)),_18e=ctor&&ctor.prototype;if(!ctor){throw new Error("Could not load class '"+type);}var _18f={};if(args.defaults){_16e.mixin(_18f,args.defaults);}if(obj.inherited){_16e.mixin(_18f,obj.inherited);}var _190;if(has("dom-attributes-explicit")){_190=node.attributes;}else{var _191=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_192=_191.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*/,"").replace(/>.*$/,"");_190=_16f.map(_192.split(/\s+/),function(name){var _193=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_193=="enctype"?node.getAttribute(_193):node.getAttributeNode(_193).value,specified:true};});}var i=0,item;while(item=_190[i++]){if(!item||!item.specified){continue;}var name=item.name,_194=name.toLowerCase(),_195=item.value;if(_194 in _18d){switch(_18d[_194]){case "data-dojo-props":var _196=_195;break;case "data-dojo-id":case "jsId":var _197=_195;break;case "data-dojo-attach-point":case "dojoAttachPoint":_18f.dojoAttachPoint=_195;break;case "data-dojo-attach-event":case "dojoAttachEvent":_18f.dojoAttachEvent=_195;break;case "class":_18f["class"]=node.className;break;case "style":_18f["style"]=node.style&&node.style.cssText;break;}}else{if(!(name in _18e)){var map=(_179[type]||(_179[type]=_17a(_18e)));name=map[_194]||name;}if(name in _18e){switch(typeof _18e[name]){case "string":_18f[name]=_195;break;case "number":_18f[name]=_195.length?Number(_195):NaN;break;case "boolean":_18f[name]=_195.toLowerCase()!="false";break;case "function":if(_195===""||_195.search(/[^\w\.]+/i)!=-1){_18f[name]=new Function(_195);}else{_18f[name]=_16e.getObject(_195,false)||new Function(_195);}break;default:var pVal=_18e[name];_18f[name]=(pVal&&"length" in pVal)?(_195?_195.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_195==""?new Date(""):_195=="now"?new Date():_175.fromISOString(_195)):(pVal instanceof dojo._Url)?(dojo.baseUrl+_195):_173.fromJson(_195);}}else{_18f[name]=_195;}}}if(_196){try{_196=_173.fromJson.call(args.propsThis,"{"+_196+"}");_16e.mixin(_18f,_196);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_196+"'");}}_16e.mixin(_18f,_184);var _198=obj.node?obj.scripts:(ctor&&(ctor._noScript||_18e._noScript)?[]:_176("> script[type^='dojo/']",node));var _199=[],_19a=[],_19b=[],on=[];if(_198){for(i=0;i<_198.length;i++){var _19c=_198[i];node.removeChild(_19c);var _19d=(_19c.getAttribute(_187+"event")||_19c.getAttribute("event")),prop=_19c.getAttribute(_187+"prop"),type=_19c.getAttribute("type"),nf=this._functionFromScript(_19c,_187);if(_19d){if(type=="dojo/connect"){_199.push({event:_19d,func:nf});}else{if(type=="dojo/on"){on.push({event:_19d,func:nf});}else{_18f[_19d]=nf;}}}else{if(type=="dojo/watch"){_19b.push({prop:prop,func:nf});}else{_19a.push(nf);}}}}var _19e=ctor.markupFactory||_18e.markupFactory;var _19f=_19e?_19e(_18f,node,ctor):new ctor(_18f,node);_185.push(_19f);if(_197){_16e.setObject(_197,_19f);}for(i=0;i<_199.length;i++){_174.after(_19f,_199[i].event,dojo.hitch(_19f,_199[i].func),true);}for(i=0;i<_19a.length;i++){_19a[i].call(_19f);}for(i=0;i<_19b.length;i++){_19f.watch(_19b[i].prop,_19b[i].func);}for(i=0;i<on.length;i++){don(_19f,on[i].event,on[i].func);}},this);if(!_184._started){_16f.forEach(_185,function(_1a0){if(!args.noStart&&_1a0&&_16e.isFunction(_1a0.startup)&&!_1a0._started){_1a0.startup();}});}return _185;};this.parse=function(_1a1,args){var root;if(!args&&_1a1&&_1a1.rootNode){args=_1a1;root=args.rootNode;}else{root=_1a1;}root=root?_170.byId(root):_171.body();args=args||{};var _1a2=(args.scope||dojo._scopeName)+"Type",_1a3="data-"+(args.scope||dojo._scopeName)+"-",_1a4=_1a3+"type",_1a5=_1a3+"textdir";var list=[];var node=root.firstChild;var _1a6=args&&args.inherited;if(!_1a6){function _1a7(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node!==_171.doc&&node!==_171.doc.documentElement&&node.parentNode?_1a7(node.parentNode,attr):null);};_1a6={dir:_1a7(root,"dir"),lang:_1a7(root,"lang"),textDir:_1a7(root,_1a5)};for(var key in _1a6){if(!_1a6[key]){delete _1a6[key];}}}var _1a8={inherited:_1a6};var _1a9;var _1aa;function _1ab(_1ac){if(!_1ac.inherited){_1ac.inherited={};var node=_1ac.node,_1ad=_1ab(_1ac.parent);var _1ae={dir:node.getAttribute("dir")||_1ad.dir,lang:node.getAttribute("lang")||_1ad.lang,textDir:node.getAttribute(_1a5)||_1ad.textDir};for(var key in _1ae){if(_1ae[key]){_1ac.inherited[key]=_1ae[key];}}}return _1ac.inherited;};while(true){if(!node){if(!_1a8||!_1a8.node){break;}node=_1a8.node.nextSibling;_1a9=_1a8.scripts;_1aa=false;_1a8=_1a8.parent;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1a9&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1a9.push(node);}node=node.nextSibling;continue;}if(_1aa){node=node.nextSibling;continue;}var type=node.getAttribute(_1a4)||node.getAttribute(_1a2);var _1af=node.firstChild;if(!type&&(!_1af||(_1af.nodeType==3&&!_1af.nextSibling))){node=node.nextSibling;continue;}var _1b0={node:node,scripts:_1a9,parent:_1a8};var ctor=type&&(_17c[type]||(_17c[type]=_16e.getObject(type))),_1b1=ctor&&!ctor.prototype._noScript?[]:null;if(type){list.push({"type":type,node:node,scripts:_1b1,inherited:_1ab(_1b0)});}node=_1af;_1a9=_1b1;_1aa=ctor&&ctor.prototype.stopParser&&!(args&&args.template);_1a8=_1b0;}var _1b2=args&&args.template?{template:true}:null;return this.instantiate(list,_1b2,args);};}();if(dojo.config.parseOnLoad){dojo.ready(100,dojo.parser,"parse");}return dojo.parser;});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\r\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\r\n\t\tdata-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n","dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1b3,_1b4,_1b5,_1b6){return _1b3("dijit.form.ToggleButton",[_1b5,_1b6],{baseClass:"dijitToggleButton",setChecked:function(_1b7){_1b4.deprecated("setChecked("+_1b7+") is deprecated. Use set('checked',"+_1b7+") instead.","","2.0");this.set("checked",_1b7);}});});},"dojo/date/stamp":function(){define(["../_base/kernel","../_base/lang","../_base/array"],function(dojo,lang,_1b8){lang.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_1b9,_1ba){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _1bb=dojo.date.stamp._isoRegExp.exec(_1b9),_1bc=null;if(_1bb){_1bb.shift();if(_1bb[1]){_1bb[1]--;}if(_1bb[6]){_1bb[6]*=1000;}if(_1ba){_1ba=new Date(_1ba);_1b8.forEach(_1b8.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1ba["get"+prop]();}),function(_1bd,_1be){_1bb[_1be]=_1bb[_1be]||_1bd;});}_1bc=new Date(_1bb[0]||1970,_1bb[1]||0,_1bb[2]||1,_1bb[3]||0,_1bb[4]||0,_1bb[5]||0,_1bb[6]||0);if(_1bb[0]<100){_1bc.setFullYear(_1bb[0]||1970);}var _1bf=0,_1c0=_1bb[7]&&_1bb[7].charAt(0);if(_1c0!="Z"){_1bf=((_1bb[8]||0)*60)+(Number(_1bb[9])||0);if(_1c0!="-"){_1bf*=-1;}}if(_1c0){_1bf-=_1bc.getTimezoneOffset();}if(_1bf){_1bc.setTime(_1bc.getTime()+_1bf*60000);}}return _1bc;};dojo.date.stamp.toISOString=function(_1c1,_1c2){var _1c3=function(n){return (n<10)?"0"+n:n;};_1c2=_1c2||{};var _1c4=[],_1c5=_1c2.zulu?"getUTC":"get",date="";if(_1c2.selector!="time"){var year=_1c1[_1c5+"FullYear"]();date=["0000".substr((year+"").length)+year,_1c3(_1c1[_1c5+"Month"]()+1),_1c3(_1c1[_1c5+"Date"]())].join("-");}_1c4.push(date);if(_1c2.selector!="date"){var time=[_1c3(_1c1[_1c5+"Hours"]()),_1c3(_1c1[_1c5+"Minutes"]()),_1c3(_1c1[_1c5+"Seconds"]())].join(":");var _1c6=_1c1[_1c5+"Milliseconds"]();if(_1c2.milliseconds){time+="."+(_1c6<100?"0":"")+_1c3(_1c6);}if(_1c2.zulu){time+="Z";}else{if(_1c2.selector!="time"){var _1c7=_1c1.getTimezoneOffset();var _1c8=Math.abs(_1c7);time+=(_1c7>0?"-":"+")+_1c3(Math.floor(_1c8/60))+":"+_1c3(_1c8%60);}}_1c4.push(time);}return _1c4.join("T");};return dojo.date.stamp;});},"dijit/form/NumberSpinner":function(){define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_Spinner","./NumberTextBox"],function(_1c9,_1ca,keys,_1cb,_1cc){return _1c9("dijit.form.NumberSpinner",[_1cb,_1cc.Mixin],{adjust:function(val,_1cd){var tc=this.constraints,v=isNaN(val),_1ce=!isNaN(tc.max),_1cf=!isNaN(tc.min);if(v&&_1cd!=0){val=(_1cd>0)?_1cf?tc.min:_1ce?tc.max:0:_1ce?this.constraints.max:_1cf?tc.min:0;}var _1d0=val+_1cd;if(v||isNaN(_1d0)){return val;}if(_1ce&&(_1d0>tc.max)){_1d0=tc.max;}if(_1cf&&(_1d0<tc.min)){_1d0=tc.min;}return _1d0;},_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _1d1=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(typeof _1d1=="number"){this._setValueAttr(_1d1,false);}_1ca.stop(e);}}});});},"dojo/Stateful":function(){define(["./_base/kernel","./_base/declare","./_base/lang","./_base/array"],function(dojo,_1d2,lang,_1d3){return dojo.declare("dojo.Stateful",null,{postscript:function(_1d4){if(_1d4){lang.mixin(this,_1d4);}},get:function(name){return this[name];},set:function(name,_1d5){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _1d6=this[name];this[name]=_1d5;if(this._watchCallbacks){this._watchCallbacks(name,_1d6,_1d5);}return this;},watch:function(name,_1d7){var _1d8=this._watchCallbacks;if(!_1d8){var self=this;_1d8=this._watchCallbacks=function(name,_1d9,_1da,_1db){var _1dc=function(_1dd){if(_1dd){_1dd=_1dd.slice();for(var i=0,l=_1dd.length;i<l;i++){try{_1dd[i].call(self,name,_1d9,_1da);}catch(e){console.error(e);}}}};_1dc(_1d8["_"+name]);if(!_1db){_1dc(_1d8["*"]);}};}if(!_1d7&&typeof name==="function"){_1d7=name;name="*";}else{name="_"+name;}var _1de=_1d8[name];if(typeof _1de!=="object"){_1de=_1d8[name]=[];}_1de.push(_1d7);return {unwatch:function(){_1de.splice(_1d3.indexOf(_1de,_1d7),1);}};}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_1df,_1e0,_1e1){return _1df("dijit.form.DateTextBox",_1e1,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1e0,_selector:"date",value:new Date("")});});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\r\n\t<thead>\r\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\r\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\r\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset' colspan=\"5\">\r\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\r\n\t\t\t\t</div>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\r\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t${!dayCellsHtml}\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\r\n\t\t\t${!dateRowsHtml}\r\n\t</tbody>\r\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\r\n\t\t<tr>\r\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\r\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\r\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tfoot>\r\n</table>\r\n","dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin",["dojo/_base/connect","dojo/data/util/filter","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/_base/sniff","dojo/string","dojo/_base/window","./DataList","../registry","./_TextBoxMixin"],function(_1e2,_1e3,_1e4,_1e5,_1e6,_1e7,keys,lang,_1e8,_1e9,has,_1ea,win,_1eb,_1ec,_1ed){return _1e4("dijit.form._AutoCompleterMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_1ee){var pos=0;if(typeof (_1ee.selectionStart)=="number"){pos=_1ee.selectionStart;}else{if(has("ie")){var tr=win.doc.selection.createRange().duplicate();var ntr=_1ee.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_1ef,_1f0){_1f0=parseInt(_1f0);_1ed.selectInputText(_1ef,_1f0,_1f0);},_setDisabledAttr:function(_1f1){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_1f1);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_onInput:function(evt){this.inherited(arguments);if(evt.charOrCode==229){this._onKey(evt);}},_onKey:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT){return;}var _1f2=false;var pw=this.dropDown;var _1f3=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_1f3=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_1f3);}_1e7.stop(evt);break;case keys.ENTER:if(_1f3){if(_1f3==pw.nextButton){this._nextSearch(1);_1e7.stop(evt);break;}else{if(_1f3==pw.previousButton){this._nextSearch(-1);_1e7.stop(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){_1e7.stop(evt);}case keys.TAB:var _1f4=this.get("displayedValue");if(pw&&(_1f4==pw._messages["previousMessage"]||_1f4==pw._messages["nextMessage"])){break;}if(_1f3){this._selectOption(_1f3);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case " ":if(_1f3){_1e7.stop(evt);this._selectOption(_1f3);this.closeDropDown();}else{_1f2=true;}break;case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;_1f2=true;break;default:_1f2=typeof key=="string"||key==229;}if(_1f2){this.item=undefined;this.searchTimer=setTimeout(lang.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;_1ed.selectInputText(fn,fn.value.length);var _1f5=this.ignoreCase?"toLowerCase":"substr";if(text[_1f5](0).indexOf(this.focusNode.value[_1f5](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_1ed.selectInputText(fn,cpos);}}else{fn.value=text;_1ed.selectInputText(fn);}},_openResultList:function(_1f6,_1f7,_1f8){this._fetchHandle=null;if(this.disabled||this.readOnly||(_1f7[this.searchAttr]!==this._lastQuery)){return;}var _1f9=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_1f6.length&&_1f8.start==0){this.closeDropDown();return;}this.dropDown.createOptions(_1f6,_1f8,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_1f8.direction){if(1==_1f8.direction){this.dropDown.highlightFirstOption();}else{if(-1==_1f8.direction){this.dropDown.highlightLastOption();}}if(_1f9){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_1f7[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");this.focusNode.removeAttribute("aria-activedescendant");}},_setBlurValue:function(){var _1fa=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_1fa==pw._messages["previousMessage"]||_1fa==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_1fa);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}},_setItemAttr:function(item,_1fb,_1fc){var _1fd="";if(item){if(!_1fc){_1fc=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_1fd=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_1fc;}this.set("value",_1fd,_1fb,_1fc,item);},_announceOption:function(node){if(!node){return;}var _1fe;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_1fe=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_1fe=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_1fe);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_1e6.get(node,"id"));this._autoCompleteText(_1fe);},_selectOption:function(_1ff){this.closeDropDown();if(_1ff){this._announceOption(_1ff);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return _1ea.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this.dropDown){var _200=this.id+"_popup",_201=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _201({onChange:lang.hitch(this,this._selectOption),id:_200,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",_200);}this._lastInput=key;var _202=lang.clone(this.query);var _203={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_203,this.fetchProperties);var qs=this._getQueryString(key),q;if(this.store._oldAPI){q=qs;}else{q=_1e3.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_202[this.searchAttr]=q;var _204=this,_205=function(){var _206=_204._fetchHandle=_204.store.query(_202,_203);_1e5.when(_206,function(res){_204._fetchHandle=null;res.total=_206.total;_204._openResultList(res,_202,_203);},function(err){_204._fetchHandle=null;if(!_204._cancelingQuery){console.error(_204.declaredClass+" "+err.toString());_204.closeDropDown();}});};this.searchTimer=setTimeout(lang.hitch(this,function(_207,_208){this.searchTimer=null;_205();this._nextSearch=this.dropDown.onPage=function(_209){_203.start+=_203.count*_209;_203.direction=_209;_205();_208.focus();};},_202,this),this.searchDelay);},_getValueField:function(){return this.searchAttr;},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _20a=this.srcNodeRef;var list=this.list;if(list){this.store=_1ec.byId(list);}else{this.store=new _1eb({},_20a);}if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _20b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_20b):item[_20b];}}}this.inherited(arguments);},postCreate:function(){var _20c=_1e8("label[for=\""+this.id+"\"]");if(_20c.length){_20c[0].id=(this.id+"_label");this.domNode.setAttribute("aria-labelledby",_20c[0].id);}this.inherited(arguments);},_getMenuLabelFromItem:function(item){var _20d=this.labelFunc(item,this.store),_20e=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_20d=this.doHighlight(_20d,this._escapeHtml(this._lastInput));_20e="html";}return {html:_20e=="html",label:_20d};},doHighlight:function(_20f,find){var _210=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_1e9.escapeString(find);return this._escapeHtml(_20f).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_210),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_211){return (_211._oldAPI?_211.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_212,_213,_214,item){this._set("item",item||null);if(!_212){_212="";}this.inherited(arguments);},_setTextDirAttr:function(_215){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_215);}}});});},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_216,_217,_218){return _216("dijit.form.MappedTextBox",_218,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_217.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\trole=\"combobox\"\r\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\r\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\r\n\t/></div\r\n></div>\r\n"}});define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_219,_21a,_21b,lang,_21c,_21d,_21e,_21f,_220){return _219("dijit.form.ComboBoxMixin",[_21f,_21d],{dropDownClass:_21e,hasDownArrow:true,templateString:_220,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_221){if(!_221.get){lang.mixin(_221,{_oldAPI:true,get:function(id){var _222=new _21a();this.fetchItemByIdentity({identity:id,onItem:function(_223){_222.resolve(_223);},onError:function(_224){_222.reject(_224);}});return _222.promise;},query:function(_225,_226){var _227=new _21a(function(){_228.abort&&_228.abort();});var _228=this.fetch(lang.mixin({query:_225,onBegin:function(_229){_227.total=_229;},onComplete:function(_22a){_227.resolve(_22a);},onError:function(_22b){_227.reject(_22b);}},_226));return _21c(_227);}});}this._set("store",_221);},postMixInProperties:function(){if(this.params.store){this._setStoreAttr(this.params.store);}this.inherited(arguments);if(!this.params.store){var _22c=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_21b.deprecated(_22c+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_21b.deprecated(_22c+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_21b.deprecated(_22c+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_22d){new _22d({objectStore:this}).fetch(args);}));}});}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang",".."],function(_22e,_22f,dom,_230,keys,lang,_231){var _232=_22f("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_233,_234,_235){var _236;if(_233!==undefined){_236=this.filter(_233);if(typeof _235!="string"){if(_236!==null&&((typeof _236!="number")||!isNaN(_236))){_235=this.filter(this.format(_236,this.constraints));}else{_235="";}}}if(_235!=null&&_235!=undefined&&((typeof _235)!="number"||!isNaN(_235))&&this.textbox.value!=_235){this.textbox.value=_235;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_235);}this.inherited(arguments,[_236,_234]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_237){if(_237===null||_237===undefined){_237="";}else{if(typeof _237!="string"){_237=String(_237);}}this.textbox.value=_237;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_237);}},format:function(_238){return ((_238==null||_238==undefined)?"":(_238.toString?_238.toString():_238));},parse:function(_239){return _239;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _23a=function(e){var _23b=e.charOrCode||e.keyCode||229;if(e.type=="keydown"){switch(_23b){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:return;default:if(_23b>=65&&_23b<=90){return;}}}if(e.type=="keypress"&&typeof _23b!="string"){return;}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux=lang.mixin({},e,{charOrCode:_23b,wasConsumed:false,preventDefault:function(){faux.wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){_230.stop(faux);}if(faux.wasConsumed){return;}setTimeout(lang.hitch(this,"_onInput",faux),0);};_22e.forEach(["onkeydown","onkeypress","onpaste","oncut","oninput","oncompositionend"],function(_23c){this.connect(this.textbox,_23c,_23a);},this);},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}},_isTextSelected:function(){return this.textbox.selectionStart==this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);if(this._isTextSelected()){_232.selectInputText(this.textbox);}});}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_23d){if(!this._created||this.textDir!=_23d){this._set("textDir",_23d);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_232._setSelectionRange=_231._setSelectionRange=function(_23e,_23f,stop){if(_23e.setSelectionRange){_23e.setSelectionRange(_23f,stop);}};_232.selectInputText=_231.selectInputText=function(_240,_241,stop){_240=dom.byId(_240);if(isNaN(_241)){_241=0;}if(isNaN(stop)){stop=_240.value?_240.value.length:0;}try{_240.focus();_232._setSelectionRange(_240,_241,stop);}catch(e){}};return _232;});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/_base/sniff","dojo/_base/window","./TextBox"],function(_242,_243,has,win,_244){return _242("dijit.form.SimpleTextarea",_244,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_243.add(this.textbox,"dijitTextAreaCols");}},filter:function(_245){if(_245){_245=_245.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _246=parseInt(this.maxLength);var _247=this.textbox.value.replace(/\r/g,"");var _248=_247.length-_246;if(_248>0){var _249=this.textbox;if(_249.selectionStart){var pos=_249.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_247.substring(0,pos-_248-cr)+_247.substring(pos-cr);_249.setSelectionRange(pos-_248,pos-_248);}else{if(win.doc.selection){_249.focus();var _24a=win.doc.selection.createRange();_24a.moveStart("character",-_248);_24a.text="";_24a.select();}}}}this.inherited(arguments);}});});},"dijit/_editor/plugins/TextColor":function(){define("dijit/_editor/plugins/TextColor",["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(_24b,_24c,_24d,lang,_24e,_24f){var _250=_24d("dijit._editor.plugins.TextColor",_24e,{buttonClass:_24f,useDefaultCommand:false,_initButton:function(){this.inherited(arguments);var self=this;this.button.loadDropDown=function(_251){_24b(["../../ColorPalette"],lang.hitch(this,function(_252){this.dropDown=new _252({value:self.value,onChange:function(_253){self.editor.execCommand(self.command,_253);}});_251();}));};},updateState:function(){var _254=this.editor;var _255=this.command;if(!_254||!_254.isLoaded||!_255.length){return;}if(this.button){var _256=this.get("disabled");this.button.set("disabled",_256);if(_256){return;}var _257;try{_257=_254.queryCommandValue(_255)||"";}catch(e){_257="";}}if(_257==""){_257="#000000";}if(_257=="transparent"){_257="#ffffff";}if(typeof _257=="string"){if(_257.indexOf("rgb")>-1){_257=_24c.fromRgb(_257).toHex();}}else{_257=((_257&255)<<16)|(_257&65280)|((_257&16711680)>>>16);_257=_257.toString(16);_257="#000000".slice(0,7-_257.length)+_257;}this.value=_257;var _258=this.button.dropDown;if(_258&&_257!==_258.get("value")){_258.set("value",_257,false);}}});_24e.registry["foreColor"]=function(){return new _250({command:"foreColor"});};_24e.registry["hiliteColor"]=function(){return new _250({command:"hiliteColor"});};return _250;});},"esri/dijit/AttributeInspector":function(){define(["dijit","dojo","dojox","dojo/require!dojo/fx,dojox/gfx,dijit/_Widget,dijit/_Templated,dijit/Editor,dijit/_editor/plugins/LinkDialog,dijit/_editor/plugins/TextColor,esri/dijit/editing/AttachmentEditor,esri/dijit/editing/Util,esri/tasks/query,dijit/form/DateTextBox,dijit/form/TextBox,dijit/form/NumberTextBox,dijit/form/FilteringSelect,dijit/form/NumberSpinner,dijit/form/Button,dijit/form/SimpleTextarea,dijit/Tooltip,dojo/data/ItemFileReadStore"],function(_259,dojo,_25a){dojo.provide("esri.dijit.AttributeInspector");dojo.require("dojo.fx");dojo.require("dojox.gfx");dojo.require("dijit._Widget");dojo.require("dijit._Templated");dojo.require("dijit.Editor");dojo.require("dijit._editor.plugins.LinkDialog");dojo.require("dijit._editor.plugins.TextColor");dojo.require("esri.dijit.editing.AttachmentEditor");dojo.require("esri.dijit.editing.Util");dojo.require("esri.tasks.query");dojo.require("dijit.form.DateTextBox");dojo.require("dijit.form.TextBox");dojo.require("dijit.form.NumberTextBox");dojo.require("dijit.form.FilteringSelect");dojo.require("dijit.form.NumberSpinner");dojo.require("dijit.form.Button");dojo.require("dijit.form.SimpleTextarea");dojo.require("dijit.Tooltip");dojo.require("dojo.data.ItemFileReadStore");(function(){var link=document.createElement("link");link.type="text/css";link.rel="stylesheet";link.href=dojo.moduleUrl("esri","dijit/css/AttributeInspector.css");document.getElementsByTagName("head").item(0).appendChild(link);})();dojo.declare("esri.dijit.AttributeInspector",[_259._Widget,_259._Templated],{widgetsInTemplate:true,templateString:"<div class=\"esriAttributeInspector\">\r\n    <div class=\"atiLayerName\" dojoAttachPoint=\"layerName\"></div>\r\n    <div class=\"atiAttributes\" dojoAttachPoint=\"attributeTable\"></div>\r\n    <div dojoAttachPoint=\"attachmentEditor\"></div>\r\n    <div class=\"atiEditorTrackingInfo\" dojoAttachPoint=\"editorTrackingInfoDiv\"></div>\r\n    <div class=\"atiButtons\" dojoAttachPoint=\"editButtons\">\r\n        <button  dojoType=\"dijit.form.Button\" class=\"atiButton atiDeleteButton\"  dojoAttachPoint=\"deleteBtn\" dojoAttachEvent=\"onClick: onDeleteBtn\" showLabel=\"true\" type=\"button\">${NLS_deleteFeature}</button>\r\n        <div class=\"atiNavButtons\" dojoAttachPoint=\"navButtons\">\r\n            <div class=\"atiNavMessage\" dojoAttachPoint=\"navMessage\"></div>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiFirstIcon\" dojoAttachPoint=\"firstFeatureButton\" dojoAttachEvent=\"onClick: onFirstFeature\" showLabel=\"false\" type=\"button\">${NLS_first}</button>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiPrevIcon\" dojoAttachPoint=\"prevFeatureButton\" dojoAttachEvent=\"onClick: onPreviousFeature\" showLabel=\"false\" type=\"button\">${NLS_previous}</button>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiNextIcon\" dojoAttachPoint=\"nextFeatureButton\" dojoAttachEvent=\"onClick: onNextFeature\" showLabel=\"false\" type=\"button\">${NLS_next}</button>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiLastIcon\" dojoAttachPoint=\"lastFeatureButton\" dojoAttachEvent=\"onClick: onLastFeature\" showLabel=\"false\" type=\"button\">${NLS_last}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n",_navMessage:"( ${idx} ${of} ${numFeatures} )",onUpdate:function(){},onDelete:function(){},onAttributeChange:function(){},onNext:function(){},onReset:function(){},onCancel:function(){},constructor:function(_25b,_25c){dojo.mixin(this,esri.bundle.widgets.attributeInspector);_25b=_25b||{};if(!_25b.featureLayer&&!_25b.layerInfos){console.error("esri.AttributeInspector: please provide correct parameter in the constructor");}this._userIds={};if(_25b.featureLayer&&_25b.featureLayer.credential){var _25d=_25b.featureLayer.id;this._userIds[_25d]=_25b.featureLayer.credential.userId;}else{if(_25b.layerInfos){var _25e=_25b.layerInfos;dojo.forEach(_25e,function(_25f){if(_25f.featureLayer){var _260=_25f.featureLayer.id;if(_25f.featureLayer.credential){this._userIds[_260]=_25f.featureLayer.credential.userId;}if(_25f.userId){this._userIds[_260]=_25f.userId;}}},this);}}this._datePackage=this._getDatePackage(_25b);this._layerInfos=_25b.layerInfos||[{featureLayer:_25b.featureLayer,options:_25b.options||[]}];this._aiConnects=[];this._selection=[];this._toolTips=[];this._numFeatures=0;this._featureIdx=0;this._currentLInfo=null;this._currentFeature=null;this._hideNavButtons=_25b.hideNavButtons||false;},postCreate:function(){this._initLayerInfos();this._createAttachmentEditor();this.onFirstFeature();},destroy:function(){this._destroyAttributeTable();dojo.forEach(this._aiConnects,dojo.disconnect);delete this._aiConnects;if(this._attachmentEditor){this._attachmentEditor.destroy();delete this._attachmentEditor;}delete this._layerInfos;this._selection=this._currentFeature=this._currentLInfo=this._attributes=this._layerInfos=null;this.inherited(arguments);},refresh:function(){this._updateSelection();},first:function(){this.onFirstFeature();},last:function(){this.onLastFeature();},next:function(){this.onNextFeature();},previous:function(){this.onPreviousFeature();},showFeature:function(_261,_262){if(_262){this._createOnlyFirstTime=true;}this._updateSelection([_261],_262);this._updateUI();},onLayerSelectionChange:function(_263,_264,_265){this._createOnlyFirstTime=false;this._featureIdx=(_265===esri.layers.FeatureLayer.SELECTION_NEW)?0:this._featureIdx;this._updateSelection();this._updateUI();},onLayerSelectionClear:function(){if(!this._selection||this._selection.length<=0){return;}this._numFeatures=0;this._featureIdx=0;this._selection=[];this._currentFeature=null;this._currentLInfo=null;this._updateUI();},onLayerEditsComplete:function(_266,adds,_267,_268){_268=_268||[];if(_268.length){var _269=this._selection;var _26a=_266.featureLayer.objectIdField;dojo.forEach(_268,dojo.hitch(this,function(del){dojo.some(_269,dojo.hitch(this,function(item,idx){if(item.attributes[_26a]!==del.objectId){return false;}this._selection.splice(idx,1);return true;}));}));}adds=adds||[];if(adds.length){this._selection=esri.dijit.editing.Util.LayerHelper.findFeatures(adds,_266.featureLayer);this._featureIdx=0;}var _26b=this._numFeatures=this._selection?this._selection.length:0;if(adds.length){var _26c=_26b?this._selection[this._featureIdx]:null;if(_26c){var _26d=_26c.getLayer();var _26e=_26d.getEditCapabilities();if(!(_26e.canCreate&&!_26e.canUpdate)){this._showFeature(_26c);}}}this._updateUI();},onFieldValueChange:function(_26f,_270){_270=(typeof _270==="undefined")?null:_270;var _271=_26f.field;if(_271.type==="esriFieldTypeDate"){_270=(_270&&_270.getTime)?_270.getTime():(_270&&_270.toGregorian?_270.toGregorian().getTime():_270);}if(this._currentFeature.attributes[_271.name]===_270){return;}var _272=this._currentLInfo;var _273=this._currentFeature;var _274=_271.name;if(_274===_272.typeIdField){var type=this._findFirst(_272.types,"id",_270);var _275=_272.fieldInfos;dojo.forEach(_275,function(_276){_271=_276.field;if(!_271||_271.name===_272.typeIdField){return;}var node=_276.dijit;var _277=this._setFieldDomain(node,type,_271);if(_277&&node){this._setValue(node,_273.attributes[_271.name]+"");if(node.isValid()===false){this._setValue(node,null);}}},this);}this.onAttributeChange(_273,_274,_270);},onDeleteBtn:function(evt){this._deleteFeature();},onNextFeature:function(evt){this._onNextFeature(1);},onPreviousFeature:function(evt){this._onNextFeature(-1);},onFirstFeature:function(evt){this._onNextFeature(this._featureIdx*-1);},onLastFeature:function(evt){this._onNextFeature((this._numFeatures-1)-this._featureIdx);},_initLayerInfos:function(){var _278=this._layerInfos;this._editorTrackingInfos={};dojo.forEach(_278,this._initLayerInfo,this);},_initLayerInfo:function(_279){var _27a=_279.featureLayer;this._connect(_27a,"onSelectionComplete",dojo.hitch(this,"onLayerSelectionChange",_279));this._connect(_27a,"onSelectionClear",dojo.hitch(this,"onLayerSelectionClear",_279));this._connect(_27a,"onEditsComplete",dojo.hitch(this,"onLayerEditsComplete",_279));_279.showAttachments=_27a.hasAttachments?(esri._isDefined(_279.showAttachments)?_279.showAttachments:true):false;_279.hideFields=_279.hideFields||[];_279.htmlFields=_279.htmlFields||[];_279.isEditable=_27a.isEditable()?(esri._isDefined(_279.isEditable)?_279.isEditable:true):false;_279.typeIdField=_27a.typeIdField;_279.layerId=_27a.id;_279.types=_27a.types;if(!_279.showGlobalID&&_27a.globalIdField){_279.hideFields.push(_27a.globalIdField);}if(!_279.showObjectID){_279.hideFields.push(_27a.objectIdField);}var _27b=this._getFields(_279.featureLayer);if(!_27b){return;}var _27c=_279.fieldInfos||[];_27c=dojo.map(_27c,function(_27d){return dojo.mixin({},_27d);});if(!_27c.length){_27b=dojo.filter(_27b,dojo.hitch(this,function(_27e){return !this._isInFields(_27e.name,_279.hideFields);}));_279.fieldInfos=dojo.map(_27b,dojo.hitch(this,function(_27f){var _280=(this._isInFields(_27f.name,_279.htmlFields)?esri.dijit.AttributeInspector.STRING_FIELD_OPTION_RICHTEXT:esri.dijit.AttributeInspector.STRING_FIELD_OPTION_TEXTBOX);return {"fieldName":_27f.name,"field":_27f,"stringFieldOption":_280};}));}else{_279.fieldInfos=dojo.filter(dojo.map(_27c,dojo.hitch(this,function(_281){var _282=_281.stringFieldOption||(this._isInFields(_281.fieldName,_279.htmlFields)?esri.dijit.AttributeInspector.STRING_FIELD_OPTION_RICHTEXT:esri.dijit.AttributeInspector.STRING_FIELD_OPTION_TEXTBOX);return dojo.mixin(_281,{"field":this._findFirst(_27b,"name",_281.fieldName),"stringFieldOption":_282});})),"return item.field;");}var _283=[];if(_27a.editFieldsInfo){if(_27a.editFieldsInfo.creatorField){_283.push(_27a.editFieldsInfo.creatorField);}if(_27a.editFieldsInfo.creationDateField){_283.push(_27a.editFieldsInfo.creationDateField);}if(_27a.editFieldsInfo.editorField){_283.push(_27a.editFieldsInfo.editorField);}if(_27a.editFieldsInfo.editDateField){_283.push(_27a.editFieldsInfo.editDateField);}}this._editorTrackingInfos[_27a.id]=_283;},_createAttachmentEditor:function(){this._attachmentEditor=null;var _284=this._layerInfos;var _285=dojo.filter(_284,"return item.showAttachments");if(!_285||!_285.length){return;}this._attachmentEditor=new esri.dijit.editing.AttachmentEditor({"class":"atiAttachmentEditor"},this.attachmentEditor);this._attachmentEditor.startup();},_setCurrentLInfo:function(_286){var _287=this._currentLInfo?this._currentLInfo.featureLayer:null;var _288=_286.featureLayer;if(_287&&_287.id===_288.id&&!_287.ownershipBasedAccessControlForFeatures){var _289=_288.getEditCapabilities();if(!(_289.canCreate&&!_289.canUpdate)){return;}}this._currentLInfo=_286;this._createTable();},_updateSelection:function(_28a,_28b){this._selection=_28a||[];var _28c=this._layerInfos;dojo.forEach(_28c,this._getSelection,this);var _28d=this._numFeatures=this._selection.length;var _28e=_28d?this._selection[this._featureIdx]:null;this._showFeature(_28e,_28b);},_getSelection:function(_28f){var _290=_28f.featureLayer.getSelectedFeatures();this._selection=this._selection.concat(_290);},_updateUI:function(){var _291=this._numFeatures;var _292=this._currentLInfo;this.layerName.innerHTML=(!_292||_291===0)?this.NLS_noFeaturesSelected:(_292.featureLayer?_292.featureLayer.name:"");dojo.style(this.attributeTable,"display",_291?"":"none");dojo.style(this.editButtons,"display",_291?"":"none");dojo.style(this.navButtons,"display",(!this._hideNavButtons&&(_291>1)?"":"none"));this.navMessage.innerHTML=esri.substitute({idx:this._featureIdx+1,of:this.NLS_of,numFeatures:this._numFeatures},this._navMessage);if(this._attachmentEditor){dojo.style(this._attachmentEditor.domNode,"display",((_292&&_292.showAttachments)&&_291)?"":"none");}var _293=((_292&&_292.showDeleteButton===false)||!this._canDelete)?false:true;dojo.style(this.deleteBtn.domNode,"display",_293?"":"none");if(this.domNode.parentNode&&this.domNode.parentNode.scrollTop>0){this.domNode.parentNode.scrollTop=0;}},_onNextFeature:function(_294){this._featureIdx+=_294;if(this._featureIdx<0){this._featureIdx=this._numFeatures-1;}else{if(this._featureIdx>=this._numFeatures){this._featureIdx=0;}}var _295=this._selection.length?this._selection[this._featureIdx]:null;this._showFeature(_295);this._updateUI();this.onNext(_295);},_deleteFeature:function(){this.onDelete(this._currentFeature);},_showFeature:function(_296,_297){if(!_296){return;}this._currentFeature=_296;var _298=_297?_297:_296.getLayer();var _299=_298.getEditCapabilities({feature:_296,userId:this._userIds[_298.id]});this._canUpdate=_299.canUpdate;this._canDelete=_299.canDelete;var _29a=this._getLInfoFromFeatureLayer(_298);if(!_29a){return;}this._setCurrentLInfo(_29a);var _29b=_296.attributes;var type=this._findFirst(_29a.types,"id",_29b[_29a.typeIdField]);var node,_29c=null;var _29d=_29a.fieldInfos;dojo.forEach(_29d,function(_29e){_29c=_29e.field;node=_29e.dijit||null;if(!node){return;}var _29f=this._setFieldDomain(node,type,_29c);var _2a0=_29b[_29c.name];_2a0=(_2a0&&_29f&&_29f.codedValues&&_29f.codedValues.length)?(_29f.codedValues[_2a0]?_29f.codedValues[_2a0].name:_2a0):_2a0;if(!esri._isDefined(_2a0)){_2a0="";}if(node.declaredClass==="dijit.form.DateTextBox"){_2a0=(_2a0==="")?null:new Date(_2a0);}else{if(node.declaredClass==="dijit.form.FilteringSelect"){node._lastValueReported=null;_2a0=_29b[_29c.name]+"";}}try{this._setValue(node,_2a0);if(node.declaredClass==="dijit.form.FilteringSelect"&&node.isValid()===false){this._setValue(node,null);}}catch(error){node.set("displayedValue",this.NLS_errorInvalid,false);}},this);if(this._attachmentEditor&&_29a.showAttachments){this._attachmentEditor.showAttachments(this._currentFeature);}var _2a1=_298.getEditSummary(_296);if(_2a1){this.editorTrackingInfoDiv.innerHTML=_2a1;esri.show(this.editorTrackingInfoDiv);}else{esri.hide(this.editorTrackingInfoDiv);}},_setFieldDomain:function(node,type,_2a2){if(!node){return null;}var _2a3=_2a2.domain;if(type&&type.domains){if(type.domains[_2a2.name]&&type.domains[_2a2.name] instanceof esri.layers.InheritedDomain===false){_2a3=type.domains[_2a2.name];}}if(!_2a3){return null;}if(_2a3.codedValues&&_2a3.codedValues.length>0){node.set("store",this._toStore(dojo.map(_2a3.codedValues,"return { id: item.code += '', name: item.name };")));this._setValue(node,_2a3.codedValues[0].code);}else{node.constraints={min:esri._isDefined(_2a3.minValue)?_2a3.minValue:Number.MIN_VALUE,max:esri._isDefined(_2a3.maxValue)?_2a3.maxValue:Number.MAX_VALUE};this._setValue(node,node.constraints.min);}return _2a3;},_setValue:function(node,_2a4){if(!node.set){return;}node._onChangeActive=false;node.set("value",_2a4,true);node._onChangeActive=true;},_getFields:function(_2a5){var _2a6=_2a5._getOutFields();if(!_2a6){return null;}var _2a7=_2a5.fields;return (_2a6=="*")?_2a7:dojo.filter(dojo.map(_2a6,dojo.hitch(this,"_findFirst",_2a7,"name")),esri._isDefined);},_isInFields:function(_2a8,_2a9){if(!_2a8||!_2a9&&!_2a9.length){return false;}return dojo.some(_2a9,function(name){return name.toLowerCase()===_2a8.toLowerCase();});},_findFirst:function(_2aa,_2ab,_2ac){var _2ad=dojo.filter(_2aa,function(item){return item.hasOwnProperty(_2ab)&&item[_2ab]===_2ac;});return (_2ad&&_2ad.length)?_2ad[0]:null;},_getLInfoFromFeatureLayer:function(_2ae){var _2af=_2ae?_2ae.id:null;return this._findFirst(this._layerInfos,"layerId",_2af);},_createTable:function(){this._destroyAttributeTable();this.attributeTable.innerHTML="";this._attributes=dojo.create("table",{cellspacing:"0",cellpadding:"0"},this.attributeTable);var _2b0=dojo.create("tbody",null,this._attributes);var _2b1=this._currentFeature;var _2b2=this._currentLInfo;var type=this._findFirst(_2b2.types,"id",_2b1.attributes[_2b2.typeIdField]);var _2b3=_2b2.fieldInfos;dojo.forEach(_2b3,dojo.hitch(this,"_createField",type,_2b0),this);this._createOnlyFirstTime=false;},_createField:function(type,_2b4,_2b5){var _2b6=this._currentLInfo;var _2b7=_2b5.field;if(this._isInFields(_2b7.name,_2b6.hideFields)){return;}if(this._isInFields(_2b7.name,this._editorTrackingInfos[_2b6.featureLayer.id])){return;}var node=dojo.create("tr",null,_2b4);var td=dojo.create("td",{innerHTML:_2b5.label||_2b7.alias||_2b7.name,"class":"atiLabel"},node);td=dojo.create("td",null,node);var _2b8=null;var _2b9=false;if(_2b5.customField){dojo.place(_2b5.customField.domNode||_2b5.customField,dojo.create("div",null,td),"first");_2b8=_2b5.customField;}else{if(_2b6.isEditable===false||_2b7.editable===false||_2b5.isEditable===false||_2b7.type==="esriFieldTypeOID"||_2b7.type==="esriFieldTypeGlobalID"||(!this._canUpdate&&!this._createOnlyFirstTime)){_2b9=true;}}if(!_2b8&&(_2b6.typeIdField&&_2b7.name.toLowerCase()==_2b6.typeIdField.toLowerCase())){_2b8=this._createTypeField(_2b7,_2b5,td);}else{if(!_2b8){_2b8=this._createDomainField(_2b7,_2b5,type,td);}}if(!_2b8){switch(_2b7.type){case "esriFieldTypeString":_2b8=this._createStringField(_2b7,_2b5,td);break;case "esriFieldTypeDate":_2b8=this._createDateField(_2b7,_2b5,td);break;case "esriFieldTypeInteger":case "esriFieldTypeSmallInteger":_2b8=this._createIntField(_2b7,_2b5,td);break;case "esriFieldTypeSingle":case "esriFieldTypeDouble":_2b8=this._createFltField(_2b7,_2b5,td);break;default:_2b8=this._createStringField(_2b7,_2b5,td);break;}}if(_2b5.tooltip&&_2b5.tooltip.length){this._toolTips.push(new _259.Tooltip({connectId:[_2b8.id],label:_2b5.tooltip}));}_2b8.onChange=dojo.hitch(this,"onFieldValueChange",_2b5);_2b8.set("disabled",_2b9);_2b5.dijit=_2b8;},_createTypeField:function(_2ba,_2bb,node){return new _259.form.FilteringSelect({"class":"atiField",name:_2ba.alias||_2ba.name,store:this._toStore(dojo.map(this._currentLInfo.types,"return { id: item.id, name: item.name };")),searchAttr:"name"},dojo.create("div",null,node));},_createDomainField:function(_2bc,_2bd,type,node){var _2be=_2bc.domain;if(type&&type.domains){if(type.domains[_2bc.name]&&type.domains[_2bc.name] instanceof esri.layers.InheritedDomain===false){_2be=type.domains[_2bc.name];}}if(!_2be){return null;}if(_2be.codedValues){return new _259.form.FilteringSelect({"class":"atiField",name:_2bc.alias||_2bc.name,store:null,searchAttr:"name",required:_2bc.nullable||false},dojo.create("div",null,node));}else{return new _259.form.NumberSpinner({"class":"atiField"},dojo.create("div",null,node));}},_createStringField:function(_2bf,_2c0,node){var _2c1={"class":"atiField",trim:true,maxLength:_2bf.length};if(_2c0.stringFieldOption===esri.dijit.AttributeInspector.STRING_FIELD_OPTION_TEXTAREA){_2c1["class"]+=" atiTextAreaField";return new _259.form.SimpleTextarea(_2c1,dojo.create("div",null,node));}else{if(_2c0.stringFieldOption===esri.dijit.AttributeInspector.STRING_FIELD_OPTION_RICHTEXT){_2c1["class"]+=" atiRichTextField";_2c1.height="100%";_2c1.width="100%";_2c1.plugins=_2c0.richTextPlugins||["bold","italic","underline","foreColor","hiliteColor","|","justifyLeft","justifyCenter","justifyRight","justifyFull","|","insertOrderedList","insertUnorderedList","indent","outdent","|","createLink"];return new _259.Editor(_2c1,dojo.create("div",null,node));}else{return new _259.form.TextBox(_2c1,dojo.create("div",null,node));}}},_createDateField:function(_2c2,_2c3,node){var _2c4={"class":"atiField","trim":true};if(this._datePackage){_2c4.datePackage=this._datePackage;}return new _259.form.DateTextBox(_2c4,dojo.create("div",null,node));},_createIntField:function(_2c5,_2c6,node){return new _259.form.NumberTextBox({"class":"atiField",constraints:{places:0},invalidMessage:this.NLS_validationInt,trim:true},dojo.create("div",null,node));},_createFltField:function(_2c7,_2c8,node){return new _259.form.NumberTextBox({"class":"atiField",trim:true,invalidMessage:this.NLS_validationFlt},dojo.create("div",null,node));},_toStore:function(_2c9){return new dojo.data.ItemFileReadStore({data:{identifier:"id",label:"name",items:_2c9}});},_connect:function(node,evt,func){this._aiConnects.push(dojo.connect(node,evt,func));},_getDatePackage:function(_2ca){if(_2ca.datePackage===null){return null;}else{if(_2ca.datePackage){return _2ca.datePackage;}}return null;},_destroyAttributeTable:function(){var _2cb=this.layerInfos;dojo.forEach(_2cb,function(_2cc){var _2cd=_2cc.fieldInfos;dojo.forEach(_2cd,function(_2ce){var _2cf=_2ce.dijit;if(_2cf){_2cf._onChangeHandle=null;if(_2ce.customField){return;}if(_2cf.destroyRecursive){_2cf.destroyRecursive();}else{if(_2cf.destroy){_2cf.destroy();}}}_2ce.dijit=null;},this);},this);var _2d0=this._toolTips;dojo.forEach(_2d0,"item.destroy(); delete item;");this._toolTips=[];if(this._attributes){dojo.destroy(this._attributes);}}});dojo.mixin(esri.dijit.AttributeInspector,{STRING_FIELD_OPTION_RICHTEXT:"richtext",STRING_FIELD_OPTION_TEXTAREA:"textarea",STRING_FIELD_OPTION_TEXTBOX:"textbox"});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(on,_2d1,keys,_2d2,has,_2d3,win){var _2d4=null;if(has("ie")){(function(){var _2d5=function(evt){_2d4=evt.srcElement;};win.doc.attachEvent("onkeydown",_2d5);_2d3.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_2d5);});})();}else{win.doc.addEventListener("keydown",function(evt){_2d4=evt.target;},true);}var _2d6=function(node,_2d7){if(/input|button/i.test(node.nodeName)){return on(node,"click",_2d7);}else{function _2d8(e){return (e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};var _2d9=[on(node,"keypress",function(e){if(_2d8(e)){_2d4=e.target;e.preventDefault();}}),on(node,"keyup",function(e){if(_2d8(e)&&e.target==_2d4){_2d4=null;_2d7.call(this,e);}}),on(node,"click",function(e){_2d7.call(this,e);})];return {remove:function(){_2d1.forEach(_2d9,function(h){h.remove();});}};}};return _2d2("dijit._OnDijitClickMixin",null,{connect:function(obj,_2da,_2db){return this.inherited(arguments,[obj,_2da=="ondijitclick"?_2d6:_2da,_2db]);}});});},"esri/tasks/_task":function(){define(["dijit","dojo","dojox","dojo/require!esri/graphic,esri/utils"],function(_2dc,dojo,_2dd){dojo.provide("esri.tasks._task");dojo.require("esri.graphic");dojo.require("esri.utils");dojo.declare("esri.tasks._Task",null,{constructor:function(url){if(url&&dojo.isString(url)){this._url=esri.urlToObject(this.url=url);}this.normalization=true;this._errorHandler=dojo.hitch(this,this._errorHandler);},_useSSL:function(){var _2de=this._url,re=/^http:/i,rep="https:";if(this.url){this.url=this.url.replace(re,rep);}if(_2de&&_2de.path){_2de.path=_2de.path.replace(re,rep);}},_encode:function(_2df,_2e0,_2e1){var _2e2,type,_2e3={},i,p,pl;for(i in _2df){if(i==="declaredClass"){continue;}_2e2=_2df[i];type=typeof (_2e2);if(_2e2!==null&&_2e2!==undefined&&type!=="function"){if(dojo.isArray(_2e2)){_2e3[i]=[];pl=_2e2.length;for(p=0;p<pl;p++){_2e3[i][p]=this._encode(_2e2[p]);}}else{if(type==="object"){if(_2e2.toJson){var json=_2e2.toJson(_2e1&&_2e1[i]);if(_2e2 instanceof esri.tasks.FeatureSet){if(json.spatialReference){json.sr=json.spatialReference;delete json.spatialReference;}}_2e3[i]=_2e0?json:dojo.toJson(json);}}else{_2e3[i]=_2e2;}}}}return _2e3;},_successHandler:function(args,_2e4,_2e5,dfd){if(_2e4){this[_2e4].apply(this,args);}if(_2e5){_2e5.apply(null,args);}if(dfd){esri._resDfd(dfd,args);}},_errorHandler:function(err,_2e6,dfd){this.onError(err);if(_2e6){_2e6(err);}if(dfd){dfd.errback(err);}},setNormalization:function(_2e7){this.normalization=_2e7;},onError:function(){}});dojo.declare("esri.tasks.FeatureSet",null,{constructor:function(json){if(json){dojo.mixin(this,json);var _2e8=this.features,sr=json.spatialReference,_2e9=esri.Graphic,_2ea=esri.geometry.getGeometryType(json.geometryType);sr=(this.spatialReference=new esri.SpatialReference(sr));this.geometryType=json.geometryType;if(json.fields){this.fields=json.fields;}dojo.forEach(_2e8,function(_2eb,i){var _2ec=_2eb.geometry&&_2eb.geometry.spatialReference;_2e8[i]=new _2e9((_2ea&&_2eb.geometry)?new _2ea(_2eb.geometry):null,_2eb.symbol&&esri.symbol.fromJson(_2eb.symbol),_2eb.attributes);if(_2e8[i].geometry&&!_2ec){_2e8[i].geometry.setSpatialReference(sr);}});}else{this.features=[];}},displayFieldName:null,geometryType:null,spatialReference:null,fieldAliases:null,toJson:function(_2ed){var json={};if(this.displayFieldName){json.displayFieldName=this.displayFieldName;}if(this.fields){json.fields=this.fields;}if(this.spatialReference){json.spatialReference=this.spatialReference.toJson();}else{if(this.features[0]&&this.features[0].geometry){json.spatialReference=this.features[0].geometry.spatialReference.toJson();}}if(this.features[0]){if(this.features[0].geometry){json.geometryType=esri.geometry.getJsonType(this.features[0].geometry);}json.features=esri._encodeGraphics(this.features,_2ed);}json.exceededTransferLimit=this.exceededTransferLimit;return esri._sanitize(json);}});esri.tasks._SpatialRelationship={SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"};});},"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/_base/event","dojo/touch","./_ListBase"],function(_2ee,_2ef,_2f0,_2f1){return _2ee("dijit.form._ListMouseMixin",_2f1,{postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_2f0.press,"_onMouseDown");this.connect(this.domNode,_2f0.release,"_onMouseUp");this.connect(this.domNode,"onmouseover","_onMouseOver");this.connect(this.domNode,"onmouseout","_onMouseOut");},_onMouseDown:function(evt){_2ef.stop(evt);if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(this._getTarget(evt));},_onMouseUp:function(evt){_2ef.stop(evt);this._isDragging=false;var _2f2=this._getSelectedAttr();var _2f3=this._getTarget(evt);var _2f4=this._hoveredNode;if(_2f2&&_2f3==_2f2){this.onClick(_2f2);}else{if(_2f4&&_2f3==_2f4){this._setSelectedAttr(_2f4);this.onClick(_2f4);}}},_onMouseOut:function(){if(this._hoveredNode){this.onUnhover(this._hoveredNode);if(this._getSelectedAttr()==this._hoveredNode){this.onSelect(this._hoveredNode);}this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}var node=this._getTarget(evt);if(!node){return;}if(this._hoveredNode!=node){if(this._hoveredNode){this._onMouseOut({target:this._hoveredNode});}if(node&&node.parentNode==this.containerNode){if(this._isDragging){this._setSelectedAttr(node);}else{this._hoveredNode=node;this.onHover(node);}}}}});});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo,text){return dojo.cache;});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\trole=\"combobox\"\r\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\r\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\r\n\t/></div\r\n></div>\r\n","dijit/form/NumberTextBox":function(){define("dijit/form/NumberTextBox",["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_2f5,lang,_2f6,_2f7){var _2f8=_2f5("dijit.form.NumberTextBoxMixin",null,{regExpGen:_2f6.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:_2f6.format,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_2f9){var _2fa=typeof _2f9.places=="number"?_2f9.places:0;if(_2fa){_2fa++;}if(typeof _2f9.max!="number"){_2f9.max=9*Math.pow(10,15-_2fa);}if(typeof _2f9.min!="number"){_2f9.min=-9*Math.pow(10,15-_2fa);}this.inherited(arguments,[_2f9]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _2fb=this.format(val,this.constraints);if(_2fb!==undefined){this.textbox.value=_2fb;}}this.inherited(arguments);},format:function(_2fc,_2fd){var _2fe=String(_2fc);if(typeof _2fc!="number"){return _2fe;}if(isNaN(_2fc)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_2fc,_2fd))&&_2fd.exponent!==false&&/\de[-+]?\d/i.test(_2fe)){return _2fe;}if(this.editOptions&&this.focused){_2fd=lang.mixin({},_2fd,this.editOptions);}return this._formatter(_2fc,_2fd);},_parser:_2f6.parse,parse:function(_2ff,_300){var v=this._parser(_2ff,lang.mixin({},_300,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_2ff,_300);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_301){return (_301===null||_301===""||_301===undefined)?NaN:this.inherited(arguments);},serialize:function(_302,_303){return (typeof _302!="number"||isNaN(_302))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.mixin({},this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_304,_305,_306){if(_304!==undefined&&_306===undefined){_306=String(_304);if(typeof _304=="number"){if(isNaN(_304)){_306="";}else{if(("rangeCheck" in this&&this.rangeCheck(_304,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_306)){_306=undefined;}}}else{if(!_304){_306="";_304=NaN;}else{_304=undefined;}}}this.inherited(arguments,[_304,_305,_306]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_2f6._realNumberRegexp(lang.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_307){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});var _308=_2f5("dijit.form.NumberTextBox",[_2f7,_2f8],{baseClass:"dijitTextBox dijitNumberTextBox"});_308.Mixin=_2f8;return _308;});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n","esri/dijit/editing/Util":function(){define(["dijit","dojo","dojox","dojo/require!dojo/DeferredList"],function(_309,dojo,_30a){dojo.provide("esri.dijit.editing.Util");dojo.require("dojo.DeferredList");esri.dijit.editing.Util.LayerHelper={findFeatures:function(ids,_30b,_30c){var _30d=_30b.objectIdField;var _30e=_30b.graphics;var _30f=dojo.filter(_30e,function(_310){return dojo.some(ids,function(id){return _310.attributes[_30d]===id.objectId;});});if(_30c){_30c(_30f);}else{return _30f;}},getSelection:function(_311){var _312=[];dojo.forEach(_311,function(_313){var _314=_313.getSelectedFeatures();dojo.forEach(_314,function(_315){_312.push(_315);});});return _312;}};});},"dojo/cldr/nls/gregorian":function(){define({root:{"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"EEE, y-M-d","dateFormatItem-MMMEd":"E MMM d","eraNarrow":["BCE","CE"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","months-format-wide":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateTimeFormat-medium":"{1} {0}","dateFormatItem-EEEd":"d EEE","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, y MMMM dd","dateFormatItem-Md":"M-d","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","field-era":"Era","dateFormatItem-yM":"y-M","months-standAlone-wide":["1","2","3","4","5","6","7","8","9","10","11","12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateFormatItem-yQ":"y Q","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["1","2","3","4","5","6","7","8","9","10","11","12"],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-H":"HH","months-standAlone-abbr":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-M":"L","days-standAlone-wide":["1","2","3","4","5","6","7"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["1","2","3","4","5","6","7"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M-d","dateTimeFormat-full":"{1} {0}","field-day":"Day","days-format-wide":["1","2","3","4","5","6","7"],"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["1","2","3","4","5","6","7"],"eraNames":["BCE","CE"],"days-format-narrow":["1","2","3","4","5","6","7"],"days-standAlone-narrow":["1","2","3","4","5","6","7"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"yyyy-MM-dd","field-second":"Second","dateFormatItem-yMMMEd":"EEE, y MMM d","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"y MMM d","dayPeriods-format-narrow-pm":"PM","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-ca":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(_316,lang,_317,has,_318){var html=_318.doc.documentElement,ie=has("ie"),_319=has("opera"),maj=Math.floor,ff=has("ff"),_31a=_316.boxModel.replace(/-/,""),_31b={"dj_ie":ie,"dj_ie6":maj(ie)==6,"dj_ie7":maj(ie)==7,"dj_ie8":maj(ie)==8,"dj_ie9":maj(ie)==9,"dj_quirks":has("quirks"),"dj_iequirks":ie&&has("quirks"),"dj_opera":_319,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ff3":maj(ff)==3};_31b["dj_"+_31a]=true;var _31c="";for(var clz in _31b){if(_31b[clz]){_31c+=clz+" ";}}html.className=lang.trim(html.className+" "+_31c);_317(90,function(){if(!_316.isBodyLtr()){var _31d="dj_rtl dijitRtl "+_31c.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_31d+"dj_rtl dijitRtl "+_31c.replace(/ /g,"-rtl "));}});return has;});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){lang.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_31e,map,_31f,_320){_320=_320||dojo.global;_31f=_31f?lang.hitch(_320,_31f):function(v){return v;};return _31e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_321,key,_322){var _323=lang.getObject(key,false,map);if(_322){_323=lang.getObject(_322,false,_320).call(_320,_323,key);}return _31f(_323,key).toString();});};dojo.string.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return dojo.string;});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\r\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\r\n></div>\r\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","."],function(_324,_325,fx,dom,_326,_327,_328,lang,has,win,_329,_32a,_32b,_32c,_32d,_32e,_32f){var _330=_325("dijit._MasterTooltip",[_32b,_32c],{duration:_329.defaultDuration,templateString:_32e,postCreate:function(){win.body().appendChild(this.domNode);this.bgIframe=new _32d(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_331,_332,_333,rtl,_334){if(this.aroundNode&&this.aroundNode===_332&&this.containerNode.innerHTML==_331){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_331;this.set("textDir",_334);this.containerNode.align=rtl?"right":"left";var pos=_32a.around(this.domNode,_332,_333&&_333.length?_333:_335.defaultPosition,!rtl,lang.hitch(this,"orient"));var _336=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_336.y+((_336.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_336.x+((_336.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}_328.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_332;},orient:function(node,_337,_338,_339,_33a){this.connectorNode.style.top="";var _33b=_339.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_337+"-"+_338];this.domNode.style.width="auto";var size=_327.getContentBox(this.domNode);var _33c=Math.min((Math.max(_33b,1)),size.w);var _33d=_33c<size.w;this.domNode.style.width=_33c+"px";if(_33d){this.containerNode.style.overflow="auto";var _33e=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_33e>_33c){_33e=_33e+_328.get(this.domNode,"paddingLeft")+_328.get(this.domNode,"paddingRight");this.domNode.style.width=_33e+"px";}}if(_338.charAt(0)=="B"&&_337.charAt(0)=="B"){var mb=_327.getMarginBox(node);var _33f=this.connectorNode.offsetHeight;if(mb.h>_339.h){var _340=_339.h-((_33a.h+_33f)>>1);this.connectorNode.style.top=_340+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_33a.h/2-_33f/2,0),mb.h-_33f)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_33b);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_341){if(this._onDeck&&this._onDeck[1]==_341){this._onDeck=null;}else{if(this.aroundNode===_341){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_324.forEach(node.children,function(_342){this._setAutoTextDir(_342);},this);},_setTextDirAttr:function(_343){this._set("textDir",typeof _343!="undefined"?_343:"");if(_343=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_32f.showTooltip=function(_344,_345,_346,rtl,_347){if(_346){_346=_324.map(_346,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_335._masterTT){_32f._masterTT=_335._masterTT=new _330();}return _335._masterTT.show(_344,_345,_346,rtl,_347);};_32f.hideTooltip=function(_348){return _335._masterTT&&_335._masterTT.hide(_348);};var _335=_325("dijit.Tooltip",_32b,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_349){_324.forEach(this._connections||[],function(_34a){_324.forEach(_34a,lang.hitch(this,"disconnect"));},this);this._connectIds=_324.filter(lang.isArrayLike(_349)?_349:(_349?[_349]:[]),function(id){return dom.byId(id);});this._connections=_324.map(this._connectIds,function(id){var node=dom.byId(id);return [this.connect(node,"onmouseenter","_onHover"),this.connect(node,"onmouseleave","_onUnHover"),this.connect(node,"onfocus","_onHover"),this.connect(node,"onblur","_onUnHover")];},this);this._set("connectId",_349);},addTarget:function(node){var id=node.id||node;if(_324.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_324.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_326.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_324.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onHover:function(e){if(!this._showTimer){var _34b=e.target;this._showTimer=setTimeout(lang.hitch(this,function(){this.open(_34b);}),this.showDelay);}},_onUnHover:function(){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_34c){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}_335.show(this.label||this.domNode.innerHTML,_34c,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_34c;this.onShow(_34c,this.position);},close:function(){if(this._connectNode){_335.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});_335._MasterTooltip=_330;_335.show=_32f.showTooltip;_335.hide=_32f.hideTooltip;_335.defaultPosition=["after-centered","before-centered"];return _335;});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\r\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\r\n\t\tdata-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_34d,lang,_34e,_34f,_350,_351,_352,_353,_354){return _34d("dijit.form.DropDownButton",[_351,_352,_353],{baseClass:"dijitDropDownButton",templateString:_354,_fillContent:function(){if(this.srcNodeRef){var _355=_34e("*",this.srcNodeRef);this.inherited(arguments,[_355[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _356=_34e("[widgetId]",this.dropDownContainer)[0];this.dropDown=_34f.byNode(_356);delete this.dropDownContainer;}if(this.dropDown){_350.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _357=this.dropDown;return (!!_357&&(!_357.href||_357.isLoaded));},loadDropDown:function(_358){var _359=this.dropDown;var _35a=_359.on("load",lang.hitch(this,function(){_35a.remove();_358();}));_359.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/sniff","./_FormWidgetMixin"],function(_35b,_35c,keys,has,_35d){return _35b("dijit.form._FormValueMixin",_35d,{readOnly:false,_setReadOnlyAttr:function(_35e){_35c.set(this.focusNode,"readOnly",_35e);this.focusNode.setAttribute("aria-readonly",_35e);this._set("readOnly",_35e);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_35f,_360){this._handleOnChange(_35f,_360);},_handleOnChange:function(_361,_362){this._set("value",_361);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();te=document.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}}});});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/_base/sniff","dojo/_base/window","dojo/window","../a11y"],function(_363,_364,_365,_366,lang,_367,has,win,_368,a11y){return _364("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_369){this._set("disabled",_369);_365.set(this.focusNode,"disabled",_369);if(this.valueNode){_365.set(this.valueNode,"disabled",_369);}this.focusNode.setAttribute("aria-disabled",_369?"true":"false");if(_369){this._set("hovering",false);this._set("active",false);var _36a="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_363.forEach(lang.isArray(_36a)?_36a:[_36a],function(_36b){var node=this[_36b];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _36c=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_36d);this.disconnect(_36c);});var _36d=this.connect(win.body(),"onmouseup",function(){this.disconnect(_36d);this.disconnect(_36c);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_368.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_366.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_36e,_36f){if(this._lastValueReported==undefined&&(_36f===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_36e;}this._pendingOnChange=this._pendingOnChange||(typeof _36e!=typeof this._lastValueReported)||(this.compare(_36e,this._lastValueReported)!=0);if((this.intermediateChanges||_36f||_36f===undefined)&&this._pendingOnChange){this._lastValueReported=_36e;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_36e);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_370,i18n,_371){return _370("dijit.form.RangeBoundTextBox",_371,{rangeMessage:"",rangeCheck:function(_372,_373){return ("min" in _373?(this.compare(_372,_373.min)>=0):true)&&("max" in _373?(this.compare(_372,_373.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _374=false;var _375=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_374=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_375=(typeof max=="number")&&max>0;}return _374||_375;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_376){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_376));},getErrorMessage:function(_377){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_377)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_378){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_379,_37a){this.focusNode.setAttribute("aria-valuenow",_379);this.inherited(arguments);},applyTextDir:function(){}});});},"dijit/_editor/RichText":function(){define("dijit/_editor/RichText",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/ready","dojo/_base/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/_base/window","../_Widget","../_CssStateMixin","./selection","./range","./html","../focus",".."],function(_37b,_37c,_37d,_37e,dom,_37f,_380,_381,_382,_383,_384,_385,keys,lang,on,_386,_387,has,_388,_389,_38a,win,_38b,_38c,_38d,_38e,_38f,_390,_391){var _392=_37d("dijit._editor.RichText",[_38b,_38c],{constructor:function(_393){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_393&&lang.isString(_393.value)){this.value=_393.value;}this.onLoadDeferred=new _37e();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"===this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(has("mozilla")){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(has("webkit")){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(has("ie")){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);this.contentDomPostFilters=[lang.hitch(this,this._stripBreakerNodes)].concat(this.contentDomPostFilters);}this.inherited(arguments);_388.publish(_391._scopeName+"._editor.RichText::init",this);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=lang.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _394={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!has("ie")){_394.Z=exec("redo");}var key;for(key in _394){this.addKeyHandler(key,true,false,_394[key]);}},events:["onKeyPress","onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(_392._editorCommandsLocalized){this._local2NativeFormatNames=_392._local2NativeFormatNames;this._native2LocalFormatNames=_392._native2LocalFormatNames;return;}_392._editorCommandsLocalized=true;_392._local2NativeFormatNames={};_392._native2LocalFormatNames={};this._local2NativeFormatNames=_392._local2NativeFormatNames;this._native2LocalFormatNames=_392._native2LocalFormatNames;var _395=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _396="",_397,i=0;while((_397=_395[i++])){if(_397.charAt(1)!=="l"){_396+="<"+_397+"><span>content</span></"+_397+"><br/>";}else{_396+="<"+_397+"><li>content</li></"+_397+"><br/>";}}var _398={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=_381.create("div",{style:_398,innerHTML:_396});win.body().appendChild(div);var _399=lang.hitch(this,function(){var node=div.firstChild;while(node){try{_38d.selectElement(node.firstChild);var _39a=node.tagName.toLowerCase();this._local2NativeFormatNames[_39a]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_39a]]=_39a;node=node.nextSibling.nextSibling;}catch(e){}}div.parentNode.removeChild(div);div.innerHTML="";});setTimeout(_399,0);},open:function(_39b){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new _37e();}if(!this.isClosed){this.close();}_388.publish(_391._scopeName+"._editor.RichText::open",this);if(arguments.length===1&&_39b.nodeName){this.domNode=_39b;}var dn=this.domNode;var html;if(lang.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=win.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;_381.place(dn,ta,"before");var _39c=lang.hitch(this,function(){_383.set(ta,{display:"block",position:"absolute",top:"-1000px"});if(has("ie")){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(has("ie")){setTimeout(_39c,10);}else{_39c();}if(ta.form){var _39d=ta.value;this.reset=function(){var _39e=this.getValue();if(_39e!==_39d){this.replaceValue(_39d);}};on(ta.form,"submit",lang.hitch(this,function(){_37f.set(ta,"disabled",this.disabled);ta.value=this.getValue();}));}}else{html=_38f.getChildrenHtml(dn);dn.innerHTML="";}}this.value=html;if(dn.nodeName&&dn.nodeName==="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!_37c["useXDomain"]||_37c["allowXdRichTextSave"])){var _39f=dom.byId(_391._scopeName+"._editor.RichText.value");if(_39f&&_39f.value!==""){var _3a0=_39f.value.split(this._SEPARATOR),i=0,dat;while((dat=_3a0[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]===this.name){html=data[1];_3a0=_3a0.splice(i,1);_39f.value=_3a0.join(this._SEPARATOR);break;}}}if(!_392._globalSaveHandler){_392._globalSaveHandler={};_389.addOnUnload(function(){var id;for(id in _392._globalSaveHandler){var f=_392._globalSaveHandler[id];if(lang.isFunction(f)){f();}}});}_392._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=win.doc.createElement("iframe"));ifr.id=this.id+"_iframe";this._iframeSrc=this._getIframeDocTxt();ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(has("ie")>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=lang.hitch(this,function(w){this.window=w;this.document=this.window.document;if(has("ie")){this._localizeEditorCommands();}this.onLoad(html);});var _3a1="parent."+_391._scopeName+".byId(\""+this.id+"\")._iframeSrc";var s="javascript:(function(){try{return "+_3a1+"}catch(e){document.open();document.domain=\""+document.domain+"\";document.write("+_3a1+");document.close();}})()";ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);if(has("safari")<=4){var src=ifr.getAttribute("src");if(!src||src.indexOf("javascript")===-1){setTimeout(function(){ifr.setAttribute("src",s);},0);}}if(dn.nodeName==="LI"){dn.lastChild.style.marginTop="-1.2em";}_380.add(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _3a2=_383.getComputedStyle(this.domNode);var html="";var _3a3=true;if(has("ie")||has("webkit")||(!this.height&&!has("mozilla"))){html="<div id='dijitEditorBody'></div>";_3a3=false;}else{if(has("mozilla")){this._cursorToStart=true;html="&#160;";}}var font=[_3a2.fontWeight,_3a2.fontSize,_3a2.fontFamily].join(" ");var _3a4=_3a2.lineHeight;if(_3a4.indexOf("px")>=0){_3a4=parseFloat(_3a4)/parseFloat(_3a2.fontSize);}else{if(_3a4.indexOf("em")>=0){_3a4=parseFloat(_3a4);}else{_3a4="normal";}}var _3a5="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_3a6){_3a6=_3a6.replace(/^;/ig,"")+";";var s=_3a6.split(":")[0];if(s){s=lang.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_383.set(self.domNode,sC,"");}_3a5+=_3a6+";";});var _3a7=_386("label[for=\""+this.id+"\"]");return [this.isLeftToRight()?"<html>\n<head>\n":"<html dir='rtl'>\n<head>\n",(has("mozilla")&&_3a7.length?"<title>"+_3a7[0].innerHTML+"</title>\n":""),"<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n",((has("webkit"))?"\t\twidth: 100%;\n":""),((has("webkit"))?"\t\theight: 100%;\n":""),"\t}\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tmin-height:",this.minHeight,";\n","\t\tline-height:",_3a4,";\n","\t}\n","\tp{ margin: 1em 0; }\n",(!_3a3&&!this.height?"\tbody,html {overflow-y: hidden;}\n":""),"\t#dijitEditorBody{overflow-x: auto; overflow-y:"+(this.height?"auto;":"hidden;")+" outline: 0px;}\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body ",(_3a3?"id='dijitEditorBody' ":""),"onload='frameElement._loadFunc(window,document)' style='"+_3a5+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _3a8=[];if(this.styleSheets){_3a8=this.styleSheets.split(";");this.styleSheets="";}_3a8=_3a8.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_3a8[i++])){var _3a9=(new _38a(win.global.location,url)).toString();this.editingAreaStyleSheets.push(_3a9);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_3a9+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _38a(win.global.location,url)).toString();}if(_37b.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.addCallback(lang.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _3aa=this.document.createElement("link");_3aa.rel="stylesheet";_3aa.type="text/css";_3aa.href=url;head.appendChild(_3aa);}}));},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _38a(win.global.location,url)).toString();}var _3ab=_37b.indexOf(this.editingAreaStyleSheets,url);if(_3ab===-1){return;}delete this.editingAreaStyleSheets[_3ab];win.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_3ac){_3ac=!!_3ac;this._set("disabled",_3ac);if(!this.isLoaded){return;}if(has("ie")||has("webkit")||has("opera")){var _3ad=has("ie")&&(this.isLoaded||!this.focusOnLoad);if(_3ad){this.editNode.unselectable="on";}this.editNode.contentEditable=!_3ac;if(_3ad){var _3ae=this;setTimeout(function(){if(_3ae.editNode){_3ae.editNode.unselectable="off";}},0);}}else{try{this.document.designMode=(_3ac?"off":"on");}catch(e){return;}if(!_3ac&&this._mozSettingProps){var ps=this._mozSettingProps;var n;for(n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=_390.registerIframe(this.iframe);}if(!has("ie")&&!has("webkit")&&(this.height||has("mozilla"))){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _3af=this;if(has("ie")){this.tabStop=_381.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function(){_3af.editNode.setActive();};}}this.focusNode=this.editNode;var _3b0=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;_37b.forEach(_3b0,function(item){this.connect(ap,item.toLowerCase(),item);},this);this.connect(ap,"onmouseup","onClick");if(has("ie")){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}else{this.connect(this.document,"onmousedown",function(){delete this._cursorToStart;});}if(has("webkit")){this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged");this.connect(this.document,"onmousedown",function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){setTimeout(lang.hitch(this,"placeCursorAtEnd"),0);}});}if(has("ie")){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _3b1=lang.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}this.onDisplayChanged();if(this.focusOnLoad){_387(lang.hitch(this,function(){setTimeout(lang.hitch(this,"focus"),this.updateInterval);}));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.addCallback(_3b1);}else{_3b1();}},onKeyDown:function(e){if(e.keyCode===keys.TAB&&this.isTabIndent){_384.stop(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(has("ie")){if(e.keyCode==keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){_384.stop(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}if(has("ff")){if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){if(this.editNode.clientHeight>=this.editNode.scrollHeight){e.preventDefault();}}}return true;},onKeyUp:function(){},setDisabled:function(_3b2){_385.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_3b2);},_setValueAttr:function(_3b3){this.setValue(_3b3);},_setDisableSpellCheckAttr:function(_3b4){if(this.document){_37f.set(this.document.body,"spellcheck",!_3b4);}else{this.onLoadDeferred.addCallback(lang.hitch(this,function(){_37f.set(this.document.body,"spellcheck",!_3b4);}));}this._set("disableSpellCheck",_3b4);},onKeyPress:function(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode,_3b5=this._keyHandlers[c],args=arguments;if(_3b5&&!e.altKey){_37b.some(_3b5,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}if(!this._onKeyHitch){this._onKeyHitch=lang.hitch(this,"onKeyPressed");}setTimeout(this._onKeyHitch,1);return true;},addKeyHandler:function(key,ctrl,_3b6,_3b7){if(!lang.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_3b6||false,ctrl:ctrl||false,handler:_3b7});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(){if(!this.focused&&!this.disabled){this.focus();}},_onBlur:function(e){this.inherited(arguments);var _3b8=this.getValue(true);if(_3b8!==this.value){this.onChange(_3b8);}this._set("value",_3b8);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(win.doc.body.focus){win.doc.body.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!has("ie")){_390.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){if(this._updateTimer){clearTimeout(this._updateTimer);}if(!this._updateHandler){this._updateHandler=lang.hitch(this,"onNormalizedDisplayChanged");}this._updateTimer=setTimeout(this._updateHandler,this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(){},_normalizeCommand:function(cmd,_3b9){var _3ba=cmd.toLowerCase();if(_3ba==="formatblock"){if(has("safari")&&_3b9===undefined){_3ba="heading";}}else{if(_3ba==="hilitecolor"&&!has("mozilla")){_3ba="backcolor";}}return _3ba;},_qcaCache:{},queryCommandAvailable:function(_3bb){var ca=this._qcaCache[_3bb];if(ca!==undefined){return ca;}return (this._qcaCache[_3bb]=this._queryCommandAvailable(_3bb));},_queryCommandAvailable:function(_3bc){var ie=1;var _3bd=1<<1;var _3be=1<<2;var _3bf=1<<3;function _3c0(_3c1){return {ie:Boolean(_3c1&ie),mozilla:Boolean(_3c1&_3bd),webkit:Boolean(_3c1&_3be),opera:Boolean(_3c1&_3bf)};};var _3c2=null;switch(_3bc.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_3c2=_3c0(_3bd|ie|_3be|_3bf);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_3c2=_3c0(_3bd|ie|_3bf|_3be);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_3c2=_3c0(ie);break;case "cut":case "copy":case "paste":_3c2=_3c0(ie|_3bd|_3be);break;case "inserttable":_3c2=_3c0(_3bd|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_3c2=_3c0(ie|_3bd);break;default:return false;}return (has("ie")&&_3c2.ie)||(has("mozilla")&&_3c2.mozilla)||(has("webkit")&&_3c2.webkit)||(has("opera")&&_3c2.opera);},execCommand:function(_3c3,_3c4){var _3c5;this.focus();_3c3=this._normalizeCommand(_3c3,_3c4);if(_3c4!==undefined){if(_3c3==="heading"){throw new Error("unimplemented");}else{if((_3c3==="formatblock")&&has("ie")){_3c4="<"+_3c4+">";}}}var _3c6="_"+_3c3+"Impl";if(this[_3c6]){_3c5=this[_3c6](_3c4);}else{_3c4=arguments.length>1?_3c4:null;if(_3c4||_3c3!=="createlink"){_3c5=this.document.execCommand(_3c3,false,_3c4);}}this.onDisplayChanged();return _3c5;},queryCommandEnabled:function(_3c7){if(this.disabled||!this._disabledOK){return false;}_3c7=this._normalizeCommand(_3c7);var _3c8="_"+_3c7+"EnabledImpl";if(this[_3c8]){return this[_3c8](_3c7);}else{return this._browserQueryCommandEnabled(_3c7);}},queryCommandState:function(_3c9){if(this.disabled||!this._disabledOK){return false;}_3c9=this._normalizeCommand(_3c9);try{return this.document.queryCommandState(_3c9);}catch(e){return false;}},queryCommandValue:function(_3ca){if(this.disabled||!this._disabledOK){return false;}var r;_3ca=this._normalizeCommand(_3ca);if(has("ie")&&_3ca==="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_3ca)];}else{if(has("mozilla")&&_3ca==="hilitecolor"){var _3cb;try{_3cb=this.document.queryCommandValue("styleWithCSS");}catch(e){_3cb=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_3ca);this.document.execCommand("styleWithCSS",false,_3cb);}else{r=this.document.queryCommandValue(_3ca);}}return r;},_sCall:function(name,args){return win.withGlobal(this.window,name,_38d,args);},placeCursorAtStart:function(){this.focus();var _3cc=false;if(has("mozilla")){var _3cd=this.editNode.firstChild;while(_3cd){if(_3cd.nodeType===3){if(_3cd.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_3cc=true;this._sCall("selectElement",[_3cd]);break;}}else{if(_3cd.nodeType===1){_3cc=true;var tg=_3cd.tagName?_3cd.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this._sCall("selectElement",[_3cd]);}else{this._sCall("selectElementChildren",[_3cd]);}break;}}_3cd=_3cd.nextSibling;}}else{_3cc=true;this._sCall("selectElementChildren",[this.editNode]);}if(_3cc){this._sCall("collapse",[true]);}},placeCursorAtEnd:function(){this.focus();var _3ce=false;if(has("mozilla")){var last=this.editNode.lastChild;while(last){if(last.nodeType===3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_3ce=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType===1){_3ce=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_3ce=true;this._sCall("selectElementChildren",[this.editNode]);}if(_3ce){this._sCall("collapse",[false]);}},getValue:function(_3cf){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_3cf);},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(lang.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&has("mozilla")&&html.toLowerCase()==="<p></p>"){html="<p>&#160;</p>";}if(!html&&has("webkit")){html="&#160;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!has("mozilla")){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&#160;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;_37b.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;_37b.forEach(this.contentDomPreFilters,function(ef){if(ef&&lang.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_3d0){var ec;if(!lang.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_3d0){dom=lang.clone(dom);}_37b.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=_38f.getChildrenHtml(dom);}else{ec=dom;}if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}_37b.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(){var _3d1=dom.byId(_391._scopeName+"._editor.RichText.value");if(_3d1){if(_3d1.value){_3d1.value+=this._SEPARATOR;}_3d1.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);}},escapeXml:function(str,_3d2){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_3d2){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){_385.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);return _38f.getNodeHtml(node);},getNodeChildrenHtml:function(dom){_385.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return _38f.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this.disconnect(this._webkitListener);delete this._webkitListener;}if(has("ie")){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){this._iframeRegHandle.remove();delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(has("ie")){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;_381.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;_380.remove(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}if(this._updateTimer){clearTimeout(this._updateTimer);}this.inherited(arguments);if(_392._globalSaveHandler){delete _392._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_browserQueryCommandEnabled:function(_3d3){if(!_3d3){return false;}var elem=has("ie")?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_3d3);}catch(e){return false;}},_createlinkEnabledImpl:function(){var _3d4=true;if(has("opera")){var sel=this.window.getSelection();if(sel.isCollapsed){_3d4=true;}else{_3d4=this.document.queryCommandEnabled("createlink");}}else{_3d4=this._browserQueryCommandEnabled("createlink");}return _3d4;},_unlinkEnabledImpl:function(){var _3d5=true;if(has("mozilla")||has("webkit")){_3d5=this._sCall("hasAncestorElement",["a"]);}else{_3d5=this._browserQueryCommandEnabled("unlink");}return _3d5;},_inserttableEnabledImpl:function(){var _3d6=true;if(has("mozilla")||has("webkit")){_3d6=true;}else{_3d6=this._browserQueryCommandEnabled("inserttable");}return _3d6;},_cutEnabledImpl:function(){var _3d7=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_3d7=!!sel;}else{_3d7=this._browserQueryCommandEnabled("cut");}return _3d7;},_copyEnabledImpl:function(){var _3d8=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_3d8=!!sel;}else{_3d8=this._browserQueryCommandEnabled("copy");}return _3d8;},_pasteEnabledImpl:function(){var _3d9=true;if(has("webkit")){return true;}else{_3d9=this._browserQueryCommandEnabled("paste");}return _3d9;},_inserthorizontalruleImpl:function(_3da){if(has("ie")){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_3da);},_unlinkImpl:function(_3db){if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_3db);},_hilitecolorImpl:function(_3dc){var _3dd;var _3de=this._handleTextColorOrProperties("hilitecolor",_3dc);if(!_3de){if(has("mozilla")){this.document.execCommand("styleWithCSS",false,true);console.log("Executing color command.");_3dd=this.document.execCommand("hilitecolor",false,_3dc);this.document.execCommand("styleWithCSS",false,false);}else{_3dd=this.document.execCommand("hilitecolor",false,_3dc);}}return _3dd;},_backcolorImpl:function(_3df){if(has("ie")){_3df=_3df?_3df:null;}var _3e0=this._handleTextColorOrProperties("backcolor",_3df);if(!_3e0){_3e0=this.document.execCommand("backcolor",false,_3df);}return _3e0;},_forecolorImpl:function(_3e1){if(has("ie")){_3e1=_3e1?_3e1:null;}var _3e2=false;_3e2=this._handleTextColorOrProperties("forecolor",_3e1);if(!_3e2){_3e2=this.document.execCommand("forecolor",false,_3e1);}return _3e2;},_inserthtmlImpl:function(_3e3){_3e3=this._preFilterContent(_3e3);var rv=true;if(has("ie")){var _3e4=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()==="CONTROL"){var n=_3e4.item(0);while(_3e4.length){_3e4.remove(_3e4.item(0));}n.outerHTML=_3e3;}else{_3e4.pasteHTML(_3e3);}_3e4.select();}else{if(has("mozilla")&&!_3e3.length){this._sCall("remove");}else{rv=this.document.execCommand("inserthtml",false,_3e3);}}return rv;},_boldImpl:function(_3e5){var _3e6=false;if(has("ie")){this._adaptIESelection();_3e6=this._adaptIEFormatAreaAndExec("bold");}if(!_3e6){_3e6=this.document.execCommand("bold",false,_3e5);}return _3e6;},_italicImpl:function(_3e7){var _3e8=false;if(has("ie")){this._adaptIESelection();_3e8=this._adaptIEFormatAreaAndExec("italic");}if(!_3e8){_3e8=this.document.execCommand("italic",false,_3e7);}return _3e8;},_underlineImpl:function(_3e9){var _3ea=false;if(has("ie")){this._adaptIESelection();_3ea=this._adaptIEFormatAreaAndExec("underline");}if(!_3ea){_3ea=this.document.execCommand("underline",false,_3e9);}return _3ea;},_strikethroughImpl:function(_3eb){var _3ec=false;if(has("ie")){this._adaptIESelection();_3ec=this._adaptIEFormatAreaAndExec("strikethrough");}if(!_3ec){_3ec=this.document.execCommand("strikethrough",false,_3eb);}return _3ec;},_superscriptImpl:function(_3ed){var _3ee=false;if(has("ie")){this._adaptIESelection();_3ee=this._adaptIEFormatAreaAndExec("superscript");}if(!_3ee){_3ee=this.document.execCommand("superscript",false,_3ed);}return _3ee;},_subscriptImpl:function(_3ef){var _3f0=false;if(has("ie")){this._adaptIESelection();_3f0=this._adaptIEFormatAreaAndExec("subscript");}if(!_3f0){_3f0=this.document.execCommand("subscript",false,_3ef);}return _3f0;},_fontnameImpl:function(_3f1){var _3f2;if(has("ie")){_3f2=this._handleTextColorOrProperties("fontname",_3f1);}if(!_3f2){_3f2=this.document.execCommand("fontname",false,_3f1);}return _3f2;},_fontsizeImpl:function(_3f3){var _3f4;if(has("ie")){_3f4=this._handleTextColorOrProperties("fontsize",_3f3);}if(!_3f4){_3f4=this.document.execCommand("fontsize",false,_3f3);}return _3f4;},_insertorderedlistImpl:function(_3f5){var _3f6=false;if(has("ie")){_3f6=this._adaptIEList("insertorderedlist",_3f5);}if(!_3f6){_3f6=this.document.execCommand("insertorderedlist",false,_3f5);}return _3f6;},_insertunorderedlistImpl:function(_3f7){var _3f8=false;if(has("ie")){_3f8=this._adaptIEList("insertunorderedlist",_3f7);}if(!_3f8){_3f8=this.document.execCommand("insertunorderedlist",false,_3f7);}return _3f8;},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=_382.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_3f9){if(node.nodeType===1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_3f9);}return true;}else{if(node.nodeType===3){return (node.nodeValue.substring(_3f9)==="");}}return false;},_removeStartingRangeFromRange:function(node,_3fa){if(node.nextSibling){_3fa.setStart(node.nextSibling,0);}else{var _3fb=node.parentNode;while(_3fb&&_3fb.nextSibling==null){_3fb=_3fb.parentNode;}if(_3fb){_3fa.setStart(_3fb.nextSibling,0);}}return _3fa;},_adaptIESelection:function(){var _3fc=_38e.getSelection(this.window);if(_3fc&&_3fc.rangeCount&&!_3fc.isCollapsed){var _3fd=_3fc.getRangeAt(0);var _3fe=_3fd.startContainer;var _3ff=_3fd.startOffset;while(_3fe.nodeType===3&&_3ff>=_3fe.length&&_3fe.nextSibling){_3ff=_3ff-_3fe.length;_3fe=_3fe.nextSibling;}var _400=null;while(this._isNodeEmpty(_3fe,_3ff)&&_3fe!==_400){_400=_3fe;_3fd=this._removeStartingRangeFromRange(_3fe,_3fd);_3fe=_3fd.startContainer;_3ff=0;}_3fc.removeAllRanges();_3fc.addRange(_3fd);}},_adaptIEFormatAreaAndExec:function(_401){var _402=_38e.getSelection(this.window);var doc=this.document;var rs,ret,_403,txt,_404,_405,_406,_407;if(_401&&_402&&_402.isCollapsed){var _408=this.queryCommandValue(_401);if(_408){var _409=this._tagNamesForCommand(_401);_403=_402.getRangeAt(0);var fs=_403.startContainer;if(fs.nodeType===3){var _40a=_403.endOffset;if(fs.length<_40a){ret=this._adjustNodeAndOffset(rs,_40a);fs=ret.node;_40a=ret.offset;}}var _40b;while(fs&&fs!==this.editNode){var _40c=fs.tagName?fs.tagName.toLowerCase():"";if(_37b.indexOf(_409,_40c)>-1){_40b=fs;break;}fs=fs.parentNode;}if(_40b){rs=_403.startContainer;var _40d=doc.createElement(_40b.tagName);_381.place(_40d,_40b,"after");if(rs&&rs.nodeType===3){var _40e,_40f;var _410=_403.endOffset;if(rs.length<_410){ret=this._adjustNodeAndOffset(rs,_410);rs=ret.node;_410=ret.offset;}txt=rs.nodeValue;_404=doc.createTextNode(txt.substring(0,_410));var _411=txt.substring(_410,txt.length);if(_411){_405=doc.createTextNode(_411);}_381.place(_404,rs,"before");if(_405){_406=doc.createElement("span");_406.className="ieFormatBreakerSpan";_381.place(_406,rs,"after");_381.place(_405,_406,"after");_405=_406;}_381.destroy(rs);var _412=_404.parentNode;var _413=[];var _414;while(_412!==_40b){var tg=_412.tagName;_414={tagName:tg};_413.push(_414);var _415=doc.createElement(tg);if(_412.style){if(_415.style){if(_412.style.cssText){_415.style.cssText=_412.style.cssText;_414.cssText=_412.style.cssText;}}}if(_412.tagName==="FONT"){if(_412.color){_415.color=_412.color;_414.color=_412.color;}if(_412.face){_415.face=_412.face;_414.face=_412.face;}if(_412.size){_415.size=_412.size;_414.size=_412.size;}}if(_412.className){_415.className=_412.className;_414.className=_412.className;}if(_405){_40e=_405;while(_40e){_40f=_40e.nextSibling;_415.appendChild(_40e);_40e=_40f;}}if(_415.tagName==_412.tagName){_406=doc.createElement("span");_406.className="ieFormatBreakerSpan";_381.place(_406,_412,"after");_381.place(_415,_406,"after");}else{_381.place(_415,_412,"after");}_404=_412;_405=_415;_412=_412.parentNode;}if(_405){_40e=_405;if(_40e.nodeType===1||(_40e.nodeType===3&&_40e.nodeValue)){_40d.innerHTML="";}while(_40e){_40f=_40e.nextSibling;_40d.appendChild(_40e);_40e=_40f;}}if(_413.length){_414=_413.pop();var _416=doc.createElement(_414.tagName);if(_414.cssText&&_416.style){_416.style.cssText=_414.cssText;}if(_414.className){_416.className=_414.className;}if(_414.tagName==="FONT"){if(_414.color){_416.color=_414.color;}if(_414.face){_416.face=_414.face;}if(_414.size){_416.size=_414.size;}}_381.place(_416,_40d,"before");while(_413.length){_414=_413.pop();var _417=doc.createElement(_414.tagName);if(_414.cssText&&_417.style){_417.style.cssText=_414.cssText;}if(_414.className){_417.className=_414.className;}if(_414.tagName==="FONT"){if(_414.color){_417.color=_414.color;}if(_414.face){_417.face=_414.face;}if(_414.size){_417.size=_414.size;}}_416.appendChild(_417);_416=_417;}_407=doc.createTextNode(".");_406.appendChild(_407);_416.appendChild(_407);win.withGlobal(this.window,lang.hitch(this,function(){var _418=_38e.create();_418.setStart(_407,0);_418.setEnd(_407,_407.length);_402.removeAllRanges();_402.addRange(_418);_38d.collapse(false);_407.parentNode.innerHTML="";}));}else{_406=doc.createElement("span");_406.className="ieFormatBreakerSpan";_407=doc.createTextNode(".");_406.appendChild(_407);_381.place(_406,_40d,"before");win.withGlobal(this.window,lang.hitch(this,function(){var _419=_38e.create();_419.setStart(_407,0);_419.setEnd(_407,_407.length);_402.removeAllRanges();_402.addRange(_419);_38d.collapse(false);_407.parentNode.innerHTML="";}));}if(!_40d.firstChild){_381.destroy(_40d);}return true;}}return false;}else{_403=_402.getRangeAt(0);rs=_403.startContainer;if(rs&&rs.nodeType===3){win.withGlobal(this.window,lang.hitch(this,function(){var _41a=_403.startOffset;if(rs.length<_41a){ret=this._adjustNodeAndOffset(rs,_41a);rs=ret.node;_41a=ret.offset;}txt=rs.nodeValue;_404=doc.createTextNode(txt.substring(0,_41a));var _41b=txt.substring(_41a);if(_41b!==""){_405=doc.createTextNode(txt.substring(_41a));}_406=doc.createElement("span");_407=doc.createTextNode(".");_406.appendChild(_407);if(_404.length){_381.place(_404,rs,"after");}else{_404=rs;}_381.place(_406,_404,"after");if(_405){_381.place(_405,_406,"after");}_381.destroy(rs);var _41c=_38e.create();_41c.setStart(_407,0);_41c.setEnd(_407,_407.length);_402.removeAllRanges();_402.addRange(_41c);doc.execCommand(_401);_381.place(_406.firstChild,_406,"before");_381.destroy(_406);_41c.setStart(_407,0);_41c.setEnd(_407,_407.length);_402.removeAllRanges();_402.addRange(_41c);_38d.collapse(false);_407.parentNode.innerHTML="";}));return true;}}}else{return false;}},_adaptIEList:function(_41d){var _41e=_38e.getSelection(this.window);if(_41e.isCollapsed){if(_41e.rangeCount&&!this.queryCommandValue(_41d)){var _41f=_41e.getRangeAt(0);var sc=_41f.startContainer;if(sc&&sc.nodeType==3){if(!_41f.startOffset){win.withGlobal(this.window,lang.hitch(this,function(){var _420="ul";if(_41d==="insertorderedlist"){_420="ol";}var list=_381.create(_420);var li=_381.create("li",null,list);_381.place(list,sc,"before");li.appendChild(sc);_381.create("br",null,list,"after");var _421=_38e.create();_421.setStart(sc,0);_421.setEnd(sc,sc.length);_41e.removeAllRanges();_41e.addRange(_421);_38d.collapse(true);}));return true;}}}}return false;},_handleTextColorOrProperties:function(_422,_423){var _424=_38e.getSelection(this.window);var doc=this.document;var rs,ret,_425,txt,_426,_427,_428,_429;_423=_423||null;if(_422&&_424&&_424.isCollapsed){if(_424.rangeCount){_425=_424.getRangeAt(0);rs=_425.startContainer;if(rs&&rs.nodeType===3){win.withGlobal(this.window,lang.hitch(this,function(){var _42a=_425.startOffset;if(rs.length<_42a){ret=this._adjustNodeAndOffset(rs,_42a);rs=ret.node;_42a=ret.offset;}txt=rs.nodeValue;_426=doc.createTextNode(txt.substring(0,_42a));var _42b=txt.substring(_42a);if(_42b!==""){_427=doc.createTextNode(txt.substring(_42a));}_428=_381.create("span");_429=doc.createTextNode(".");_428.appendChild(_429);var _42c=_381.create("span");_428.appendChild(_42c);if(_426.length){_381.place(_426,rs,"after");}else{_426=rs;}_381.place(_428,_426,"after");if(_427){_381.place(_427,_428,"after");}_381.destroy(rs);var _42d=_38e.create();_42d.setStart(_429,0);_42d.setEnd(_429,_429.length);_424.removeAllRanges();_424.addRange(_42d);if(has("webkit")){var _42e="color";if(_422==="hilitecolor"||_422==="backcolor"){_42e="backgroundColor";}_383.set(_428,_42e,_423);_38d.remove();_381.destroy(_42c);_428.innerHTML="&#160;";_38d.selectElement(_428);this.focus();}else{this.execCommand(_422,_423);_381.place(_428.firstChild,_428,"before");_381.destroy(_428);_42d.setStart(_429,0);_42d.setEnd(_429,_429.length);_424.removeAllRanges();_424.addRange(_42d);_38d.collapse(false);_429.parentNode.removeChild(_429);}}));return true;}}}return false;},_adjustNodeAndOffset:function(node,_42f){while(node.length<_42f&&node.nextSibling&&node.nextSibling.nodeType===3){_42f=_42f-node.length;node=node.nextSibling;}return {"node":node,"offset":_42f};},_tagNamesForCommand:function(_430){if(_430==="bold"){return ["b","strong"];}else{if(_430==="italic"){return ["i","em"];}else{if(_430==="strikethrough"){return ["s","strike"];}else{if(_430==="superscript"){return ["sup"];}else{if(_430==="subscript"){return ["sub"];}else{if(_430==="underline"){return ["u"];}}}}}}return [];},_stripBreakerNodes:function(node){win.withGlobal(this.window,lang.hitch(this,function(){var _431=_386(".ieFormatBreakerSpan",node);var i;for(i=0;i<_431.length;i++){var b=_431[i];while(b.firstChild){_381.place(b.firstChild,b,"before");}_381.destroy(b);}}));return node;}});return _392;});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_432){return function(_433,_434){switch(typeof _433){default:throw new Error("Can not query with a "+typeof _433);case "object":case "undefined":var _435=_433;_433=function(_436){for(var key in _435){var _437=_435[key];if(_437&&_437.test){if(!_437.test(_436[key])){return false;}}else{if(_437!=_436[key]){return false;}}}return true;};break;case "string":if(!this[_433]){throw new Error("No filter function "+_433+" was found in store");}_433=this[_433];case "function":}function _438(_439){var _43a=_432.filter(_439,_433);if(_434&&_434.sort){_43a.sort(function(a,b){for(var sort,i=0;sort=_434.sort[i];i++){var _43b=a[sort.attribute];var _43c=b[sort.attribute];if(_43b!=_43c){return !!sort.descending==_43b>_43c?-1:1;}}return 0;});}if(_434&&(_434.start||_434.count)){var _43d=_43a.length;_43a=_43a.slice(_434.start||0,(_434.start||0)+(_434.count||Infinity));_43a.total=_43d;}return _43a;};_438.matches=_433;return _438;};});},"dojo/cldr/nls/number":function(){define({root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:letter:]","infinity":"∞","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":" ","nan":"NaN","nativeZeroDigit":"0","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:letter:]","currencyFormat":"¤ #,##0.00","perMille":"‰","group":",","percentFormat":"#,##0%","decimalFormat":"#,##0.###","decimal":".","patternDigit":"#","currencySpacing-beforeCurrency-insertBetween":" ","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/_base/sniff","."],function(_43e,_43f,_440,_441,lang,on,has,_442){var _443=(_442.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_444,node,_445,obj,_446,_447,_448){if(obj!=this._obj){this.stop();this._initialDelay=_447||500;this._subsequentDelay=_446||0.9;this._minDelay=_448||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_444,_445);this._fireEventAndReload();this._evt=lang.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_449,_44a,_44b,_44c,_44d,_44e){if(_449.keyCode){_449.charOrCode=_449.keyCode;_441.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_449.charCode){_449.charOrCode=String.fromCharCode(_449.charCode);_441.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _44f=[on(node,_43f._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_449.charOrCode&&(_449.ctrlKey===undefined||_449.ctrlKey==evt.ctrlKey)&&(_449.altKey===undefined||_449.altKey==evt.altKey)&&(_449.metaKey===undefined||_449.metaKey==(evt.metaKey||false))&&(_449.shiftKey===undefined||_449.shiftKey==evt.shiftKey)){_440.stop(evt);_443.trigger(evt,_44a,node,_44b,_449,_44c,_44d,_44e);}else{if(_443._obj==_449){_443.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_443._obj==_449){_443.stop();}}))];return {remove:function(){_43e.forEach(_44f,function(h){h.remove();});}};},addMouseListener:function(node,_450,_451,_452,_453,_454){var _455=[on(node,"mousedown",lang.hitch(this,function(evt){_440.stop(evt);_443.trigger(evt,_450,node,_451,node,_452,_453,_454);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){_440.stop(evt);}_443.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){_440.stop(evt);_443.stop();})),on(node,"mousemove",lang.hitch(this,function(evt){evt.preventDefault();})),on(node,"dblclick",lang.hitch(this,function(evt){_440.stop(evt);if(has("ie")){_443.trigger(evt,_450,node,_451,node,_452,_453,_454);setTimeout(lang.hitch(this,_443.stop),50);}}))];return {remove:function(){_43e.forEach(_455,function(h){h.remove();});}};},addListener:function(_456,_457,_458,_459,_45a,_45b,_45c,_45d){var _45e=[this.addKeyListener(_457,_458,_459,_45a,_45b,_45c,_45d),this.addMouseListener(_456,_459,_45a,_45b,_45c,_45d)];return {remove:function(){_43e.forEach(_45e,function(h){h.remove();});}};}});return _443;});},"esri/dijit/editing/AttachmentEditor":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_Templated"],function(_45f,dojo,_460){dojo.provide("esri.dijit.editing.AttachmentEditor");dojo.require("dijit._Widget");dojo.require("dijit._Templated");(function(){var css=[dojo.moduleUrl("esri.dijit.editing","css/attachment.css")];var head=document.getElementsByTagName("head").item(0),link,i,il=css.length;for(i=0;i<il;i++){link=document.createElement("link");link.type="text/css";link.rel="stylesheet";link.href=css[i];head.appendChild(link);}}());dojo.declare("esri.dijit.editing.AttachmentEditor",[_45f._Widget,_45f._Templated],{widgetsInTemplate:true,templateString:"<div class=\"attachmentEditor\">\r\n    <br />\r\n    <div>\r\n        <b>${NLS_attachments}</b>\r\n        <hr />\r\n        <br /> \r\n        <span dojoAttachPoint='_attachmentList' style='word-wrap: break-word;'></span>\r\n        <br><br>\r\n        <form dojoAttachPoint='_uploadForm'> ${NLS_add}:&nbsp;&nbsp;<input type='file' name='attachment' dojoAttachPoint='_uploadField' /> </form>\r\n    </div>\r\n</div>",basePath:dojo.moduleUrl("esri.dijit.editing"),_listHtml:"<span id='node_${oid}_${attid}'><a href='${href}' target='_blank'>${name}</a>",_deleteBtnHtml:"(<span style='cursor:pointer;color:red;font-weight:bold;' class='deleteAttachment' id='${attid}');'>X</span>)",_endHtml:"<br/></span>",_aeConnects:[],_layerEditingCapChecked:{},_layerEditingCap:{},constructor:function(_461,_462){dojo.mixin(this,esri.bundle.widgets.attachmentEditor);},startup:function(){this.inherited(arguments);this._uploadField_connect=dojo.connect(this._uploadField,"onchange",this,"_addAttachment");},destroy:function(){dojo.forEach(this._aeConnects,dojo.disconnect);dojo.disconnect(this._uploadField_connect);this.inherited(arguments);},showAttachments:function(_463,_464){var list=this._attachmentList;list.innerHTML=this.NLS_none;this._uploadField.value="";if(!_463){return;}this._featureLayer=_463.getLayer()||_464;if(!this._featureLayer){return;}this._currentLayerId=this._featureLayer.id;if(!this._layerEditingCapChecked[this._currentLayerId]){this._layerEditingCap[this._currentLayerId]=this._featureLayer.getEditCapabilities();this._layerEditingCapChecked[this._currentLayerId]=true;}this._featureCanUpdate=this._featureLayer.getEditCapabilities({feature:_463}).canUpdate;this._oid=_463.attributes[this._featureLayer.objectIdField];this._getAttachments(_463);},_getAttachments:function(_465){if(!this._featureLayer||!this._featureLayer.queryAttachmentInfos){return;}this._featureLayer.queryAttachmentInfos(this._oid,dojo.hitch(this,"_onQueryAttachmentInfosComplete"));},_addAttachment:function(){if(!this._featureLayer||!this._featureLayer.addAttachment){return;}this._featureLayer.addAttachment(this._oid,this._uploadForm,dojo.hitch(this,"_onAddAttachmentComplete"));},_deleteAttachment:function(oid,_466){this._featureLayer.deleteAttachments(oid,[_466],dojo.hitch(this,"_onDeleteAttachmentComplete"));},_onQueryAttachmentInfosComplete:function(_467){var _468=this._listHtml+this._deleteBtnHtml+this._endHtml;this._uploadForm.style.display="block";if((!this._featureCanUpdate&&this._layerEditingCap[this._currentLayerId].canUpdate)||(!this._layerEditingCap[this._currentLayerId].canCreate&&!this._layerEditingCap[this._currentLayerId].canUpdate)){_468=this._listHtml+this._endHtml;this._uploadForm.style.display="none";}else{if(this._layerEditingCap[this._currentLayerId].canCreate&&!this._layerEditingCap[this._currentLayerId].canUpdate){_468=this._listHtml+this._endHtml;}}var list=this._attachmentList,_469=dojo.map(_467,dojo.hitch(this,function(info){return esri.substitute({href:info.url,name:info.name,oid:info.objectId,attid:info.id},_468);}));list.innerHTML=_469.join("")||this.NLS_none;this._updateConnects();},_onAddAttachmentComplete:function(_46a){var _46b=this._uploadField;var _46c=_46b.value;var pos=_46c.lastIndexOf("\\");if(pos>-1){_46c=_46c.substring(pos+1,_46c.length);}_46c=_46c.replace(/\ /g,"_");var list=this._attachmentList,_46d=dojo.objectToQuery({gdbVersion:this._featureLayer.gdbVersion,token:this._featureLayer._getToken()});var _46e=this._listHtml+this._deleteBtnHtml+this._endHtml;if(this._layerEditingCap[this._currentLayerId].canCreate&&!this._layerEditingCap[this._currentLayerId].canUpdate){_46e=this._listHtml+this._endHtml;}var link=esri.substitute({href:this._featureLayer._url.path+"/"+_46a.objectId+"/attachments/"+_46a.attachmentId+(_46d?("?"+_46d):""),name:_46c,oid:_46a.objectId,attid:_46a.attachmentId},_46e);list.innerHTML=list.innerHTML==this.NLS_none?link:(list.innerHTML+link);this._updateConnects();_46b.value="";},_onDeleteAttachmentComplete:function(_46f){var _470=dojo.every(_46f,function(_471){return _471.success;});if(_470){dojo.byId("node_"+_46f[0].objectId+"_"+_46f[0].attachmentId).innerHTML="";}},_updateConnects:function(){dojo.forEach(this._aeConnects,dojo.disconnect);dojo.query(".deleteAttachment").forEach(function(item){this._aeConnects.push(dojo.connect(item,"onclick",dojo.hitch(this,"_deleteAttachment",this._oid,item.id)));},this);}});});},"dojo/cldr/supplemental":function(){define(["../_base/kernel","../_base/lang","../i18n"],function(dojo,lang){lang.getObject("cldr.supplemental",true,dojo);dojo.cldr.supplemental.getFirstDayOfWeek=function(_472){var _473={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};var _474=dojo.cldr.supplemental._region(_472);var dow=_473[_474];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_475){_475=dojo.i18n.normalizeLocale(_475);var tags=_475.split("-");var _476=tags[1];if(!_476){_476={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_476.length==4){_476=tags[2];}}return _476;};dojo.cldr.supplemental.getWeekend=function(_477){var _478={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5};var _479={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6};var _47a=dojo.cldr.supplemental._region(_477);var _47b=_478[_47a];var end=_479[_47a];if(_47b===undefined){_47b=6;}if(end===undefined){end=0;}return {start:_47b,end:end};};return dojo.cldr.supplemental;});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_47c,dom,_47d,_47e){return _47c("dijit.ToolbarSeparator",[_47d,_47e],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/sniff","dojo/_base/window"],function(lang,_47f,_480,_481,_482,_483,_484,_485,has,win){return _482("dijit.layout._LayoutWidget",[_47f,_480,_481],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_483.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _486=this.getParent&&this.getParent();if(!(_486&&_486.isLayoutContainer)){this.resize();this.connect(win.global,"onresize",function(){this.resize();});}},resize:function(_487,_488){var node=this.domNode;if(_487){_484.setMarginBox(node,_487);}var mb=_488||{};lang.mixin(mb,_487||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_484.getMarginBox(node),mb);}var cs=_485.getComputedStyle(node);var me=_484.getMarginExtents(node,cs);var be=_484.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_484.getPadExtents(node,cs);this._contentBox={l:_485.toPixelValue(node,cs.paddingLeft),t:_485.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_489){var cls=this.baseClass+"-child "+(_489.baseClass?this.baseClass+"-"+_489.baseClass:"");_483.add(_489.domNode,cls);},addChild:function(_48a,_48b){this.inherited(arguments);if(this._started){this._setupChild(_48a);}},removeChild:function(_48c){var cls=this.baseClass+"-child"+(_48c.baseClass?" "+this.baseClass+"-"+_48c.baseClass:"");_483.remove(_48c.domNode,cls);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","./place","./BackgroundIframe","."],function(_48d,_48e,_48f,_490,dom,_491,_492,_493,_494,_495,keys,lang,on,has,win,_496,_497,_498){function _499(){if(this._popupWrapper){_492.destroy(this._popupWrapper);delete this._popupWrapper;}};var _49a=_490(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_49b){var _49c=_49b._popupWrapper,node=_49b.domNode;if(!_49c){_49c=_492.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},win.body());_49c.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_49b._popupWrapper=_49c;_48e.after(_49b,"destroy",_499,true);}return _49c;},moveOffScreen:function(_49d){var _49e=this._createWrapper(_49d);_494.set(_49e,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_49f){var _4a0=this._createWrapper(_49f);_494.set(_4a0,"display","none");},getTopPopup:function(){var _4a1=this._stack;for(var pi=_4a1.length-1;pi>0&&_4a1[pi].parent===_4a1[pi-1].widget;pi--){}return _4a1[pi];},open:function(args){var _4a2=this._stack,_4a3=args.popup,_4a4=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_493.isBodyLtr(),_4a5=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_4a2.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_4a2[_4a2.length-1].widget.domNode))){this.close(_4a2[_4a2.length-1].widget);}var _4a6=this._createWrapper(_4a3);_491.set(_4a6,{id:id,style:{zIndex:this._beginZIndex+_4a2.length},"class":"dijitPopup "+(_4a3.baseClass||_4a3["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("ie")||has("mozilla")){if(!_4a3.bgIframe){_4a3.bgIframe=new _497(_4a6);}}var best=_4a5?_496.around(_4a6,_4a5,_4a4,ltr,_4a3.orient?lang.hitch(_4a3,"orient"):null):_496.at(_4a6,args,_4a4=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_4a6.style.display="";_4a6.style.visibility="visible";_4a3.domNode.style.visibility="visible";var _4a7=[];_4a7.push(on(_4a6,_48f._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_495.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_495.stop(evt);var _4a8=this.getTopPopup();if(_4a8&&_4a8.onCancel){_4a8.onCancel();}}}})));if(_4a3.onCancel&&args.onCancel){_4a7.push(_4a3.on("cancel",args.onCancel));}_4a7.push(_4a3.on(_4a3.onExecute?"execute":"change",lang.hitch(this,function(){var _4a9=this.getTopPopup();if(_4a9&&_4a9.onExecute){_4a9.onExecute();}})));_4a2.push({widget:_4a3,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_4a7});if(_4a3.onOpen){_4a3.onOpen(best);}return best;},close:function(_4aa){var _4ab=this._stack;while((_4aa&&_48d.some(_4ab,function(elem){return elem.widget==_4aa;}))||(!_4aa&&_4ab.length)){var top=_4ab.pop(),_4ac=top.widget,_4ad=top.onClose;if(_4ac.onClose){_4ac.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_4ac&&_4ac.domNode){this.hide(_4ac);}if(_4ad){_4ad();}}}});return (_498.popup=new _49a());});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require",".","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window"],function(_4ae,_4af,_4b0,_4b1,_4b2,lang,on,has,win){var _4b3=new function(){var _4b4=[];this.pop=function(){var _4b5;if(_4b4.length){_4b5=_4b4.pop();_4b5.style.display="";}else{if(has("ie")<9){var burl=_4b0["dojoBlankHtmlUrl"]||_4ae.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4b5=win.doc.createElement(html);}else{_4b5=_4b1.create("iframe");_4b5.src="javascript:\"\"";_4b5.className="dijitBackgroundIframe";_4b5.setAttribute("role","presentation");_4b2.set(_4b5,"opacity",0.1);}_4b5.tabIndex=-1;}return _4b5;};this.push=function(_4b6){_4b6.style.display="none";_4b4.push(_4b6);};}();_4af.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("ie")||has("mozilla")){var _4b7=(this.iframe=_4b3.pop());node.appendChild(_4b7);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_4b2.set(_4b7,{width:"100%",height:"100%"});}}};lang.extend(_4af.BackgroundIframe,{resize:function(node){if(this.iframe){_4b2.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_4b3.push(this.iframe);delete this.iframe;}}});return _4af.BackgroundIframe;});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\r\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\"\r\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t\t\t${_buttonInputDisabled}\r\n\t\t\t/></div\r\n\t\t></div\r\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\r\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\"\r\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t\t\t${_buttonInputDisabled}\r\n\t\t\t/></div\r\n\t\t></div\r\n\t></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\r\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\r\n\t/></div\r\n></div>\r\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dijit/typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_4b8,_4b9,keys,lang,has,_4ba,_4bb,_4bc,_4bd){return _4b8("dijit.form._Spinner",_4bb,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_4bc,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_4be,_4bf,_4c0){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_4bf*_4c0),false);_4bd.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_4c1,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_4c1==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_4b9.stop(evt);var _4c2=evt.wheelDelta/120;if(Math.floor(_4c2)!=_4c2){_4c2=evt.wheelDelta>0?1:-1;}var _4c3=evt.detail?(evt.detail*-1):_4c2;if(_4c3!==0){var node=this[(_4c3>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_4c3,this.smallDelta);if(!this._wheelTimer){clearTimeout(this._wheelTimer);}this._wheelTimer=setTimeout(lang.hitch(this,"_arrowReleased",node),50);}},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,!has("mozilla")?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(_4ba.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(_4ba.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(_4ba.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(_4ba.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_4c4,_4c5,_4c6,_4c7,lang,_4c8,_4c9,_4ca,_4cb){if(!_4c7.isAsync){_4c8(0,function(){var _4cc=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_4c4(_4cc);});}return _4c5("dijit.form.Button",[_4c9,_4ca],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_4cb,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();}}return ok;},_fillContent:function(_4cd){if(_4cd&&(!this.params||!("label" in this.params))){var _4ce=lang.trim(_4cd.innerHTML);if(_4ce){this.label=_4ce;}}},_setShowLabelAttr:function(val){if(this.containerNode){_4c6.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_4cf){_4c7.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_4cf);},_setLabelAttr:function(_4d0){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./registry"],function(_4d1,_4d2,_4d3,_4d4,_4d5,_4d6,dom,_4d7,_4d8,_4d9,_4da,_4db,_4dc,lang,on,_4dd,_4de,_4df,win,_4e0){if(!_4dc.isAsync){_4dd(0,function(){var _4e1=["dijit/_base/manager"];_4d1(_4e1);});}var _4e2={};function _4e3(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _4e4(attr){return function(val){_4d7[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};return _4d6("dijit._WidgetBase",_4de,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_4e4("lang"),dir:"",_setDirAttr:_4e4("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:_4d4.blankGif||_4d1.toUrl("dojo/resources/blank.gif"),postscript:function(_4e5,_4e6){this.create(_4e5,_4e6);},create:function(_4e7,_4e8){this.srcNodeRef=dom.byId(_4e8);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_4e7){this.params=_4e7;lang.mixin(this,_4e7);}this.postMixInProperties();if(!this.id){this.id=_4e0.getUniqueId(this.declaredClass.replace(/\./g,"_"));}_4e0.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _4e9=this.srcNodeRef;if(_4e9&&_4e9.parentNode&&this.domNode!==_4e9){_4e9.parentNode.replaceChild(this.domNode,_4e9);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var ctor=this.constructor,list=ctor._setterAttrs;if(!list){list=(ctor._setterAttrs=[]);for(var attr in this.attributeMap){list.push(attr);}var _4ea=ctor.prototype;for(var _4eb in _4ea){if(_4eb in this.attributeMap){continue;}var _4ec="_set"+_4eb.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_4ec in _4ea){list.push(_4eb);}}}_4d2.forEach(list,function(attr){if(this.params&&attr in this.params){}else{if(this[attr]){this.set(attr,this[attr]);}}},this);for(var _4ed in this.params){this.set(_4ed,this[_4ed]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_4d9.create("div");}if(this.baseClass){var _4ee=this.baseClass.split(" ");if(!this.isLeftToRight()){_4ee=_4ee.concat(_4d2.map(_4ee,function(name){return name+"Rtl";}));}_4d8.add(this.domNode,_4ee);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_4d2.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_4ef){this._beingDestroyed=true;this.destroyDescendants(_4ef);this.destroy(_4ef);},destroy:function(_4f0){this._beingDestroyed=true;this.uninitialize();var c;while((c=this._connects.pop())){c.remove();}var w;while((w=this._supportingWidgets.pop())){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}}this.destroyRendering(_4f0);_4e0.remove(this.id);this._destroyed=true;},destroyRendering:function(_4f1){if(this.bgIframe){this.bgIframe.destroy(_4f1);delete this.bgIframe;}if(this.domNode){if(_4f1){_4d7.remove(this.domNode,"widgetId");}else{_4d9.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_4f1){_4d9.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_4f2){_4d2.forEach(this.getChildren(),function(_4f3){if(_4f3.destroyRecursive){_4f3.destroyRecursive(_4f2);}});},uninitialize:function(){return false;},_setStyleAttr:function(_4f4){var _4f5=this.domNode;if(lang.isObject(_4f4)){_4db.set(_4f5,_4f4);}else{if(_4f5.style.cssText){_4f5.style.cssText+="; "+_4f4;}else{_4f5.style.cssText=_4f4;}}this._set("style",_4f4);},_attrToDom:function(attr,_4f6,_4f7){_4f7=arguments.length>=3?_4f7:this.attributeMap[attr];_4d2.forEach(lang.isArray(_4f7)?_4f7:[_4f7],function(_4f8){var _4f9=this[_4f8.node||_4f8||"domNode"];var type=_4f8.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_4f6)){_4f6=lang.hitch(this,_4f6);}var _4fa=_4f8.attribute?_4f8.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);_4d7.set(_4f9,_4fa,_4f6);break;case "innerText":_4f9.innerHTML="";_4f9.appendChild(win.doc.createTextNode(_4f6));break;case "innerHTML":_4f9.innerHTML=_4f6;break;case "class":_4d8.replace(_4f9,_4f6,this[attr]);break;}},this);},get:function(name){var _4fb=this._getAttrNames(name);return this[_4fb.g]?this[_4fb.g]():this[name];},set:function(name,_4fc){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _4fd=this._getAttrNames(name),_4fe=this[_4fd.s];if(lang.isFunction(_4fe)){var _4ff=_4fe.apply(this,Array.prototype.slice.call(arguments,1));}else{var _500=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_500].tagName,_501=_4e2[tag]||(_4e2[tag]=_4e3(this[_500])),map=name in this.attributeMap?this.attributeMap[name]:_4fd.s in this?this[_4fd.s]:((_4fd.l in _501&&typeof _4fc!="function")||/^aria-|^data-|^role$/.test(name))?_500:null;if(map!=null){this._attrToDom(name,_4fc,map);}this._set(name,_4fc);}return _4ff||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_502){var _503=this[name];this[name]=_502;if(this._watchCallbacks&&this._created&&_502!==_503){this._watchCallbacks(name,_503,_502);}},on:function(type,func){return _4d3.after(this,this._onMap(type),func,true);},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_4e0.findWidgets(this.containerNode):[];},getParent:function(){return _4e0.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_504,_505){var _506=_4d5.connect(obj,_504,this,_505);this._connects.push(_506);return _506;},disconnect:function(_507){var i=_4d2.indexOf(this._connects,_507);if(i!=-1){_507.remove();this._connects.splice(i,1);}},subscribe:function(t,_508){var _509=_4df.subscribe(t,lang.hitch(this,_508));this._connects.push(_509);return _509;},unsubscribe:function(_50a){this.disconnect(_50a);},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_4da.isBodyLtr();},isFocusable:function(){return this.focus&&(_4db.get(this.domNode,"display")!="none");},placeAt:function(_50b,_50c){if(_50b.declaredClass&&_50b.addChild){_50b.addChild(this,_50c);}else{_4d9.place(this.domNode,_50b,_50c);}return this;},getTextDir:function(text,_50d){return _50d;},applyTextDir:function(){},defer:function(fcn,_50e){var _50f=setTimeout(lang.hitch(this,function(){_50f=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_50e||0);return {remove:function(){if(_50f){clearTimeout(_50f);_50f=null;}return null;}};}});});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_510,_511,_512){return _510("dojo.store.Memory",null,{constructor:function(_513){for(var i in _513){this[i]=_513[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_512,get:function(id){return this.data[this.index[id]];},getIdentity:function(_514){return _514[this.idProperty];},put:function(_515,_516){var data=this.data,_517=this.index,_518=this.idProperty;var id=(_516&&"id" in _516)?_516.id:_518 in _515?_515[_518]:Math.random();if(id in _517){if(_516&&_516.overwrite===false){throw new Error("Object already exists");}data[_517[id]]=_515;}else{_517[id]=data.push(_515)-1;}return id;},add:function(_519,_51a){(_51a=_51a||{}).overwrite=false;return this.put(_519,_51a);},remove:function(id){var _51b=this.index;var data=this.data;if(id in _51b){data.splice(_51b[id],1);this.setData(data);return true;}},query:function(_51c,_51d){return _511(this.queryEngine(_51c,_51d)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\r\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\r\n></div>\r\n","dijit/Editor":function(){define("dijit/Editor",["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/string","dojo/topic","dojo/_base/window","./_base/focus","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText",".","dojo/i18n!./_editor/nls/commands"],function(_51e,_51f,_520,i18n,_521,_522,_523,_524,_525,keys,lang,has,_526,_527,win,_528,_529,_52a,_52b,_52c,_52d,_52e,_52f,html,_530,_531,_532){var _533=_51f("dijit.Editor",_531,{plugins:null,extraPlugins:null,constructor:function(){if(!lang.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_52f];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(has("ie")){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new _520();this.inherited(arguments);},postCreate:function(){this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(lang.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new _52a({dir:this.dir,lang:this.lang});this.header.appendChild(this.toolbar.domNode);}_51e.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.callback(true);_522.add(this.iframe.parentNode,"dijitEditorIFrameContainer");_522.add(this.iframe,"dijitEditorIFrame");_521.set(this.iframe,"allowTransparency",true);if(has("webkit")){_524.set(this.domNode,"KhtmlUserSelect","none");}this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){_51e.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_534,_535){var args=lang.isString(_534)?{name:_534}:lang.isFunction(_534)?{ctor:_534}:_534;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};if(args.name){if(_52e.registry[args.name]){o.plugin=_52e.registry[args.name](args);}else{_527.publish(_532._scopeName+".Editor.getPlugin",o);}}if(!o.plugin){var pc=args.ctor||lang.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.warn("Cannot find plugin",_534);return;}_534=o.plugin;}if(arguments.length>1){this._plugins[_535]=_534;}else{this._plugins.push(_534);}_534.setEditor(this);if(lang.isFunction(_534.setToolbar)){_534.setToolbar(this.toolbar);}},resize:function(size){if(size){_52c.prototype.resize.apply(this,arguments);}},layout:function(){var _536=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_523.getPadBorderExtents(this.iframe.parentNode).h+_523.getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_536+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _537;var b=this.document.body;var _538=b.clientWidth;var _539=b.clientHeight;var _53a=b.clientLeft;var _53b=b.offsetWidth;var _53c=b.offsetHeight;var _53d=b.offsetLeft;if(/^rtl$/i.test(b.dir||"")){if(_538<_53b&&e.x>_538&&e.x<_53b){_537=true;}}else{if(e.x<_53a&&e.x>_53d){_537=true;}}if(!_537){if(_539<_53c&&e.y>_539&&e.y<_53c){_537=true;}}if(!_537){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){setTimeout(lang.hitch(this,"placeCursorAtEnd"),0);}this.inherited(arguments);}},onBeforeActivate:function(){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(lang.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited(arguments);if(this.customUndo){this._endEditing();}return r;}},_pasteImpl:function(){return this._clipboardCommand("paste");},_cutImpl:function(){return this._clipboardCommand("cut");},_copyImpl:function(){return this._clipboardCommand("copy");},_clipboardCommand:function(cmd){var r;try{r=this.document.execCommand(cmd,false,null);if(has("webkit")&&!r){throw {code:1011};}}catch(e){if(e.code==1011){var sub=_526.substitute,_53e={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_53e[cmd]])]));}r=false;}return r;},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _53f=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_540,_541,sel;if(mark){if(has("ie")<9){if(lang.isArray(mark)){_53f=[];_51e.forEach(mark,function(n){_53f.push(_530.getNode(n,this.editNode));},this);win.withGlobal(this.window,"moveToBookmark",_532,[{mark:_53f,isCollapsed:col}]);}else{if(mark.startContainer&&mark.endContainer){sel=_530.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_530.create(this.window);_540=_530.getNode(mark.startContainer,this.editNode);_541=_530.getNode(mark.endContainer,this.editNode);if(_540&&_541){r.setStart(_540,mark.startOffset);r.setEnd(_541,mark.endOffset);sel.addRange(r);}}}}}else{sel=_530.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_530.create(this.window);_540=_530.getNode(mark.startContainer,this.editNode);_541=_530.getNode(mark.endContainer,this.editNode);if(_540&&_541){r.setStart(_540,mark.startOffset);r.setEnd(_541,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_542){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_542);this._inEditing=false;}},_getBookmark:function(){var b=win.withGlobal(this.window,_528.getBookmark);var tmp=[];if(b&&b.mark){var mark=b.mark;if(has("ie")<9){var sel=_530.getSelection(this.window);if(!lang.isArray(mark)){if(sel){var _543;if(sel.rangeCount){_543=sel.getRangeAt(0);}if(_543){b.mark=_543.cloneRange();}else{b.mark=win.withGlobal(this.window,_528.getBookmark);}}}else{_51e.forEach(b.mark,function(n){tmp.push(_530.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=_530.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_530.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(){if(this._steps.length===0){this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(){var v=html.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){_525.stop(e);this.undo();return;}else{if(k==89||k==121){_525.stop(e);this.redo();return;}}}this.inherited(arguments);switch(k){case keys.ENTER:case keys.BACKSPACE:case keys.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(lang.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(lang.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){this.beginEditing();break;}case keys.ALT:this.endEditing();break;case keys.UP_ARROW:case keys.DOWN_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:case keys.HOME:case keys.END:case keys.PAGE_UP:case keys.PAGE_DOWN:this.endEditing(true);break;case keys.CTRL:case keys.SHIFT:case keys.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(win.withGlobal(this.window,"isCollapsed",_532)){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&#160;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_544){var _545=lang.hitch(this,function(){if((!this.disabled&&_544)||(!this._buttonEnabledPlugins&&_544)){_51e.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_544){_51e.forEach(this._plugins,function(p){p.set("disabled",false);});}}});this.setValueDeferred.addCallback(_545);this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){_524.set(this.document.body,"color",_524.get(this.iframe,"color"));}}catch(e){}}});function _546(args){return new _52e({command:args.name});};function _547(args){return new _52e({buttonClass:_52d,command:args.name});};lang.mixin(_52e.registry,{"undo":_546,"redo":_546,"cut":_546,"copy":_546,"paste":_546,"insertOrderedList":_546,"insertUnorderedList":_546,"indent":_546,"outdent":_546,"justifyCenter":_546,"justifyFull":_546,"justifyLeft":_546,"justifyRight":_546,"delete":_546,"selectAll":_546,"removeFormat":_546,"unlink":_546,"insertHorizontalRule":_546,"bold":_547,"italic":_547,"underline":_547,"strikethrough":_547,"subscript":_547,"superscript":_547,"|":function(){return new _52e({button:new _52b(),setEditor:function(_548){this.editor=_548;}});}});return _533;});},"dijit/Toolbar":function(){define("dijit/Toolbar",["require","dojo/_base/declare","dojo/_base/kernel","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_549,_54a,_54b,keys,_54c,_54d,_54e,_54f){if(!_54b.isAsync){_54c(0,function(){var _550=["dijit/ToolbarSeparator"];_549(_550);});}return _54a("dijit.Toolbar",[_54d,_54f,_54e],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){lang.getObject("regexp",true,dojo);dojo.regexp.escapeString=function(str,_551){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_551&&_551.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_552){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_552);};dojo.regexp.group=function(_553,_554){return "("+(_554?"?:":"")+_553+")";};return dojo.regexp;});},"dijit/_editor/plugins/LinkDialog":function(){define("dijit/_editor/plugins/LinkDialog",["require","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/string","dojo/_base/window","../../_Widget","../_Plugin","../../form/DropDownButton","../range","../selection"],function(_555,_556,_557,keys,lang,has,_558,win,_559,_55a,_55b,_55c,_55d){var _55e=_556("dijit._editor.plugins.LinkDialog",_55a,{buttonClass:_55b,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){this.inherited(arguments);this.button.loadDropDown=lang.hitch(this,"_loadDropDown");this._connectTagEvents();},_loadDropDown:function(_55f){_555(["dojo/i18n","../../TooltipDialog","../../registry","../../form/Button","../../form/Select","../../form/ValidationTextBox","dojo/i18n!../../nls/common","dojo/i18n!../nls/LinkDialog"],lang.hitch(this,function(i18n,_560,_561){var _562=this;this.tag=this.command=="insertImage"?"img":"a";var _563=lang.delegate(i18n.getLocalization("dijit","common",this.lang),i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _564=(this.dropDown=this.button.dropDown=new _560({title:_563[this.command+"Title"],execute:lang.hitch(this,"setValue"),onOpen:function(){_562._onOpenDialog();_560.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(lang.hitch(_562,"_onCloseDialog"),0);}}));_563.urlRegExp=this.urlRegExp;_563.id=_561.getUniqueId(this.editor.id);this._uniqueId=_563.id;this._setContent(_564.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+_558.substitute(this.linkDialogTemplate,_563));_564.startup();this._urlInput=_561.byId(this._uniqueId+"_urlInput");this._textInput=_561.byId(this._uniqueId+"_textInput");this._setButton=_561.byId(this._uniqueId+"_setButton");this.connect(_561.byId(this._uniqueId+"_cancelButton"),"onClick",function(){this.dropDown.onCancel();});if(this._urlInput){this.connect(this._urlInput,"onChange","_checkAndFixInput");}if(this._textInput){this.connect(this._textInput,"onChange","_checkAndFixInput");}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=lang.hitch(this,function(){var _565=this._urlInput.get("value");return this._urlRegExp.test(_565)||this._emailRegExp.test(_565);});this.connect(_564.domNode,"onkeypress",function(e){if(e&&e.charOrCode==keys.ENTER&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!this._setButton.get("disabled")){_564.onExecute();_564.execute(_564.get("value"));}}});_55f();}));},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _566=function(url){var _567=false;var _568=false;if(url&&url.length>1){url=lang.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")!==0){if(self._hostRxp.test(url)){_567=true;}}}}else{if(self._userAtRxp.test(url)){_568=true;}}}}if(_567){self._urlInput.set("value","http://"+url);}if(_568){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_566(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.addCallback(lang.hitch(this,function(){this.connect(this.editor.editNode,"ondblclick",this._onDblClick);}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_569){this.dropDown.set({parserScope:"dojo",content:_569});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}return args;},setValue:function(args){this._onCloseDialog();if(has("ie")<9){var sel=_55c.getSelection(this.editor.window);var _56a=sel.getRangeAt(0);var a=_56a.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=win.withGlobal(this.editor.window,"getSelectedElement",_55d,[this.tag]);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){win.withGlobal(this.editor.window,"selectElementChildren",_55d,[a]);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",_558.substitute(this.htmlTemplate,args));},_onCloseDialog:function(){this.editor.focus();},_getCurrentValues:function(a){var url,text,_56b;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_56b=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;win.withGlobal(this.editor.window,"selectElement",_55d,[a,true]);}else{text=win.withGlobal(this.editor.window,_55d.getSelectedText);}return {urlInput:url||"",textInput:text||"",targetSelect:_56b||""};},_onOpenDialog:function(){var a;if(has("ie")<9){var sel=_55c.getSelection(this.editor.window);var _56c=sel.getRangeAt(0);a=_56c.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=win.withGlobal(this.editor.window,"getSelectedElement",_55d,[this.tag]);}}else{a=win.withGlobal(this.editor.window,"getAncestorElement",_55d,[this.tag]);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_557.get(t,"href")){var _56d=this.editor;win.withGlobal(_56d.window,"selectElement",_55d,[t]);_56d.onDisplayChanged();if(_56d._updateTimer){clearTimeout(_56d._updateTimer);delete _56d._updateTimer;}_56d.onNormalizedDisplayChanged();var _56e=this.button;setTimeout(function(){_56e.set("disabled",false);_56e.loadAndOpenDropDown().then(function(){if(_56e.dropDown.focus){_56e.dropDown.focus();}});},10);}}}});var _56f=_556("dijit._editor.plugins.ImgLinkDialog",[_55e],{linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");win.withGlobal(this.editor.window,"selectElement",_55d,[img,true]);}else{text=win.withGlobal(this.editor.window,_55d.getSelectedText);}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.addCallback(lang.hitch(this,function(){this.connect(this.editor.editNode,"onmousedown",this._selectTag);}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){win.withGlobal(this.editor.window,"selectElement",_55d,[t]);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_557.get(t,"src")){var _570=this.editor;win.withGlobal(_570.window,"selectElement",_55d,[t]);_570.onDisplayChanged();if(_570._updateTimer){clearTimeout(_570._updateTimer);delete _570._updateTimer;}_570.onNormalizedDisplayChanged();var _571=this.button;setTimeout(function(){_571.set("disabled",false);_571.loadAndOpenDropDown().then(function(){if(_571.dropDown.focus){_571.dropDown.focus();}});},10);}}}});_55a.registry["createLink"]=function(){return new _55e({command:"createLink"});};_55a.registry["insertImage"]=function(){return new _56f({command:"insertImage"});};_55e.ImgLinkDialog=_56f;return _55e;});},"dojo/data/util/simpleFetch":function(){define(["dojo/_base/lang","dojo/_base/window","./sorter"],function(lang,_572,_573){var _574=lang.getObject("dojo.data.util.simpleFetch",true);_574.fetch=function(_575){_575=_575||{};if(!_575.store){_575.store=this;}var self=this;var _576=function(_577,_578){if(_578.onError){var _579=_578.scope||_572.global;_578.onError.call(_579,_577,_578);}};var _57a=function(_57b,_57c){var _57d=_57c.abort||null;var _57e=false;var _57f=_57c.start?_57c.start:0;var _580=(_57c.count&&(_57c.count!==Infinity))?(_57f+_57c.count):_57b.length;_57c.abort=function(){_57e=true;if(_57d){_57d.call(_57c);}};var _581=_57c.scope||_572.global;if(!_57c.store){_57c.store=self;}if(_57c.onBegin){_57c.onBegin.call(_581,_57b.length,_57c);}if(_57c.sort){_57b.sort(_573.createSortFunction(_57c.sort,self));}if(_57c.onItem){for(var i=_57f;(i<_57b.length)&&(i<_580);++i){var item=_57b[i];if(!_57e){_57c.onItem.call(_581,item,_57c);}}}if(_57c.onComplete&&!_57e){var _582=null;if(!_57c.onItem){_582=_57b.slice(_57f,_580);}_57c.onComplete.call(_581,_582,_57c);}};this._fetchItems(_575,_57a,_576);return _575;};return _574;});},"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_583,_584,_585,_586,keys,_587,_588,_589,lang){return _587("dijit._KeyNavContainer",[_585,_584],{tabIndex:"0",connectKeyNavHandlers:function(_58a,_58b){var _58c=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_586.forEach(_58a,function(code){_58c[code]=prev;});_586.forEach(_58b,function(code){_58c[code]=next;});_58c[keys.HOME]=lang.hitch(this,"focusFirstChild");_58c[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_583.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_586.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_58d,_58e){this.inherited(arguments);this._startupChild(_58d);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_58f,last){if(!_58f){return;}if(this.focusedChild&&_58f!==this.focusedChild){this._onChildBlur(this.focusedChild);}_58f.set("tabIndex",this.tabIndex);_58f.focus(last?"end":"start");this._set("focusedChild",_58f);},_startupChild:function(_590){_590.set("tabIndex","-1");this.connect(_590,"_onFocus",function(){_590.set("tabIndex",this.tabIndex);});this.connect(_590,"_onBlur",function(){_590.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_589.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_589.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_588.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_591,dir){if(_591){_591=this._getSiblingOfChild(_591,dir);}var _592=this.getChildren();for(var i=0;i<_592.length;i++){if(!_591){_591=_592[(dir>0)?0:(_592.length-1)];}if(_591.isFocusable()){return _591;}_591=this._getSiblingOfChild(_591,dir);}return null;}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_593,_594){return _593("dijit._Contained",null,{_getSibling:function(_595){var node=this.domNode;do{node=node[_595+"Sibling"];}while(node&&node.nodeType!=1);return node&&_594.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/form/DataList":function(){define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_596,dom,lang,_597,_598,_599){function _59a(_59b){return {id:_59b.value,value:_59b.value,name:lang.trim(_59b.innerText||_59b.textContent||"")};};return _596("dijit.form.DataList",_598,{constructor:function(_59c,_59d){this.domNode=dom.byId(_59d);lang.mixin(this,_59c);if(this.id){_599.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_597("option",this.domNode).map(_59a)}]);},destroy:function(){_599.remove(this.id);},fetchSelectedItem:function(){var _59e=_597("> option[selected]",this.domNode)[0]||_597("> option",this.domNode)[0];return _59e&&_59a(_59e);}});});},"dijit/_editor/_Plugin":function(){define("dijit/_editor/_Plugin",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../form/Button"],function(_59f,_5a0,lang,_5a1){var _5a2=_5a0("dijit._editor._Plugin",null,{constructor:function(args){this.params=args||{};lang.mixin(this,this.params);this._connects=[];this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_5a1,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _5a3=this.getLabel(this.command),_5a4=this.editor,_5a5=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _5a6=lang.mixin({label:_5a3,dir:_5a4.dir,lang:_5a4.lang,showLabel:false,iconClass:_5a5,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(_5a6);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){var h;while(h=this._connects.pop()){h.remove();}if(this.dropDown){this.dropDown.destroyRecursive();}},connect:function(o,f,tf){this._connects.push(_59f.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_5a7,_5a8;if(!e||!e.isLoaded||!c.length){return;}var _5a9=this.get("disabled");if(this.button){try{_5a8=!_5a9&&e.queryCommandEnabled(c);if(this.enabled!==_5a8){this.enabled=_5a8;this.button.set("disabled",!_5a8);}if(typeof this.button.checked=="boolean"){_5a7=e.queryCommandState(c);if(this.checked!==_5a7){this.checked=_5a7;this.button.set("checked",e.queryCommandState(c));}}}catch(e){console.log(e);}}},setEditor:function(_5aa){this.editor=_5aa;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.connect(this.button,"onClick",lang.hitch(this.editor,"execCommand",this.command,this.commandArg));}else{this.button.domNode.style.display="none";}}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function(_5ab){if(this.button){_5ab.addChild(this.button);}},set:function(name,_5ac){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _5ad=this._getAttrNames(name);if(this[_5ad.s]){var _5ae=this[_5ad.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_5ac);}return _5ae||this;},get:function(name){var _5af=this._getAttrNames(name);return this[_5af.g]?this[_5af.g]():this[name];},_setDisabledAttr:function(_5b0){this.disabled=_5b0;this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_5b1){this[name]=_5b1;}});_5a2.registry={};return _5a2;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(_5b2,_5b3,_5b4,_5b5){return _5b3("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_5b6,_5b7){var _5b8=this.containerNode;if(_5b7&&typeof _5b7=="number"){var _5b9=this.getChildren();if(_5b9&&_5b9.length>=_5b7){_5b8=_5b9[_5b7-1].domNode;_5b7="after";}}_5b4.place(_5b6.domNode,_5b8,_5b7);if(this._started&&!_5b6._started){_5b6.startup();}},removeChild:function(_5ba){if(typeof _5ba=="number"){_5ba=this.getChildren()[_5ba];}if(_5ba){var node=_5ba.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_5bb,dir){var node=_5bb.domNode,_5bc=(dir>0?"nextSibling":"previousSibling");do{node=node[_5bc];}while(node&&(node.nodeType!=1||!_5b5.byNode(node)));return node&&_5b5.byNode(node);},getIndexOfChild:function(_5bd){return _5b2.indexOf(this.getChildren(),_5bd);}});});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","../_base/window","./util/filter","./util/simpleFetch","../date/stamp"],function(_5be,lang,_5bf,_5c0,xhr,_5c1,_5c2,_5c3,_5c4,_5c5){var _5c6=_5bf("dojo.data.ItemFileReadStore",[_5c1],{constructor:function(_5c7){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_5c7.url;this._ccUrl=_5c7.url;this.url=_5c7.url;this._jsonData=_5c7.data;this.data=null;this._datatypeMap=_5c7.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_5c8){return _5c5.fromISOString(_5c8);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_5c7.urlPreventCache!==undefined){this.urlPreventCache=_5c7.urlPreventCache?true:false;}if(_5c7.hierarchical!==undefined){this.hierarchical=_5c7.hierarchical?true:false;}if(_5c7.clearOnClose){this.clearOnClose=true;}if("failOk" in _5c7){this.failOk=_5c7.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_5c9){if(typeof _5c9!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_5ca,_5cb){var _5cc=this.getValues(item,_5ca);return (_5cc.length>0)?_5cc[0]:_5cb;},getValues:function(item,_5cd){this._assertIsItem(item);this._assertIsAttribute(_5cd);return (item[_5cd]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _5ce=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_5ce.push(key);}}return _5ce;},hasAttribute:function(item,_5cf){this._assertIsItem(item);this._assertIsAttribute(_5cf);return (_5cf in item);},containsValue:function(item,_5d0,_5d1){var _5d2=undefined;if(typeof _5d1==="string"){_5d2=_5c3.patternToRegExp(_5d1,false);}return this._containsValue(item,_5d0,_5d1,_5d2);},_containsValue:function(item,_5d3,_5d4,_5d5){return _5c0.some(this.getValues(item,_5d3),function(_5d6){if(_5d6!==null&&!lang.isObject(_5d6)&&_5d5){if(_5d6.toString().match(_5d5)){return true;}}else{if(_5d4===_5d6){return true;}}});},isItem:function(_5d7){if(_5d7&&_5d7[this._storeRefPropName]===this){if(this._arrayOfAllItems[_5d7[this._itemNumPropName]]===_5d7){return true;}}return false;},isItemLoaded:function(_5d8){return this.isItem(_5d8);},loadItem:function(_5d9){this._assertIsItem(_5d9.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_5da,_5db,_5dc){var self=this,_5dd=function(_5de,_5df){var _5e0=[],i,key;if(_5de.query){var _5e1,_5e2=_5de.queryOptions?_5de.queryOptions.ignoreCase:false;var _5e3={};for(key in _5de.query){_5e1=_5de.query[key];if(typeof _5e1==="string"){_5e3[key]=_5c3.patternToRegExp(_5e1,_5e2);}else{if(_5e1 instanceof RegExp){_5e3[key]=_5e1;}}}for(i=0;i<_5df.length;++i){var _5e4=true;var _5e5=_5df[i];if(_5e5===null){_5e4=false;}else{for(key in _5de.query){_5e1=_5de.query[key];if(!self._containsValue(_5e5,key,_5e1,_5e3[key])){_5e4=false;}}}if(_5e4){_5e0.push(_5e5);}}_5db(_5e0,_5de);}else{for(i=0;i<_5df.length;++i){var item=_5df[i];if(item!==null){_5e0.push(item);}}_5db(_5e0,_5de);}};if(this._loadFinished){_5dd(_5da,this._getItemsArray(_5da.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){_5be.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_5da,filter:_5dd});}else{this._loadInProgress=true;var _5e6={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _5e7=xhr.get(_5e6);_5e7.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_5dd(_5da,self._getItemsArray(_5da.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_5dc(e,_5da);}});_5e7.addErrback(function(_5e8){self._loadInProgress=false;_5dc(_5e8,_5da);});var _5e9=null;if(_5da.abort){_5e9=_5da.abort;}_5da.abort=function(){var df=_5e7;if(df&&df.fired===-1){df.cancel();df=null;}if(_5e9){_5e9.call(_5da);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_5dd(_5da,this._getItemsArray(_5da.queryOptions));}catch(e){_5dc(e,_5da);}}else{_5dc(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_5da);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _5ea=this._queuedFetches[i],_5eb=_5ea.args,_5ec=_5ea.filter;if(_5ec){_5ec(_5eb,this._getItemsArray(_5eb.queryOptions));}else{this.fetchItemByIdentity(_5eb);}}this._queuedFetches=[];}},_getItemsArray:function(_5ed){if(_5ed&&_5ed.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_5ee){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_5ef){var _5f0=false,self=this;function _5f1(_5f2){return (_5f2!==null)&&(typeof _5f2==="object")&&(!lang.isArray(_5f2)||_5f0)&&(!lang.isFunction(_5f2))&&(_5f2.constructor==Object||lang.isArray(_5f2))&&(typeof _5f2._reference==="undefined")&&(typeof _5f2._type==="undefined")&&(typeof _5f2._value==="undefined")&&self.hierarchical;};function _5f3(_5f4){self._arrayOfAllItems.push(_5f4);for(var _5f5 in _5f4){var _5f6=_5f4[_5f5];if(_5f6){if(lang.isArray(_5f6)){var _5f7=_5f6;for(var k=0;k<_5f7.length;++k){var _5f8=_5f7[k];if(_5f1(_5f8)){_5f3(_5f8);}}}else{if(_5f1(_5f6)){_5f3(_5f6);}}}}};this._labelAttr=_5ef.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_5ef.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_5f0=true;}_5f3(item);item[this._rootItemPropName]=true;}var _5f9={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _5fa=item[key];if(_5fa!==null){if(!lang.isArray(_5fa)){item[key]=[_5fa];}}else{item[key]=[null];}}_5f9[key]=key;}}while(_5f9[this._storeRefPropName]){this._storeRefPropName+="_";}while(_5f9[this._itemNumPropName]){this._itemNumPropName+="_";}while(_5f9[this._reverseRefMap]){this._reverseRefMap+="_";}var _5fb;var _5fc=_5ef.identifier;if(_5fc){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_5fc;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_5fb=item[_5fc];var _5fd=_5fb[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_5fd)){this._itemsByIdentity[_5fd]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_5fc+"].  Value collided: ["+_5fd+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_5fc+"].  Value collided: ["+_5fd+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_5fb=item[key];for(var j=0;j<_5fb.length;++j){_5fa=_5fb[j];if(_5fa!==null&&typeof _5fa=="object"){if(("_type" in _5fa)&&("_value" in _5fa)){var type=_5fa._type;var _5fe=this._datatypeMap[type];if(!_5fe){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_5fe)){_5fb[j]=new _5fe(_5fa._value);}else{if(lang.isFunction(_5fe.deserialize)){_5fb[j]=_5fe.deserialize(_5fa._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_5fa._reference){var _5ff=_5fa._reference;if(!lang.isObject(_5ff)){_5fb[j]=this._getItemByIdentity(_5ff);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _600=this._arrayOfAllItems[k],_601=true;for(var _602 in _5ff){if(_600[_602]!=_5ff[_602]){_601=false;}}if(_601){_5fb[j]=_600;}}}if(this.referenceIntegrity){var _603=_5fb[j];if(this.isItem(_603)){this._addReferenceToMap(_603,item,key);}}}else{if(this.isItem(_5fa)){if(this.referenceIntegrity){this._addReferenceToMap(_5fa,item,key);}}}}}}}},_addReferenceToMap:function(_604,_605,_606){},getIdentity:function(item){var _607=this._features["dojo.data.api.Identity"];if(_607===Number){return item[this._itemNumPropName];}else{var _608=item[_607];if(_608){return _608[0];}}return null;},fetchItemByIdentity:function(_609){var item,_60a;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_5be.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_609});}else{this._loadInProgress=true;var _60b={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _60c=xhr.get(_60b);_60c.addCallback(function(data){var _60d=_609.scope?_609.scope:_5c2.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_609.identity);if(_609.onItem){_609.onItem.call(_60d,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_609.onError){_609.onError.call(_60d,error);}}});_60c.addErrback(function(_60e){self._loadInProgress=false;if(_609.onError){var _60f=_609.scope?_609.scope:_5c2.global;_609.onError.call(_60f,_60e);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_609.identity);if(_609.onItem){_60a=_609.scope?_609.scope:_5c2.global;_609.onItem.call(_60a,item);}}}}else{item=this._getItemByIdentity(_609.identity);if(_609.onItem){_60a=_609.scope?_609.scope:_5c2.global;_609.onItem.call(_60a,item);}}},_getItemByIdentity:function(_610){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_610)){item=this._itemsByIdentity[_610];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_610)){item=this._arrayOfAllItems[_610];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _611=this._features["dojo.data.api.Identity"];if(_611===Number){return null;}else{return [_611];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_5be.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _612={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _613=xhr.get(_612);_613.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_613.addErrback(function(_614){throw _614;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_5c6,_5c4);return _5c6;});},"dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n"}});define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_615,i18n,_616,_617,_618){return _615("dijit.form.ValidationTextBox",_616,{templateString:_618,baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused);},validator:function(_619,_61a){return (new RegExp("^(?:"+this.regExpGen(_61a)+")"+(this.required?"":"?")+"$")).test(_619)&&(!this.required||!this._isEmpty(_619))&&(this._isEmpty(_619)||this.parse(_619,_61a)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_61b){return (this.trim?/^\s*$/:/^$/).test(_61b);},getErrorMessage:function(){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_61c){var _61d="";var _61e=this.disabled||this.isValid(_61c);if(_61e){this._maskValidSubsetError=true;}var _61f=this._isEmpty(this.textbox.value);var _620=!_61e&&_61c&&this._isValidSubset();this._set("state",_61e?"":(((((!this._hasBeenBlurred||_61c)&&_61f)||_620)&&this._maskValidSubsetError)?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_61e?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_61c&&_620;_61d=this.getErrorMessage(_61c);}else{if(this.state=="Incomplete"){_61d=this.getPromptMessage(_61c);this._maskValidSubsetError=!this._hasBeenBlurred||_61c;}else{if(_61f){_61d=this.getPromptMessage(_61c);}}}this.set("message",_61d);return _61e;},displayMessage:function(_621){if(_621&&this.focused){_617.show(_621,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_617.hide(this.domNode);}},_refreshState:function(){this.validate(this.focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_622){if(!_622.locale&&this.lang){_622.locale=this.lang;}this._set("constraints",_622);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _623="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_623+=re;break;case ")":_623+="|$)";break;default:_623+="(?:"+re+"|$)";break;}});}try{"".search(_623);}catch(e){_623=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_623+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_624){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_625){this._set("required",_625);this.focusNode.setAttribute("aria-required",_625);this._refreshState();},_setMessageAttr:function(_626){this._set("message",_626);this.displayMessage(_626);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dojo/window":function(){define(["./_base/lang","./_base/sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(lang,has,_627,dom,geom,_628){var _629=lang.getObject("dojo.window",true);_629.getBox=function(){var _62a=(_627.doc.compatMode=="BackCompat")?_627.body():_627.doc.documentElement,_62b=geom.docScroll(),w,h;if(has("touch")){var _62c=_627.doc.parentWindow||_627.doc.defaultView;w=_62c.innerWidth||_62a.clientWidth;h=_62c.innerHeight||_62a.clientHeight;}else{w=_62a.clientWidth;h=_62a.clientHeight;}return {l:_62b.x,t:_62b.y,w:w,h:h};};_629.get=function(doc){if(has("ie")&&_629!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};_629.scrollIntoView=function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_627.doc,body=doc.body||_627.body(),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if((!(has("mozilla")||isIE||isWK||has("opera"))||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _62d=doc.compatMode=="BackCompat",_62e=(isIE>=9&&node.ownerDocument.parentWindow.frameElement)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_62d?body:html),_62f=isWK?body:_62e,_630=_62e.clientWidth,_631=_62e.clientHeight,rtl=!geom.isBodyLtr(),_632=pos||geom.position(node),el=node.parentNode,_633=function(el){return ((isIE<=6||(isIE&&_62d))?false:(_628.get(el,"position").toLowerCase()=="fixed"));};if(_633(node)){return;}while(el){if(el==body){el=_62f;}var _634=geom.position(el),_635=_633(el);if(el==_62f){_634.w=_630;_634.h=_631;if(_62f==html&&isIE&&rtl){_634.x+=_62f.offsetWidth-_634.w;}if(_634.x<0||!isIE){_634.x=0;}if(_634.y<0||!isIE){_634.y=0;}}else{var pb=geom.getPadBorderExtents(el);_634.w-=pb.w;_634.h-=pb.h;_634.x+=pb.l;_634.y+=pb.t;var _636=el.clientWidth,_637=_634.w-_636;if(_636>0&&_637>0){_634.w=_636;_634.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_637:0;}_636=el.clientHeight;_637=_634.h-_636;if(_636>0&&_637>0){_634.h=_636;}}if(_635){if(_634.y<0){_634.h+=_634.y;_634.y=0;}if(_634.x<0){_634.w+=_634.x;_634.x=0;}if(_634.y+_634.h>_631){_634.h=_631-_634.y;}if(_634.x+_634.w>_630){_634.w=_630-_634.x;}}var l=_632.x-_634.x,t=_632.y-Math.max(_634.y,0),r=l+_632.w-_634.w,bot=t+_632.h-_634.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_62d)||isIE>=9)){s=-s;}_632.x+=el.scrollLeft;el.scrollLeft+=s;_632.x-=el.scrollLeft;}if(bot*t>0){_632.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_632.y-=el.scrollTop;}el=(el!=_62f)&&!_635&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};return _629;});},"dojo/number":function(){define(["./_base/kernel","./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(dojo,lang,i18n,_638,_639,_63a){lang.getObject("number",true,dojo);dojo.number.format=function(_63b,_63c){_63c=lang.mixin({},_63c||{});var _63d=i18n.normalizeLocale(_63c.locale),_63e=i18n.getLocalization("dojo.cldr","number",_63d);_63c.customs=_63e;var _63f=_63c.pattern||_63e[(_63c.type||"decimal")+"Format"];if(isNaN(_63b)||Math.abs(_63b)==Infinity){return null;}return dojo.number._applyPattern(_63b,_63f,_63c);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_640,_641,_642){_642=_642||{};var _643=_642.customs.group,_644=_642.customs.decimal,_645=_641.split(";"),_646=_645[0];_641=_645[(_640<0)?1:0]||("-"+_646);if(_641.indexOf("%")!=-1){_640*=100;}else{if(_641.indexOf("‰")!=-1){_640*=1000;}else{if(_641.indexOf("¤")!=-1){_643=_642.customs.currencyGroup||_643;_644=_642.customs.currencyDecimal||_644;_641=_641.replace(/\u00a4{1,3}/,function(_647){var prop=["symbol","currency","displayName"][_647.length-1];return _642[prop]||_642.currency||"";});}else{if(_641.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _648=dojo.number._numberPatternRE;var _649=_646.match(_648);if(!_649){throw new Error("unable to find a number expression in pattern: "+_641);}if(_642.fractional===false){_642.places=0;}return _641.replace(_648,dojo.number._formatAbsolute(_640,_649[0],{decimal:_644,group:_643,places:_642.places,round:_642.round}));};dojo.number.round=function(_64a,_64b,_64c){var _64d=10/(_64c||10);return (_64d*+_64a).toFixed(_64b)/_64d;};if((0.9).toFixed()==0){var _64e=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _64e(v,p,m)+(v>0?d:-d);};}dojo.number._formatAbsolute=function(_64f,_650,_651){_651=_651||{};if(_651.places===true){_651.places=0;}if(_651.places===Infinity){_651.places=6;}var _652=_650.split("."),_653=typeof _651.places=="string"&&_651.places.indexOf(","),_654=_651.places;if(_653){_654=_651.places.substring(_653+1);}else{if(!(_654>=0)){_654=(_652[1]||[]).length;}}if(!(_651.round<0)){_64f=dojo.number.round(_64f,_654,_651.round);}var _655=String(Math.abs(_64f)).split("."),_656=_655[1]||"";if(_652[1]||_651.places){if(_653){_651.places=_651.places.substring(0,_653);}var pad=_651.places!==undefined?_651.places:(_652[1]&&_652[1].lastIndexOf("0")+1);if(pad>_656.length){_655[1]=_639.pad(_656,pad,"0",true);}if(_654<_656.length){_655[1]=_656.substr(0,_654);}}else{if(_655[1]){_655.pop();}}var _657=_652[0].replace(",","");pad=_657.indexOf("0");if(pad!=-1){pad=_657.length-pad;if(pad>_655[0].length){_655[0]=_639.pad(_655[0],pad);}if(_657.indexOf("#")==-1){_655[0]=_655[0].substr(_655[0].length-pad);}}var _658=_652[0].lastIndexOf(","),_659,_65a;if(_658!=-1){_659=_652[0].length-_658-1;var _65b=_652[0].substr(0,_658);_658=_65b.lastIndexOf(",");if(_658!=-1){_65a=_65b.length-_658-1;}}var _65c=[];for(var _65d=_655[0];_65d;){var off=_65d.length-_659;_65c.push((off>0)?_65d.substr(off):_65d);_65d=(off>0)?_65d.slice(0,off):"";if(_65a){_659=_65a;delete _65a;}}_655[0]=_65c.reverse().join(_651.group||",");return _655.join(_651.decimal||".");};dojo.number.regexp=function(_65e){return dojo.number._parseInfo(_65e).regexp;};dojo.number._parseInfo=function(_65f){_65f=_65f||{};var _660=i18n.normalizeLocale(_65f.locale),_661=i18n.getLocalization("dojo.cldr","number",_660),_662=_65f.pattern||_661[(_65f.type||"decimal")+"Format"],_663=_661.group,_664=_661.decimal,_665=1;if(_662.indexOf("%")!=-1){_665/=100;}else{if(_662.indexOf("‰")!=-1){_665/=1000;}else{var _666=_662.indexOf("¤")!=-1;if(_666){_663=_661.currencyGroup||_663;_664=_661.currencyDecimal||_664;}}}var _667=_662.split(";");if(_667.length==1){_667.push("-"+_667[0]);}var re=_63a.buildGroupRE(_667,function(_668){_668="(?:"+_63a.escapeString(_668,".")+")";return _668.replace(dojo.number._numberPatternRE,function(_669){var _66a={signed:false,separator:_65f.strict?_663:[_663,""],fractional:_65f.fractional,decimal:_664,exponent:false},_66b=_669.split("."),_66c=_65f.places;if(_66b.length==1&&_665!=1){_66b[1]="###";}if(_66b.length==1||_66c===0){_66a.fractional=false;}else{if(_66c===undefined){_66c=_65f.pattern?_66b[1].lastIndexOf("0")+1:Infinity;}if(_66c&&_65f.fractional==undefined){_66a.fractional=true;}if(!_65f.places&&(_66c<_66b[1].length)){_66c+=","+_66b[1].length;}_66a.places=_66c;}var _66d=_66b[0].split(",");if(_66d.length>1){_66a.groupSize=_66d.pop().length;if(_66d.length>1){_66a.groupSize2=_66d.pop().length;}}return "("+dojo.number._realNumberRegexp(_66a)+")";});},true);if(_666){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_66e,_66f,_670,_671){var prop=["symbol","currency","displayName"][_670.length-1],_672=_63a.escapeString(_65f[prop]||_65f.currency||"");_66f=_66f?"[\\s\\xa0]":"";_671=_671?"[\\s\\xa0]":"";if(!_65f.strict){if(_66f){_66f+="*";}if(_671){_671+="*";}return "(?:"+_66f+_672+_671+")?";}return _66f+_672+_671;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_663,decimal:_664,factor:_665};};dojo.number.parse=function(_673,_674){var info=dojo.number._parseInfo(_674),_675=(new RegExp("^"+info.regexp+"$")).exec(_673);if(!_675){return NaN;}var _676=_675[1];if(!_675[1]){if(!_675[2]){return NaN;}_676=_675[2];info.factor*=-1;}_676=_676.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _676*info.factor;};dojo.number._realNumberRegexp=function(_677){_677=_677||{};if(!("places" in _677)){_677.places=Infinity;}if(typeof _677.decimal!="string"){_677.decimal=".";}if(!("fractional" in _677)||/^0/.test(_677.places)){_677.fractional=[true,false];}if(!("exponent" in _677)){_677.exponent=[true,false];}if(!("eSigned" in _677)){_677.eSigned=[true,false];}var _678=dojo.number._integerRegexp(_677),_679=_63a.buildGroupRE(_677.fractional,function(q){var re="";if(q&&(_677.places!==0)){re="\\"+_677.decimal;if(_677.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_677.places+"}";}}return re;},true);var _67a=_63a.buildGroupRE(_677.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_677.eSigned})+")";}return "";});var _67b=_678+_679;if(_679){_67b="(?:(?:"+_67b+")|(?:"+_679+"))";}return _67b+_67a;};dojo.number._integerRegexp=function(_67c){_67c=_67c||{};if(!("signed" in _67c)){_67c.signed=[true,false];}if(!("separator" in _67c)){_67c.separator="";}else{if(!("groupSize" in _67c)){_67c.groupSize=3;}}var _67d=_63a.buildGroupRE(_67c.signed,function(q){return q?"[-+]":"";},true);var _67e=_63a.buildGroupRE(_67c.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_63a.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_67c.groupSize,grp2=_67c.groupSize2;if(grp2){var _67f="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_67f+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_67f;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _67d+_67e;};return dojo.number;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_680,_681,_682,lang){lang.extend(_681,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _682("dijit._FocusMixin",null,{_focusManager:_680});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser","dijit/registry"],function(_683,_684,_685,_686){return _684("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_685.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));this._supportingWidgets=_686.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_683.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"dojo/data/util/filter":function(){define(["dojo/_base/lang"],function(lang){var _687=lang.getObject("dojo.data.util.filter",true);_687.patternToRegExp=function(_688,_689){var rxp="^";var c=null;for(var i=0;i<_688.length;i++){c=_688.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_688.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_689){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _687;});},"dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","./MappedTextBox","./ComboBoxMixin"],function(_68a,_68b,_68c,lang,_68d,_68e){return _68b("dijit.form.FilteringSelect",[_68d,_68e],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_68f,_690,_691,_692){if((_690&&_690[this.searchAttr]!==this._lastQuery)||(!_690&&_68f.length&&this.store.getIdentity(_68f[0])!=this._lastQuery)){return;}if(!_68f.length){this.set("value","",_692||(_692===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_68f[0],_692);}},_openResultList:function(_693,_694,_695){if(_694[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_696,_697,_698,item){if(!this._onChangeActive){_697=null;}if(item===undefined){if(_696===null||_696===""){_696="";if(!lang.isString(_698)){this._setDisplayedValueAttr(_698||"",_697);return;}}var self=this;this._lastQuery=_696;_68c.when(this.store.get(_696),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_697);});}else{this.valueNode.value=_696;this.inherited(arguments);}},_setItemAttr:function(item,_699,_69a){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_69b,_69c){if(_69b==null){_69b="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_69c=false;}if(this.store){this.closeDropDown();var _69d=lang.clone(this.query);var qs=this._getDisplayQueryString(_69b),q;if(this.store._oldAPI){q=qs;}else{q=_68a.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_69d[this.searchAttr]=q;this.textbox.value=_69b;this._lastDisplayedValue=_69b;this._set("displayedValue",_69b);var _69e=this;var _69f={ignoreCase:this.ignoreCase,deep:true};lang.mixin(_69f,this.fetchProperties);this._fetchHandle=this.store.query(_69d,_69f);_68c.when(this._fetchHandle,function(_6a0){_69e._fetchHandle=null;_69e._callbackSetLabel(_6a0||[],_69d,_69f,_69c);},function(err){_69e._fetchHandle=null;if(!_69e._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/data/util/sorter":function(){define(["dojo/_base/lang"],function(lang){var _6a1=lang.getObject("dojo.data.util.sorter",true);_6a1.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_6a1.createSortFunction=function(_6a2,_6a3){var _6a4=[];function _6a5(attr,dir,comp,s){return function(_6a6,_6a7){var a=s.getValue(_6a6,attr);var b=s.getValue(_6a7,attr);return dir*comp(a,b);};};var _6a8;var map=_6a3.comparatorMap;var bc=_6a1.basicComparator;for(var i=0;i<_6a2.length;i++){_6a8=_6a2[i];var attr=_6a8.attribute;if(attr){var dir=(_6a8.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_6a4.push(_6a5(attr,dir,comp,_6a3));}}return function(rowA,rowB){var i=0;while(i<_6a4.length){var ret=_6a4[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _6a1;});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_6a9,dom,_6aa,_6ab){return _6a9("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_6aa.stop(e);return false;}var _6ac=this.onClick(e)===false;if(!_6ac&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _6ad=_6ab.byNode(node);if(_6ad&&typeof _6ad._onSubmit=="function"){_6ad._onSubmit(e);_6ac=true;break;}}}if(_6ac){e.preventDefault();}return !_6ac;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_6ae){this._set("label",_6ae);(this.containerNode||this.focusNode).innerHTML=_6ae;}});});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_6af,_6b0){var _6b1=lang.getObject("dojo.colors",true);var _6b2=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_6af.fromRgb=function(_6b3,obj){var m=_6b3.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_6b0.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _6af.fromArray(a,obj);}return _6af.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_6b2(m1,m2,H+1/3)*256,_6b2(m1,m2,H)*256,_6b2(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _6af.fromArray(a,obj);}}return null;};var _6b4=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_6af.prototype.sanitize=function(){var t=this;t.r=Math.round(_6b4(t.r,0,255));t.g=Math.round(_6b4(t.g,0,255));t.b=Math.round(_6b4(t.b,0,255));t.a=_6b4(t.a,0,1);return this;};_6b1.makeGrey=_6af.makeGrey=function(g,a){return _6af.fromArray([g,g,g,a]);};lang.mixin(_6af.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _6af;});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\r\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\"\r\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t\t\t${_buttonInputDisabled}\r\n\t\t\t/></div\r\n\t\t></div\r\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\r\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\"\r\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t\t\t${_buttonInputDisabled}\r\n\t\t\t/></div\r\n\t\t></div\r\n\t></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935;\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\r\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\r\n\t/></div\r\n></div>\r\n","dojo/date/locale":function(){define(["../_base/kernel","../_base/lang","../_base/array","../date","../cldr/supplemental","../regexp","../string","../i18n!../cldr/nls/gregorian"],function(dojo,lang,_6b5,date,cldr,_6b6,_6b7,_6b8){lang.getObject("date.locale",true,dojo);function _6b9(_6ba,_6bb,_6bc,_6bd){return _6bd.replace(/([a-z])\1*/ig,function(_6be){var s,pad,c=_6be.charAt(0),l=_6be.length,_6bf=["abbr","wide","narrow"];switch(c){case "G":s=_6bb[(l<4)?"eraAbbr":"eraNames"][_6ba.getFullYear()<0?0:1];break;case "y":s=_6ba.getFullYear();switch(l){case 1:break;case 2:if(!_6bc.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_6ba.getMonth()+1)/3);pad=true;break;case "M":var m=_6ba.getMonth();if(l<3){s=m+1;pad=true;}else{var _6c0=["months","format",_6bf[l-3]].join("-");s=_6bb[_6c0][m];}break;case "w":var _6c1=0;s=dojo.date.locale._getWeekOfYear(_6ba,_6c1);pad=true;break;case "d":s=_6ba.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_6ba);pad=true;break;case "E":var d=_6ba.getDay();if(l<3){s=d+1;pad=true;}else{var _6c2=["days","format",_6bf[l-3]].join("-");s=_6bb[_6c2][d];}break;case "a":var _6c3=(_6ba.getHours()<12)?"am":"pm";s=_6bc[_6c3]||_6bb["dayPeriods-format-wide-"+_6c3];break;case "h":case "H":case "K":case "k":var h=_6ba.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_6ba.getMinutes();pad=true;break;case "s":s=_6ba.getSeconds();pad=true;break;case "S":s=Math.round(_6ba.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.locale._getZone(_6ba,true,_6bc);if(s){break;}l=4;case "Z":var _6c4=dojo.date.locale._getZone(_6ba,false,_6bc);var tz=[(_6c4<=0?"+":"-"),_6b7.pad(Math.floor(Math.abs(_6c4)/60),2),_6b7.pad(Math.abs(_6c4)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_6bd);}if(pad){s=_6b7.pad(s,l);}return s;});};dojo.date.locale._getZone=function(_6c5,_6c6,_6c7){if(_6c6){return date.getTimezoneName(_6c5);}else{return _6c5.getTimezoneOffset();}};dojo.date.locale.format=function(_6c8,_6c9){_6c9=_6c9||{};var _6ca=dojo.i18n.normalizeLocale(_6c9.locale),_6cb=_6c9.formatLength||"short",_6cc=dojo.date.locale._getGregorianBundle(_6ca),str=[],_6cd=lang.hitch(this,_6b9,_6c8,_6cc,_6c9);if(_6c9.selector=="year"){return _6ce(_6cc["dateFormatItem-yyyy"]||"yyyy",_6cd);}var _6cf;if(_6c9.selector!="date"){_6cf=_6c9.timePattern||_6cc["timeFormat-"+_6cb];if(_6cf){str.push(_6ce(_6cf,_6cd));}}if(_6c9.selector!="time"){_6cf=_6c9.datePattern||_6cc["dateFormat-"+_6cb];if(_6cf){str.push(_6ce(_6cf,_6cd));}}return str.length==1?str[0]:_6cc["dateTimeFormat-"+_6cb].replace(/\{(\d+)\}/g,function(_6d0,key){return str[key];});};dojo.date.locale.regexp=function(_6d1){return dojo.date.locale._parseInfo(_6d1).regexp;};dojo.date.locale._parseInfo=function(_6d2){_6d2=_6d2||{};var _6d3=dojo.i18n.normalizeLocale(_6d2.locale),_6d4=dojo.date.locale._getGregorianBundle(_6d3),_6d5=_6d2.formatLength||"short",_6d6=_6d2.datePattern||_6d4["dateFormat-"+_6d5],_6d7=_6d2.timePattern||_6d4["timeFormat-"+_6d5],_6d8;if(_6d2.selector=="date"){_6d8=_6d6;}else{if(_6d2.selector=="time"){_6d8=_6d7;}else{_6d8=_6d4["dateTimeFormat-"+_6d5].replace(/\{(\d+)\}/g,function(_6d9,key){return [_6d7,_6d6][key];});}}var _6da=[],re=_6ce(_6d8,lang.hitch(this,_6db,_6da,_6d4,_6d2));return {regexp:re,tokens:_6da,bundle:_6d4};};dojo.date.locale.parse=function(_6dc,_6dd){var _6de=/[\u200E\u200F\u202A\u202E]/g,info=dojo.date.locale._parseInfo(_6dd),_6df=info.tokens,_6e0=info.bundle,re=new RegExp("^"+info.regexp.replace(_6de,"")+"$",info.strict?"":"i"),_6e1=re.exec(_6dc&&_6dc.replace(_6de,""));if(!_6e1){return null;}var _6e2=["abbr","wide","narrow"],_6e3=[1970,0,1,0,0,0,0],amPm="",_6e4=dojo.every(_6e1,function(v,i){if(!i){return true;}var _6e5=_6df[i-1];var l=_6e5.length;switch(_6e5.charAt(0)){case "y":if(l!=2&&_6dd.strict){_6e3[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_6e6=year.substring(0,2)*100,_6e7=Math.min(Number(year.substring(2,4))+20,99);_6e3[0]=(v<_6e7)?_6e6+v:_6e6-100+v;}else{if(_6dd.strict){return false;}_6e3[0]=v;}}break;case "M":if(l>2){var _6e8=_6e0["months-format-"+_6e2[l-3]].concat();if(!_6dd.strict){v=v.replace(".","").toLowerCase();_6e8=dojo.map(_6e8,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_6e8,v);if(v==-1){return false;}}else{v--;}_6e3[1]=v;break;case "E":case "e":var days=_6e0["days-format-"+_6e2[l-3]].concat();if(!_6dd.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_6e3[1]=0;case "d":_6e3[2]=v;break;case "a":var am=_6dd.am||_6e0["dayPeriods-format-wide-am"],pm=_6dd.pm||_6e0["dayPeriods-format-wide-pm"];if(!_6dd.strict){var _6e9=/\./g;v=v.replace(_6e9,"").toLowerCase();am=am.replace(_6e9,"").toLowerCase();pm=pm.replace(_6e9,"").toLowerCase();}if(_6dd.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_6e3[3]=v;break;case "m":_6e3[4]=v;break;case "s":_6e3[5]=v;break;case "S":_6e3[6]=v;}return true;});var _6ea=+_6e3[3];if(amPm==="p"&&_6ea<12){_6e3[3]=_6ea+12;}else{if(amPm==="a"&&_6ea==12){_6e3[3]=0;}}var _6eb=new Date(_6e3[0],_6e3[1],_6e3[2],_6e3[3],_6e3[4],_6e3[5],_6e3[6]);if(_6dd.strict){_6eb.setFullYear(_6e3[0]);}var _6ec=_6df.join(""),_6ed=_6ec.indexOf("d")!=-1,_6ee=_6ec.indexOf("M")!=-1;if(!_6e4||(_6ee&&_6eb.getMonth()>_6e3[1])||(_6ed&&_6eb.getDate()>_6e3[2])){return null;}if((_6ee&&_6eb.getMonth()<_6e3[1])||(_6ed&&_6eb.getDate()<_6e3[2])){_6eb=date.add(_6eb,"hour",1);}return _6eb;};function _6ce(_6ef,_6f0,_6f1,_6f2){var _6f3=function(x){return x;};_6f0=_6f0||_6f3;_6f1=_6f1||_6f3;_6f2=_6f2||_6f3;var _6f4=_6ef.match(/(''|[^'])+/g),_6f5=_6ef.charAt(0)=="'";dojo.forEach(_6f4,function(_6f6,i){if(!_6f6){_6f4[i]="";}else{_6f4[i]=(_6f5?_6f1:_6f0)(_6f6.replace(/''/g,"'"));_6f5=!_6f5;}});return _6f2(_6f4.join(""));};function _6db(_6f7,_6f8,_6f9,_6fa){_6fa=_6b6.escapeString(_6fa);if(!_6f9.strict){_6fa=_6fa.replace(" a"," ?a");}return _6fa.replace(/([a-z])\1*/ig,function(_6fb){var s,c=_6fb.charAt(0),l=_6fb.length,p2="",p3="";if(_6f9.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":s="\\S+";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_6f9.am||_6f8["dayPeriods-format-wide-am"],pm=_6f9.pm||_6f8["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_6f9.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_6f7){_6f7.push(_6fb);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _6fc=[];dojo.date.locale.addCustomFormats=function(_6fd,_6fe){_6fc.push({pkg:_6fd,name:_6fe});};dojo.date.locale._getGregorianBundle=function(_6ff){var _700={};dojo.forEach(_6fc,function(desc){var _701=dojo.i18n.getLocalization(desc.pkg,desc.name,_6ff);_700=lang.mixin(_700,_701);},this);return _700;};dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,_702,_703){var _704,_705=dojo.date.locale._getGregorianBundle(_703),_706=[item,_702,type];if(_702=="standAlone"){var key=_706.join("-");_704=_705[key];if(_704[0]==1){_704=undefined;}}_706[1]="format";return (_704||_705[_706.join("-")]).concat();};dojo.date.locale.isWeekend=function(_707,_708){var _709=cldr.getWeekend(_708),day=(_707||new Date()).getDay();if(_709.end<_709.start){_709.end+=7;if(day<_709.start){day+=7;}}return day>=_709.start&&day<=_709.end;};dojo.date.locale._getDayOfYear=function(_70a){return date.difference(new Date(_70a.getFullYear(),0,1,_70a.getHours()),_70a)+1;};dojo.date.locale._getWeekOfYear=function(_70b,_70c){if(arguments.length==1){_70c=0;}var _70d=new Date(_70b.getFullYear(),0,1).getDay(),adj=(_70d-_70c+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_70b)+adj-1)/7);if(_70d==_70c){week++;}return week;};return dojo.date.locale;});},"dijit/_editor/range":function(){define("dijit/_editor/range",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window",".."],function(_70e,_70f,lang,win,_710){_710.range={};_710.range.getIndex=function(node,_711){var ret=[],retR=[];var _712=node;var _713,n;while(node!=_711){var i=0;_713=node.parentNode;while((n=_713.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_713.childNodes.length);node=_713;}if(ret.length>0&&_712.nodeType==3){n=_712.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_712.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};};_710.range.getNode=function(_714,_715){if(!lang.isArray(_714)||_714.length==0){return _715;}var node=_715;_70e.every(_714,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;};_710.range.getCommonAncestor=function(n1,n2,root){root=root||n1.ownerDocument.body;var _716=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_716(n1);var n2as=_716(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};_710.range.getAncestor=function(node,_717,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_717.test(name)){return node;}node=node.parentNode;}return null;};_710.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;_710.range.getBlockAncestor=function(node,_718,root){root=root||node.ownerDocument.body;_718=_718||_710.range.BlockTagNames;var _719=null,_71a;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_719&&_718.test(name)){_719=node;}if(!_71a&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_71a=node;}node=node.parentNode;}return {blockNode:_719,blockContainer:_71a||node.ownerDocument.body};};_710.range.atBeginningOfContainer=function(_71b,node,_71c){var _71d=false;var _71e=(_71c==0);if(!_71e&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_71c))){_71e=true;}}if(_71e){var _71f=node;_71d=true;while(_71f&&_71f!==_71b){if(_71f.previousSibling){_71d=false;break;}_71f=_71f.parentNode;}}return _71d;};_710.range.atEndOfContainer=function(_720,node,_721){var _722=false;var _723=(_721==(node.length||node.childNodes.length));if(!_723&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_721))){_723=true;}}if(_723){var _724=node;_722=true;while(_724&&_724!==_720){if(_724.nextSibling){_722=false;break;}_724=_724.parentNode;}}return _722;};_710.range.adjacentNoneTextNode=function(_725,next){var node=_725;var len=(0-_725.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];};_710.range._w3c=Boolean(window["getSelection"]);_710.range.create=function(_726){if(_710.range._w3c){return (_726||win.global).document.createRange();}else{return new _710.range.W3CRange;}};_710.range.getSelection=function(win,_727){if(_710.range._w3c){return win.getSelection();}else{var s=new _710.range.ie.selection(win);if(!_727){s._getCurrentSelection();}return s;}};if(!_710.range._w3c){_710.range.ie={cachedSelection:{},selection:function(win){this._ranges=[];this.addRange=function(r,_728){this._ranges.push(r);if(!_728){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _729=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new _710.range.W3CRange(_710.range.ie.decomposeControlRange(r));}else{return new _710.range.W3CRange(_710.range.ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_729();if(r){this.addRange(r,true);this.isCollapsed=r.collapsed;}else{this.isCollapsed=true;}};},decomposeControlRange:function(_72a){var _72b=_72a.item(0),_72c=_72a.item(_72a.length-1);var _72d=_72b.parentNode,_72e=_72c.parentNode;var _72f=_710.range.getIndex(_72b,_72d).o[0];var _730=_710.range.getIndex(_72c,_72e).o[0]+1;return [_72d,_72f,_72e,_730];},getEndPoint:function(_731,end){var _732=_731.duplicate();_732.collapse(!end);var _733="EndTo"+(end?"End":"Start");var _734=_732.parentElement();var _735,_736,_737;if(_734.childNodes.length>0){_70e.every(_734.childNodes,function(node,i){var _738;if(node.nodeType!=3){_732.moveToElementText(node);if(_732.compareEndPoints(_733,_731)>0){if(_737&&_737.nodeType==3){_735=_737;_738=true;}else{_735=_734;_736=i;return false;}}else{if(i==_734.childNodes.length-1){_735=_734;_736=_734.childNodes.length;return false;}}}else{if(i==_734.childNodes.length-1){_735=node;_738=true;}}if(_738&&_735){var _739=_710.range.adjacentNoneTextNode(_735)[0];if(_739){_735=_739.nextSibling;}else{_735=_734.firstChild;}var _73a=_710.range.adjacentNoneTextNode(_735);_739=_73a[0];var _73b=_73a[1];if(_739){_732.moveToElementText(_739);_732.collapse(false);}else{_732.moveToElementText(_734);}_732.setEndPoint(_733,_731);_736=_732.text.length-_73b;return false;}_737=node;return true;});}else{_735=_734;_736=0;}if(!end&&_735.nodeType==1&&_736==_735.childNodes.length){var _73c=_735.nextSibling;if(_73c&&_73c.nodeType==3){_735=_73c;_736=0;}}return [_735,_736];},setEndPoint:function(_73d,_73e,_73f){var _740=_73d.duplicate(),node,len;if(_73e.nodeType!=3){if(_73f>0){node=_73e.childNodes[_73f-1];if(node){if(node.nodeType==3){_73e=node;_73f=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_73e=node.nextSibling;_73f=0;}else{_740.moveToElementText(node.nextSibling?node:_73e);var _741=node.parentNode;var _742=_741.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_740.collapse(false);_741.removeChild(_742);}}}}else{_740.moveToElementText(_73e);_740.collapse(true);}}if(_73e.nodeType==3){var _743=_710.range.adjacentNoneTextNode(_73e);var _744=_743[0];len=_743[1];if(_744){_740.moveToElementText(_744);_740.collapse(false);if(_744.contentEditable!="inherit"){len++;}}else{_740.moveToElementText(_73e.parentNode);_740.collapse(true);}_73f+=len;if(_73f>0){if(_740.move("character",_73f)!=_73f){console.error("Error when moving!");}}}return _740;},decomposeTextRange:function(_745){var _746=_710.range.ie.getEndPoint(_745);var _747=_746[0],_748=_746[1];var _749=_746[0],_74a=_746[1];if(_745.htmlText.length){if(_745.htmlText==_745.text){_74a=_748+_745.text.length;}else{_746=_710.range.ie.getEndPoint(_745,true);_749=_746[0],_74a=_746[1];}}return [_747,_748,_749,_74a];},setRange:function(_74b,_74c,_74d,_74e,_74f,_750){var _751=_710.range.ie.setEndPoint(_74b,_74c,_74d);_74b.setEndPoint("StartToStart",_751);if(!_750){var end=_710.range.ie.setEndPoint(_74b,_74e,_74f);}_74b.setEndPoint("EndToEnd",end||_751);return _74b;}};_70f("dijit.range.W3CRange",null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=_710.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_752){_752=parseInt(_752);if(this.startContainer===node&&this.startOffset==_752){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_752;if(!this.endContainer){this.setEnd(node,_752);}else{this._updateInternal();}},setEnd:function(node,_753){_753=parseInt(_753);if(this.endContainer===node&&this.endOffset==_753){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_753;if(!this.startContainer){this.setStart(node,_753);}else{this._updateInternal();}},setStartAfter:function(node,_754){this._setPoint("setStart",node,_754,1);},setStartBefore:function(node,_755){this._setPoint("setStart",node,_755,0);},setEndAfter:function(node,_756){this._setPoint("setEnd",node,_756,1);},setEndBefore:function(node,_757){this._setPoint("setEnd",node,_757,0);},_setPoint:function(what,node,_758,ext){var _759=_710.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_759.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();_710.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var s=this.startContainer,r=this._getIERange();if(s.nodeType===3&&!this.startOffset){this.setStartBefore(s);}r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new _710.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}return _710.range;});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_75a,lang,_75b){var util=lang.getObject("dojo.store.util",true);util.QueryResults=function(_75c){if(!_75c){return _75c;}if(_75c.then){_75c=lang.delegate(_75c);}function _75d(_75e){if(!_75c[_75e]){_75c[_75e]=function(){var args=arguments;return _75b.when(_75c,function(_75f){Array.prototype.unshift.call(args,_75f);return util.QueryResults(_75a[_75e].apply(_75a,args));});};}};_75d("forEach");_75d("filter");_75d("map");if(!_75c.total){_75c.total=_75b.when(_75c,function(_760){return _760.length;});}return _75c;};return util.QueryResults;});},"dijit/form/_ListBase":function(){define("dijit/form/_ListBase",["dojo/_base/declare","dojo/window"],function(_761,_762){return _761("dijit.form._ListBase",null,{selected:null,_getTarget:function(evt){var tgt=evt.target;var _763=this.containerNode;if(tgt==_763||tgt==this.domNode){return null;}while(tgt&&tgt.parentNode!=_763){tgt=tgt.parentNode;}return tgt;},selectFirstNode:function(){var _764=this.containerNode.firstChild;while(_764&&_764.style.display=="none"){_764=_764.nextSibling;}this._setSelectedAttr(_764);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last);},selectNextNode:function(){var _765=this._getSelectedAttr();if(!_765){this.selectFirstNode();}else{var next=_765.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next);}}},selectPreviousNode:function(){var _766=this._getSelectedAttr();if(!_766){this.selectLastNode();}else{var prev=_766.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev);}}},_setSelectedAttr:function(node){if(this.selected!=node){var _767=this._getSelectedAttr();if(_767){this.onDeselect(_767);this.selected=null;}if(node&&node.parentNode==this.containerNode){this.selected=node;_762.scrollIntoView(node);this.onSelect(node);}}else{if(node){this.onSelect(node);}}},_getSelectedAttr:function(){var v=this.selected;return (v&&v.parentNode==this.containerNode)?v:(this.selected=null);}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_768,_769,_76a,_76b,_76c,_76d,_76e){if(!_769.isAsync){_76a(0,function(){var _76f=["dijit/form/_FormValueWidget"];require(_76f);});}return _768("dijit.form._FormWidget",[_76b,_76d,_76c,_76e],{setDisabled:function(_770){_769.deprecated("setDisabled("+_770+") is deprecated. Use set('disabled',"+_770+") instead.","","2.0");this.set("disabled",_770);},setValue:function(_771){_769.deprecated("dijit.form._FormWidget:setValue("+_771+") is deprecated.  Use set('value',"+_771+") instead.","","2.0");this.set("value",_771);},getValue:function(){_769.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_772,_773){dojo.DeferredList=function(list,_774,_775,_776,_777){var _778=[];_772.call(this);var self=this;if(list.length===0&&!_774){this.resolve([0,[]]);}var _779=0;_773.forEach(list,function(item,i){item.then(function(_77a){if(_774){self.resolve([i,_77a]);}else{_77b(true,_77a);}},function(_77c){if(_775){self.reject(_77c);}else{_77b(false,_77c);}if(_776){return null;}throw _77c;});function _77b(_77d,_77e){_778[i]=[_77d,_77e];_779++;if(_779===list.length){self.resolve(_778);}};});};dojo.DeferredList.prototype=new _772();dojo.DeferredList.prototype.gatherResults=function(_77f){var d=new dojo.DeferredList(_77f,false,true,false);d.addCallback(function(_780){var ret=[];_773.forEach(_780,function(_781){ret.push(_781[1]);});return ret;});return d;};return dojo.DeferredList;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\r\n\t<thead>\r\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\r\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\r\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset' colspan=\"5\">\r\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\r\n\t\t\t\t</div>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\r\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t${!dayCellsHtml}\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\r\n\t\t\t${!dateRowsHtml}\r\n\t</tbody>\r\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\r\n\t\t<tr>\r\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\r\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\r\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tfoot>\r\n</table>\r\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/_base/sniff","dojo/string","dojo/_base/window","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html"],function(_782,_783,_784,date,_785,dom,_786,_787,lang,has,_788,win,_789,_78a,_78b){var _78c=_783("dijit.CalendarLite",[_789,_78a],{templateString:_78b,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:date,dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",_isValidDate:function(_78d){return _78d&&!isNaN(_78d)&&typeof _78d=="object"&&_78d.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var _78e=new this.dateClassObj(this.value);_78e.setHours(0,0,0,0);if(_78e.getDate()<this.value.getDate()){_78e=this.dateFuncObj.add(_78e,"hour",1);}return _78e;}else{return null;}},_setValueAttr:function(_78f,_790){if(_78f){_78f=new this.dateClassObj(_78f);}if(this._isValidDate(_78f)){if(!this._isValidDate(this.value)||this.dateFuncObj.compare(_78f,this.value)){_78f.setHours(1,0,0,0);if(!this.isDisabledDate(_78f,this.lang)){this._set("value",_78f);this.set("currentFocus",_78f);if(_790||typeof _790=="undefined"){this.onChange(this.get("value"));}}}}else{this._set("value",null);this.set("currentFocus",this.currentFocus);}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(win.doc.createTextNode(text));},_populateGrid:function(){var _791=new this.dateClassObj(this.currentFocus);_791.setDate(1);var _792=_791.getDay(),_793=this.dateFuncObj.getDaysInMonth(_791),_794=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_791,"month",-1)),_795=new this.dateClassObj(),_796=_784.getFirstDayOfWeek(this.lang);if(_796>_792){_796-=7;}this._date2cell={};_782.forEach(this.dateCells,function(_797,idx){var i=idx+_796;var date=new this.dateClassObj(_791),_798,_799="dijitCalendar",adj=0;if(i<_792){_798=_794-_792+i+1;adj=-1;_799+="Previous";}else{if(i>=(_792+_793)){_798=i-_792-_793+1;adj=1;_799+="Next";}else{_798=i-_792+1;_799+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_798);if(!this.dateFuncObj.compare(date,_795,"date")){_799="dijitCalendarCurrentDate "+_799;}if(this._isSelectedDate(date,this.lang)){_799="dijitCalendarSelectedDate "+_799;_797.setAttribute("aria-selected",true);}else{_797.setAttribute("aria-selected",false);}if(this.isDisabledDate(date,this.lang)){_799="dijitCalendarDisabledDate "+_799;_797.setAttribute("aria-disabled",true);}else{_799="dijitCalendarEnabledDate "+_799;_797.removeAttribute("aria-disabled");}var _79a=this.getClassForDate(date,this.lang);if(_79a){_799=_79a+" "+_799;}_797.className=_799+"Month dijitCalendarDateTemplate";var _79b=date.valueOf();this._date2cell[_79b]=_797;_797.dijitDateValue=_79b;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);this.monthWidget.set("month",_791);var y=_791.getFullYear()-1;var d=new this.dateClassObj();_782.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(args){this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?lang.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=lang.getObject("locale",false,this.dateFuncObj);},_createMonthWidget:function(){return _78c._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_79c=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_79d=_784.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_788.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _79c[_79d++%7];});var r=_788.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _79e=new this.dateClassObj(this.currentFocus);this._supportingWidgets.push(this.monthWidget=this._createMonthWidget());this.set("currentFocus",_79e,false);var _79f=lang.hitch(this,function(_7a0,part,_7a1){this.connect(this[_7a0],"onclick",function(){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_7a1));});});_79f("incrementMonth","month",1);_79f("decrementMonth","month",-1);_79f("nextYearLabelNode","year",1);_79f("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_7a2){var _7a3=this.currentFocus,_7a4=_7a3&&this._date2cell?this._date2cell[_7a3.valueOf()]:null;date=new this.dateClassObj(date);date.setHours(1,0,0,0);this._set("currentFocus",date);this._populateGrid();var _7a5=this._date2cell[date.valueOf()];_7a5.setAttribute("tabIndex",this.tabIndex);if(this.focused||_7a2){_7a5.focus();}if(_7a4&&_7a4!=_7a5){if(has("webkit")){_7a4.setAttribute("tabIndex","-1");}else{_7a4.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){_787.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_786.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},onChange:function(){},_isSelectedDate:function(_7a6){return this._isValidDate(this.value)&&!this.dateFuncObj.compare(_7a6,this.value,"date");},isDisabledDate:function(){},getClassForDate:function(){}});_78c._MonthWidget=_783("dijit.CalendarLite._MonthWidget",_789,{_setMonthAttr:function(_7a7){var _7a8=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_7a7),_7a9=(has("ie")==6?"":"<div class='dijitSpacer'>"+_782.map(_7a8,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_7a9+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_7a8[_7a7.getMonth()]+"</div>";}});return _78c;});},"dojo/io/iframe":function(){define(["../main","require"],function(dojo,_7aa){dojo.getObject("io",true,dojo);dojo.io.iframe={create:function(_7ab,_7ac,uri){if(window[_7ab]){return window[_7ab];}if(window.frames[_7ab]){return window.frames[_7ab];}var turi=uri;if(!turi){if(dojo.config["useXDomain"]&&!dojo.config["dojoBlankHtmlUrl"]){console.warn("dojo.io.iframe.create: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}turi=(dojo.config["dojoBlankHtmlUrl"]||_7aa.toUrl("../resources/blank.html"));}var _7ad=dojo.place("<iframe id=\""+_7ab+"\" name=\""+_7ab+"\" src=\""+turi+"\" onload=\""+_7ac+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",dojo.body());window[_7ab]=_7ad;return _7ad;},setSrc:function(_7ae,src,_7af){try{if(!_7af){if(dojo.isWebKit){_7ae.location=src;}else{frames[_7ae.name].location=src;}}else{var idoc;if(dojo.isIE||dojo.isWebKit){idoc=_7ae.contentWindow.document;}else{idoc=_7ae.contentWindow;}if(!idoc){_7ae.location=src;}else{idoc.location.replace(src);}}}catch(e){console.log("dojo.io.iframe.setSrc: ",e);}},doc:function(_7b0){return _7b0.contentDocument||(((_7b0.name)&&(_7b0.document)&&(dojo.doc.getElementsByTagName("iframe")[_7b0.name].contentWindow)&&(dojo.doc.getElementsByTagName("iframe")[_7b0.name].contentWindow.document)))||((_7b0.name)&&(dojo.doc.frames[_7b0.name])&&(dojo.doc.frames[_7b0.name].document))||null;},send:function(args){if(!this["_frame"]){this._frame=this.create(this._iframeName,dojo._scopeName+".io.iframe._iframeOnload();");}var dfd=dojo._ioSetArgs(args,function(dfd){dfd.canceled=true;dfd.ioArgs._callNext();},function(dfd){var _7b1=null;try{var _7b2=dfd.ioArgs;var dii=dojo.io.iframe;var ifd=dii.doc(dii._frame);var _7b3=_7b2.handleAs;_7b1=ifd;if(_7b3!="html"){if(_7b3=="xml"){if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){dojo.query("a",dii._frame.contentWindow.document.documentElement).orphan();var _7b4=(dii._frame.contentWindow.document).documentElement.innerText;_7b4=_7b4.replace(/>\s+</g,"><");_7b4=dojo.trim(_7b4);var _7b5={responseText:_7b4};_7b1=dojo._contentHandlers["xml"](_7b5);}}else{_7b1=ifd.getElementsByTagName("textarea")[0].value;if(_7b3=="json"){_7b1=dojo.fromJson(_7b1);}else{if(_7b3=="javascript"){_7b1=dojo.eval(_7b1);}}}}}catch(e){_7b1=e;}finally{_7b2._callNext();}return _7b1;},function(_7b6,dfd){dfd.ioArgs._hasError=true;dfd.ioArgs._callNext();return _7b6;});dfd.ioArgs._callNext=function(){if(!this["_calledNext"]){this._calledNext=true;dojo.io.iframe._currentDfd=null;dojo.io.iframe._fireNextRequest();}};this._dfdQueue.push(dfd);this._fireNextRequest();dojo._ioWatch(dfd,function(dfd){return !dfd.ioArgs["_hasError"];},function(dfd){return (!!dfd.ioArgs["_finished"]);},function(dfd){if(dfd.ioArgs._finished){dfd.callback(dfd);}else{dfd.errback(new Error("Invalid dojo.io.iframe request state"));}});return dfd;},_currentDfd:null,_dfdQueue:[],_iframeName:dojo._scopeName+"IoIframe",_fireNextRequest:function(){try{if((this._currentDfd)||(this._dfdQueue.length==0)){return;}do{var dfd=this._currentDfd=this._dfdQueue.shift();}while(dfd&&dfd.canceled&&this._dfdQueue.length);if(!dfd||dfd.canceled){this._currentDfd=null;return;}var _7b7=dfd.ioArgs;var args=_7b7.args;_7b7._contentToClean=[];var fn=dojo.byId(args["form"]);var _7b8=args["content"]||{};if(fn){if(_7b8){var _7b9=function(name,_7ba){dojo.create("input",{type:"hidden",name:name,value:_7ba},fn);_7b7._contentToClean.push(name);};for(var x in _7b8){var val=_7b8[x];if(dojo.isArray(val)&&val.length>1){var i;for(i=0;i<val.length;i++){_7b9(x,val[i]);}}else{if(!fn[x]){_7b9(x,val);}else{fn[x].value=val;}}}}var _7bb=fn.getAttributeNode("action");var _7bc=fn.getAttributeNode("method");var _7bd=fn.getAttributeNode("target");if(args["url"]){_7b7._originalAction=_7bb?_7bb.value:null;if(_7bb){_7bb.value=args.url;}else{fn.setAttribute("action",args.url);}}if(!_7bc||!_7bc.value){if(_7bc){_7bc.value=(args["method"])?args["method"]:"post";}else{fn.setAttribute("method",(args["method"])?args["method"]:"post");}}_7b7._originalTarget=_7bd?_7bd.value:null;if(_7bd){_7bd.value=this._iframeName;}else{fn.setAttribute("target",this._iframeName);}fn.target=this._iframeName;dojo._ioNotifyStart(dfd);fn.submit();}else{var _7be=args.url+(args.url.indexOf("?")>-1?"&":"?")+_7b7.query;dojo._ioNotifyStart(dfd);this.setSrc(this._frame,_7be,true);}}catch(e){dfd.errback(e);}},_iframeOnload:function(){var dfd=this._currentDfd;if(!dfd){this._fireNextRequest();return;}var _7bf=dfd.ioArgs;var args=_7bf.args;var _7c0=dojo.byId(args.form);if(_7c0){var _7c1=_7bf._contentToClean;for(var i=0;i<_7c1.length;i++){var key=_7c1[i];for(var j=0;j<_7c0.childNodes.length;j++){var _7c2=_7c0.childNodes[j];if(_7c2.name==key){dojo.destroy(_7c2);break;}}}if(_7bf["_originalAction"]){_7c0.setAttribute("action",_7bf._originalAction);}if(_7bf["_originalTarget"]){_7c0.setAttribute("target",_7bf._originalTarget);_7c0.target=_7bf._originalTarget;}}_7bf._finished=true;}};return dojo.io.iframe;});},"dijit/form/_ComboBoxMenu":function(){define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_7c3,_7c4,_7c5,_7c6,keys,_7c7,_7c8,_7c9,_7ca){return _7c3("dijit.form._ComboBoxMenu",[_7c7,_7c8,_7ca,_7c9],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_7c4.add(this.previousButton,"dijitMenuItemRtl");_7c4.add(this.nextButton,"dijitMenuItemRtl");}},_createMenuItem:function(){return _7c5.create("div",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});},onHover:function(node){_7c4.add(node,"dijitMenuItemHover");},onUnhover:function(node){_7c4.remove(node,"dijitMenuItemHover");},onSelect:function(node){_7c4.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_7c4.remove(node,"dijitMenuItemSelected");},_page:function(up){var _7cb=0;var _7cc=this.domNode.scrollTop;var _7cd=_7c6.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_7cb<_7cd){var _7ce=this.getHighlightedOption();if(up){if(!_7ce.previousSibling||_7ce.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_7ce.nextSibling||_7ce.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _7cf=this.domNode.scrollTop;_7cb+=(_7cf-_7cc)*(up?-1:1);_7cc=_7cf;}},handleKey:function(evt){switch(evt.charOrCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\trole=\"combobox\"\r\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\r\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\r\n\t/></div\r\n></div>\r\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_7d0,_7d1,_7d2,lang,_7d3,_7d4,_7d5){new Date("X");var _7d6=_7d2("dijit.form._DateTimeTextBox",[_7d3,_7d4],{templateString:_7d5,hasDownArrow:true,openOnClick:true,regExpGen:_7d0.regexp,datePackage:date,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _7d7=this._isInvalidDate(val1);var _7d8=this._isInvalidDate(val2);return _7d7?(_7d8?0:-1):(_7d8?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(_7d9,_7da){if(!_7d9){return "";}return this.dateLocaleModule.format(_7d9,_7da);},"parse":function(_7db,_7dc){return this.dateLocaleModule.parse(_7db,_7dc)||(this._isEmpty(_7db)?null:undefined);},serialize:function(val,_7dd){if(val.toGregorian){val=val.toGregorian();}return _7d1.toISOString(val,_7dd);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(args){this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?lang.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=lang.getObject("locale",false,this.dateFuncObj);this.regExpGen=this.dateLocaleModule.regexp;this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(this.openOnClick||!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_7de){_7de.selector=this._selector;_7de.fullYear=true;var _7df=_7d1.fromISOString;if(typeof _7de.min=="string"){_7de.min=_7df(_7de.min);}if(typeof _7de.max=="string"){_7de.max=_7df(_7de.max);}this.inherited(arguments);},_isInvalidDate:function(_7e0){return !_7e0||isNaN(_7e0)||typeof _7e0!="object"||_7e0.toString()==this._invalidDate;},_setValueAttr:function(_7e1,_7e2,_7e3){if(_7e1!==undefined){if(typeof _7e1=="string"){_7e1=_7d1.fromISOString(_7e1);}if(this._isInvalidDate(_7e1)){_7e1=null;}if(_7e1 instanceof Date&&!(this.dateClassObj instanceof Date)){_7e1=new this.dateClassObj(_7e1);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",_7e1,false);}},_set:function(attr,_7e4){if(attr=="value"&&this.value instanceof Date&&this.compare(_7e4,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_7e5){if(this.dropDown){this.dropDown.destroy();}var _7e6=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_7e7=this,_7e8=this.get("value");this.dropDown=new _7e6({onChange:function(_7e9){_7e7.set("value",_7e9,true);},id:this.id+"_popup",dir:_7e7.dir,lang:_7e7.lang,value:_7e8,currentFocus:!this._isInvalidDate(_7e8)?_7e8:this.dropDownDefaultValue,constraints:_7e7.constraints,filterString:_7e7.filterString,datePackage:_7e7.datePackage,isDisabledDate:function(date){return !_7e7.rangeCheck(date,_7e7.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_7ea,_7eb){this._setValueAttr(this.parse(_7ea,this.constraints),_7eb,_7ea);}});return _7d6;});},"dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus",".."],function(_7ec,dom,lang,_7ed,win,_7ee,_7ef){lang.mixin(_7ef,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return _7ef.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_7ee.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_7f0){var _7f1=win.doc,mark=_7f0.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_7f1.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_7f1.body.createControlRange();_7ec.forEach(mark,function(n){rg.addElement(n);});}else{rg=_7f1.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_7f2){var node=!_7ee.curNode||(menu&&dom.isDescendant(_7ee.curNode,menu.domNode))?_7ef._prevFocus:_7ee.curNode;return {node:node,bookmark:node&&(node==_7ee.curNode)&&win.withGlobal(_7f2||win.global,_7ef.getBookmark),openedForWindow:_7f2};},_activeStack:[],registerIframe:function(_7f3){return _7ee.registerIframe(_7f3);},unregisterIframe:function(_7f4){_7f4&&_7f4.remove();},registerWin:function(_7f5,_7f6){return _7ee.registerWin(_7f5,_7f6);},unregisterWin:function(_7f7){_7f7&&_7f7.remove();}});_7ee.focus=function(_7f8){if(!_7f8){return;}var node="node" in _7f8?_7f8.node:_7f8,_7f9=_7f8.bookmark,_7fa=_7f8.openedForWindow,_7fb=_7f9?_7f9.isCollapsed:false;if(node){var _7fc=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_7fc&&_7fc.focus){try{_7fc.focus();}catch(e){}}_7ee._onFocusNode(node);}if(_7f9&&win.withGlobal(_7fa||win.global,_7ef.isCollapsed)&&!_7fb){if(_7fa){_7fa.focus();}try{win.withGlobal(_7fa||win.global,_7ef.moveToBookmark,null,[_7f9]);}catch(e2){}}};_7ee.watch("curNode",function(name,_7fd,_7fe){_7ef._curFocus=_7fe;_7ef._prevFocus=_7fd;if(_7fe){_7ed.publish("focusNode",_7fe);}});_7ee.watch("activeStack",function(name,_7ff,_800){_7ef._activeStack=_800;});_7ee.on("widget-blur",function(_801,by){_7ed.publish("widgetBlur",_801,by);});_7ee.on("widget-focus",function(_802,by){_7ed.publish("widgetFocus",_802,by);});return _7ef;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/sniff","./_base/manager","."],function(_803,_804,_805,dom,_806,_807,has,_808,_809){var _80a=(_809._isElementShown=function(elem){var s=_807.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_806.get(elem,"type")!="hidden");});_809.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _806.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _80b=elem.contentDocument;if("designMode" in _80b&&_80b.designMode=="on"){return true;}body=_80b.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}};var _80c=(_809.isTabNavigable=function(elem){if(_806.get(elem,"disabled")){return false;}else{if(_806.has(elem,"tabIndex")){return _806.get(elem,"tabIndex")>=0;}else{return _809.hasDefaultTabStop(elem);}}});_809._getTabNavigable=function(root){var _80d,last,_80e,_80f,_810,_811,_812={};function _813(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _814=function(_815){for(var _816=_815.firstChild;_816;_816=_816.nextSibling){if(_816.nodeType!=1||(has("ie")&&_816.scopeName!=="HTML")||!_80a(_816)){continue;}if(_80c(_816)){var _817=_806.get(_816,"tabIndex");if(!_806.has(_816,"tabIndex")||_817==0){if(!_80d){_80d=_816;}last=_816;}else{if(_817>0){if(!_80e||_817<_80f){_80f=_817;_80e=_816;}if(!_810||_817>=_811){_811=_817;_810=_816;}}}var rn=_813(_816);if(_806.get(_816,"checked")&&rn){_812[rn]=_816;}}if(_816.nodeName.toUpperCase()!="SELECT"){_814(_816);}}};if(_80a(root)){_814(root);}function rs(node){return _812[_813(node)]||node;};return {first:rs(_80d),last:rs(last),lowest:rs(_80e),highest:rs(_810)};};_809.getFirstInTabbingOrder=function(root){var _818=_809._getTabNavigable(dom.byId(root));return _818.lowest?_818.lowest:_818.first;};_809.getLastInTabbingOrder=function(root){var _819=_809._getTabNavigable(dom.byId(root));return _819.last?_819.last:_819.highest;};return {hasDefaultTabStop:_809.hasDefaultTabStop,isTabNavigable:_809.isTabNavigable,_getTabNavigable:_809._getTabNavigable,getFirstInTabbingOrder:_809.getFirstInTabbingOrder,getLastInTabbingOrder:_809.getLastInTabbingOrder};});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/_base/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton","./hccss"],function(_81a,date,_81b,_81c,_81d,_81e,_81f,_820,keys,lang,has,_821,_822,_823,_824,_825){var _826=_81c("dijit.Calendar",[_821,_822,_823],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_827){_820.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_827);},_createMonthWidget:function(){return new _826._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress","_onKeyPress");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_828){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,"month",_828-this.currentFocus.getMonth()));},_onDayMouseOver:function(evt){var node=_81e.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_81e.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_81e.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_81e.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_81e.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_81e.contains(node,"dijitCalendarDisabledDate")){_81e.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_81e.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _829=-1,_82a,_82b=this.currentFocus;switch(evt.charOrCode){case keys.RIGHT_ARROW:_829=1;case keys.LEFT_ARROW:_82a="day";if(!this.isLeftToRight()){_829*=-1;}break;case keys.DOWN_ARROW:_829=1;case keys.UP_ARROW:_82a="week";break;case keys.PAGE_DOWN:_829=1;case keys.PAGE_UP:_82a=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_82b=this.dateFuncObj.add(_82b,"month",1);_82a="day";case keys.HOME:_82b=new this.dateClassObj(_82b);_82b.setDate(1);break;case keys.ENTER:case " ":this.set("value",this.currentFocus);break;default:return true;}if(_82a){_82b=this.dateFuncObj.add(_82b,_82a,_829);}this._setCurrentFocusAttr(_82b);return false;},_onKeyPress:function(evt){if(!this.handleKey(evt)){_81f.stop(evt);}},onValueSelected:function(){},onChange:function(_82c){this.onValueSelected(_82c);},getClassForDate:function(){}});_826._MonthDropDownButton=_81c("dijit.Calendar._MonthDropDownButton",_825,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _826._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_82d){var _82e=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_82d);this.dropDown.set("months",_82e);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_82e[_82d.getMonth()]+"</div>";}});_826._MonthDropDown=_81c("dijit.Calendar._MonthDropDown",[_822,_824],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_82f){this.domNode.innerHTML=_81a.map(_82f,function(_830,idx){return _830?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_830+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_81d.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_81e.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _826;});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_831,_832){return _831("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _833=this.checked;this._set("checked",!_833);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_833);return ret;},_setCheckedAttr:function(_834,_835){this._set("checked",_834);_832.set(this.focusNode||this.domNode,"checked",_834);(this.focusNode||this.domNode).setAttribute(this._aria_attr,_834?"true":"false");this._handleOnChange(_834,_835);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_836,_837,_838,_839,_83a,lang,_83b,_83c,_83d,_83e,_83f,_840){function _841(){};function _842(_843){return function(obj,_844,_845,_846){if(obj&&typeof _844=="string"&&obj[_844]==_841){return obj.on(_844.substring(2).toLowerCase(),lang.hitch(_845,_846));}return _843.apply(_838,arguments);};};_836.around(_838,"connect",_842);if(_83a.connect){_836.around(_83a,"connect",_842);}var _847=_839("dijit._Widget",[_83e,_83f,_840],{onClick:_841,onDblClick:_841,onKeyDown:_841,onKeyPress:_841,onKeyUp:_841,onMouseDown:_841,onMouseMove:_841,onMouseOut:_841,onMouseOver:_841,onMouseLeave:_841,onMouseEnter:_841,onMouseUp:_841,constructor:function(_848){this._toConnect={};for(var name in _848){if(this[name]===_841){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_848[name];delete _848[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_841){return _838.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_849){_83a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_849);},attr:function(name,_84a){if(_837.isDebug){var _84b=arguments.callee._ach||(arguments.callee._ach={}),_84c=(arguments.callee.caller||"unknown caller").toString();if(!_84b[_84c]){_83a.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_84c,"","2.0");_84b[_84c]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_83a.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_83b("[widgetId]",this.containerNode).map(_83d.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(!_83a.isAsync){_83c(0,function(){var _84d=["dijit/_base"];require(_84d);});}return _847;});},"dojo/touch":function(){define(["./_base/kernel","./on","./has","./mouse"],function(dojo,on,has,_84e){function _84f(type){return function(node,_850){return on(node,type,_850);};};var _851=has("touch");dojo.touch={press:_84f(_851?"touchstart":"mousedown"),move:_84f(_851?"touchmove":"mousemove"),release:_84f(_851?"touchend":"mouseup"),cancel:_851?_84f("touchcancel"):_84e.leave};return dojo.touch;});},"dijit/_editor/selection":function(){define("dijit/_editor/selection",["dojo/dom","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window",".."],function(dom,lang,has,win,_852){lang.getObject("_editor.selection",true,_852);lang.mixin(_852._editor.selection,{getType:function(){if(has("ie")<9){return win.doc.selection.type.toLowerCase();}else{var _853="text";var oSel;try{oSel=win.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _854=oSel.getRangeAt(0);if((_854.startContainer==_854.endContainer)&&((_854.endOffset-_854.startOffset)==1)&&(_854.startContainer.nodeType!=3)){_853="control";}}return _853;}},getSelectedText:function(){if(has("ie")<9){if(_852._editor.selection.getType()=="control"){return null;}return win.doc.selection.createRange().text;}else{var _855=win.global.getSelection();if(_855){return _855.toString();}}return "";},getSelectedHtml:function(){if(has("ie")<9){if(_852._editor.selection.getType()=="control"){return null;}return win.doc.selection.createRange().htmlText;}else{var _856=win.global.getSelection();if(_856&&_856.rangeCount){var i;var html="";for(i=0;i<_856.rangeCount;i++){var frag=_856.getRangeAt(i).cloneContents();var div=win.doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}},getSelectedElement:function(){if(_852._editor.selection.getType()=="control"){if(has("ie")<9){var _857=win.doc.selection.createRange();if(_857&&_857.item){return win.doc.selection.createRange().item(0);}}else{var _858=win.global.getSelection();return _858.anchorNode.childNodes[_858.anchorOffset];}}return null;},getParentElement:function(){if(_852._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(has("ie")<9){var r=win.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _859=win.global.getSelection();if(_859){var node=_859.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function(_85a){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function(_85b){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _85c=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _85d=String(tags[i]).toLowerCase();if(_85c==_85d){return _85d;}}}return "";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function(_85e){if(window.getSelection){var _85f=win.global.getSelection();if(_85f.removeAllRanges){if(_85e){_85f.collapseToStart();}else{_85f.collapseToEnd();}}else{_85f.collapse(_85e);}}else{if(has("ie")){var _860=win.doc.selection.createRange();_860.collapse(_85e);_860.select();}}},remove:function(){var sel=win.doc.selection;if(has("ie")<9){if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}else{sel=win.global.getSelection();sel.deleteFromDocument();return sel;}},selectElementChildren:function(_861,_862){var _863=win.global;var doc=win.doc;var _864;_861=dom.byId(_861);if(doc.selection&&has("ie")<9&&win.body().createTextRange){_864=_861.ownerDocument.body.createTextRange();_864.moveToElementText(_861);if(!_862){try{_864.select();}catch(e){}}}else{if(_863.getSelection){var _865=win.global.getSelection();if(has("opera")){if(_865.rangeCount){_864=_865.getRangeAt(0);}else{_864=doc.createRange();}_864.setStart(_861,0);_864.setEnd(_861,(_861.nodeType==3)?_861.length:_861.childNodes.length);_865.addRange(_864);}else{_865.selectAllChildren(_861);}}}},selectElement:function(_866,_867){var _868;var doc=win.doc;var _869=win.global;_866=dom.byId(_866);if(has("ie")<9&&win.body().createTextRange){try{var tg=_866.tagName?_866.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_868=win.body().createControlRange();}else{_868=win.body().createRange();}_868.addElement(_866);if(!_867){_868.select();}}catch(e){this.selectElementChildren(_866,_867);}}else{if(_869.getSelection){var _86a=_869.getSelection();_868=doc.createRange();if(_86a.removeAllRanges){if(has("opera")){if(_86a.getRangeAt(0)){_868=_86a.getRangeAt(0);}}_868.selectNode(_866);_86a.removeAllRanges();_86a.addRange(_868);}}}},inSelection:function(node){if(node){var _86b;var doc=win.doc;var _86c;if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.rangeCount>0){_86c=sel.getRangeAt(0);}if(_86c&&_86c.compareBoundaryPoints&&doc.createRange){try{_86b=doc.createRange();_86b.setStart(node,0);if(_86c.compareBoundaryPoints(_86c.START_TO_END,_86b)===1){return true;}}catch(e){}}}else{if(doc.selection){_86c=doc.selection.createRange();try{_86b=node.ownerDocument.body.createControlRange();if(_86b){_86b.addElement(node);}}catch(e1){try{_86b=node.ownerDocument.body.createTextRange();_86b.moveToElementText(node);}catch(e2){}}if(_86c&&_86b){if(_86c.compareEndPoints("EndToStart",_86b)===1){return true;}}}}}return false;}});return _852._editor.selection;});},"dijit/form/nls/ComboBox":function(){define("dijit/form/nls/ComboBox",{root:({previousMessage:"Previous choices",nextMessage:"More choices"}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"esri/layers/FeatureLayer":function(){define(["dijit","dojo","dojox","dojo/require!esri/layers/graphics,esri/tasks/query,dojo/io/iframe,esri/layers/agscommon,dojo/date/locale"],function(_86d,dojo,_86e){dojo.provide("esri.layers.FeatureLayer");dojo.require("esri.layers.graphics");dojo.require("esri.tasks.query");dojo.require("dojo.io.iframe");dojo.require("esri.layers.agscommon");dojo.require("dojo.date.locale");dojo.declare("esri.layers.FeatureLayer",esri.layers.GraphicsLayer,{constructor:function(url,_86f){this._outFields=_86f&&_86f.outFields;this._loadCallback=_86f&&_86f.loadCallback;var _870=_86f&&_86f._usePatch;this._usePatch=(_870===null||_870===undefined)?true:_870;this._trackIdField=_86f&&_86f.trackIdField;this.objectIdField=_86f&&_86f.objectIdField;this._maxOffset=_86f&&_86f.maxAllowableOffset;this._optEditable=_86f&&_86f.editable;this._optAutoGen=_86f&&_86f.autoGeneralize;this.editSummaryCallback=_86f&&_86f.editSummaryCallback;this.userId=_86f&&_86f.userId;this.userIsAdmin=_86f&&_86f.userIsAdmin;this.useMapTime=(_86f&&_86f.hasOwnProperty("useMapTime"))?(!!_86f.useMapTime):true;this.source=_86f&&_86f.source;this.gdbVersion=_86f&&_86f.gdbVersion;this._selectedFeatures={};this._selectedFeaturesArr=[];this._newFeatures=[];this._deletedFeatures={};this._ulid=this._getUniqueId();var ctor=this.constructor,mode=this.mode=(esri._isDefined(_86f&&_86f.mode)?_86f.mode:ctor.MODE_ONDEMAND);switch(mode){case ctor.MODE_SNAPSHOT:this._mode=new esri.layers._SnapshotMode(this);this._isSnapshot=true;break;case ctor.MODE_ONDEMAND:this._tileWidth=(_86f&&_86f.tileWidth)||512;this._tileHeight=(_86f&&_86f.tileHeight)||512;this._mode=new esri.layers._OnDemandMode(this);var _871=_86f&&_86f.latticeTiling;this.latticeTiling=_871;break;case ctor.MODE_SELECTION:this._mode=new esri.layers._SelectionMode(this);this._isSelOnly=true;break;}this._initLayer=dojo.hitch(this,this._initLayer);this._selectHandler=dojo.hitch(this,this._selectHandler);this._editable=false;if(dojo.isObject(url)&&url.layerDefinition){var json=url;this._collection=true;this.mode=ctor.MODE_SNAPSHOT;this._initLayer(json);return this;}this._task=new esri.tasks.QueryTask(this.url,{source:this.source,gdbVersion:this.gdbVersion});var _872=this._url.path;this._fserver=false;if(_872.search(/\/FeatureServer\//i)!==-1){this._fserver=true;}var _873=_86f&&_86f.resourceInfo;if(_873){this._initLayer(_873);}else{if(this.source){var _874={source:this.source.toJson()};this._url.query=dojo.mixin(this._url.query,{layer:dojo.toJson(_874)});}if(this.gdbVersion){this._url.query=dojo.mixin(this._url.query,{gdbVersion:this.gdbVersion});}esri.request({url:_872,content:dojo.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler});}},_initLayer:function(_875,io){if(_875||io){this._json=_875;this._findCredential();var ssl=(this.credential&&this.credential.ssl)||(_875&&_875._ssl);if(ssl){this._useSSL();this._task._useSSL();}if(this._collection){this._mode=new esri.layers._SnapshotMode(this);this._isSnapshot=true;this._featureSet=_875.featureSet;this._nextId=_875.nextObjectId;_875=_875.layerDefinition;}if(_875.hasOwnProperty("capabilities")){var _876=(this.capabilities=_875.capabilities);if(_876&&_876.toLowerCase().indexOf("editing")!==-1){this._editable=true;}else{this._editable=false;}}else{if(!this._collection){this._editable=this._fserver;}}if(esri._isDefined(this._optEditable)){this._editable=this._optEditable;delete this._optEditable;}this._json=dojo.toJson(this._json);if(this.isEditable()){delete this._maxOffset;}else{if(this.mode!==this.constructor.MODE_SNAPSHOT&&((_875.geometryType==="esriGeometryPolyline")||(_875.geometryType==="esriGeometryPolygon"))){this._autoGeneralize=esri._isDefined(this._optAutoGen)?this._optAutoGen:(this.mode===this.constructor.MODE_ONDEMAND);delete this._optAutoGen;}}var _877=_875.effectiveMinScale||_875.minScale,_878=_875.effectiveMaxScale||_875.maxScale;if(!this._hasMin&&_877){this.setMinScale(_877);}if(!this._hasMax&&_878){this.setMaxScale(_878);}this.layerId=_875.id;this.name=_875.name;this.description=_875.description;this.copyright=_875.copyrightText;this.type=_875.type;this.geometryType=_875.geometryType;this.displayField=_875.displayField;this.defaultDefinitionExpression=_875.definitionExpression;this.fullExtent=new esri.geometry.Extent(_875.extent);this.defaultVisibility=_875.defaultVisibility;if((this.geometryType==="esriGeometryPoint")||(this.geometryType==="esriGeometryMultipoint")){this.latticeTiling=false;}this.indexedFields=_875.indexedFields;this.maxRecordCount=_875.maxRecordCount;this.canModifyLayer=_875.canModifyLayer;this.supportsStatistics=_875.supportsStatistics;this.supportsAdvancedQueries=_875.supportsAdvancedQueries;this.hasLabels=_875.hasLabels;this.canScaleSymbols=_875.canScaleSymbols;this.supportsRollbackOnFailure=_875.supportsRollbackOnFailure;this.syncCanReturnChanges=_875.syncCanReturnChanges;this.isDataVersioned=_875.isDataVersioned;this.editFieldsInfo=_875.editFieldsInfo;this.ownershipBasedAccessControlForFeatures=_875.ownershipBasedAccessControlForFeatures;if(this.editFieldsInfo&&this.ownershipBasedAccessControlForFeatures){this.creatorField=this.editFieldsInfo.creatorField;}this.relationships=_875.relationships;this.allowGeometryUpdates=esri._isDefined(_875.allowGeometryUpdates)?_875.allowGeometryUpdates:true;this._isTable=(this.type==="Table");var _879=(this.fields=[]),_87a=_875.fields,i;for(i=0;i<_87a.length;i++){_879.push(new esri.layers.Field(_87a[i]));}if(!this.objectIdField){this.objectIdField=_875.objectIdField;if(!this.objectIdField){_87a=_875.fields;for(i=0;i<_87a.length;i++){var _87b=_87a[i];if(_87b.type==="esriFieldTypeOID"){this.objectIdField=_87b.name;break;}}}if(!this.objectIdField){console.debug("esri.layers.FeatureLayer: "+esri.substitute({url:this.url},esri.bundle.layers.FeatureLayer.noOIDField));}}if(!esri._isDefined(this._nextId)){var _87c=this.objectIdField,_87d=-1;if(this._collection&&_87c){var fset=this._featureSet,_87e=fset&&fset.features,il=_87e?_87e.length:0,oid,attr;for(i=0;i<il;i++){attr=_87e[i].attributes;oid=attr&&attr[_87c];if(oid>_87d){_87d=oid;}}}this._nextId=(_87d+1);}this.globalIdField=_875.globalIdField;var _87f=(this.typeIdField=_875.typeIdField),_880;if(_87f){_880=!this._getField(_87f)&&this._getField(_87f,true);if(_880){this.typeIdField=_880.name;}}this.visibilityField=_875.visibilityField;var _881=_875.defaultSymbol;if(_881){this.defaultSymbol=esri.symbol.fromJson(_881);}var _882=this.types=[],_883=_875.types,_884,_885,_886,_887=this.editFieldsInfo,_888=_887&&_887.creatorField,_889=_887&&_887.editorField,fix=(_888||_889),_88a=[];if(_883){for(i=0;i<_883.length;i++){_884=new esri.layers.FeatureType(_883[i]);_885=_884.templates;if(fix&&_885&&_885.length){_88a=_88a.concat(_885);}_882.push(_884);}}var _88b=_875.templates,_88c,_88d=this.templates=[];if(_88b){for(i=0;i<_88b.length;i++){_88c=new esri.layers.FeatureTemplate(_88b[i]);if(fix){_88a.push(_88c);}_88d.push(_88c);}}for(i=0;i<_88a.length;i++){_886=dojo.getObject("prototype.attributes",false,_88a[i]);if(_886){if(_888){delete _886[_888];}if(_889){delete _886[_889];}}}var _88e=_875.timeInfo;if(_88e){this.timeInfo=new esri.layers.TimeInfo(_88e);this._startTimeField=_88e.startTimeField;this._endTimeField=_88e.endTimeField;if(this._startTimeField&&this._endTimeField){this._twoTimeFields=true;}if(this._trackIdField){_88e.trackIdField=this._trackIdField;}else{this._trackIdField=_88e.trackIdField;}}this.hasAttachments=(!this._collection&&_875.hasAttachments)?true:false;this.htmlPopupType=_875.htmlPopupType;var _88f=_875.drawingInfo,_890;if(!this.renderer){if(_88f&&_88f.renderer){_890=_88f.renderer;this.setRenderer(esri.renderer.fromJson(_890));if(_890.type==="classBreaks"){this.renderer._setMaxInclusiveness(true);}if(!this._collection){var _891=_890.type,_892=[];_890=this.renderer;switch(_891){case "simple":_892.push(_890.symbol);break;case "uniqueValue":case "classBreaks":_892.push(_890.defaultSymbol);_892=_892.concat(dojo.map(_890.infos,function(info){return info.symbol;}));break;}_892=dojo.filter(_892,esri._isDefined);var _893=this._url.path+"/images/",_894=this._getToken();dojo.forEach(_892,function(sym){var url=sym.url;if(url){if((url.search(/https?\:/)===-1)&&(url.indexOf("data:")===-1)){sym.url=_893+url;}if(_894&&sym.url.search(/https?\:/)!==-1){sym.url+=("?token="+_894);}}});}}else{if(_881){_883=this.types;if(_883.length>0){_890=new esri.renderer.UniqueValueRenderer(this.defaultSymbol,this.typeIdField);dojo.forEach(_883,function(type){_890.addValue(type.id,type.symbol);});}else{_890=new esri.renderer.SimpleRenderer(this.defaultSymbol);}this.setRenderer(_890);}else{if(!this._isTable){var _895;switch(this.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":_895=new esri.symbol.SimpleMarkerSymbol();break;case "esriGeometryPolyline":_895=new esri.symbol.SimpleLineSymbol();break;case "esriGeometryPolygon":_895=new esri.symbol.SimpleFillSymbol();break;}this.setRenderer(_895?new esri.renderer.SimpleRenderer(_895):null);}}}}var _896=(_88f&&_88f.transparency)||0;if(!esri._isDefined(this.opacity)&&_896>0){this.opacity=1-(_896/100);}this.version=_875.currentVersion;if(!this.version){var ver;if("capabilities" in _875||"drawingInfo" in _875||"hasAttachments" in _875||"htmlPopupType" in _875||"relationships" in _875||"timeInfo" in _875||"typeIdField" in _875||"types" in _875){ver=10;}else{ver=9.3;}this.version=ver;}if((dojo.isIE||dojo.isSafari)&&this.isEditable()&&this.version<10.02){this._ts=true;}this.loaded=true;this._fixRendererFields();this._checkFields();this._updateCaps();if(this._collection){this._fireUpdateStart();var _897=this._featureSet;delete this._featureSet;this._mode._drawFeatures(new esri.tasks.FeatureSet(_897));this._fcAdded=true;}this.onLoad(this);var _898=this._loadCallback;if(_898){delete this._loadCallback;_898(this);}}},setRenderer:function(ren){this.inherited("setRenderer",arguments);var _899=this.renderer;if(_899){this._ager=(_899.declaredClass.indexOf("TemporalRenderer")!==-1&&_899.observationAger&&_899.observationRenderer);var _89a=dojo.filter([_899,_899.observationRenderer,_899.latestObservationRenderer,_899.trackRenderer],esri._isDefined);var _89b=[];dojo.forEach(_89a,function(rnd){_89b.push(rnd.attributeField);_89b.push(rnd.attributeField2);_89b.push(rnd.attributeField3);},this);this._rendererFields=dojo.filter(_89b,esri._isDefined);}else{this._ager=false;this._rendererFields=[];}if(this.loaded&&this._rendererFields.length>0){this._fixRendererFields();this._checkFields(this._rendererFields);}if(this.loaded&&this._collection){this._typesDirty=true;}},_setMap:function(map,_89c){this._map=map;this._toggleTime(true);var div=this.inherited("_setMap",arguments);this.clearSelection();var _89d=this.renderer;if(this.timeInfo){if(this._trackIdField||(_89d&&(_89d.latestObservationRenderer||_89d.trackRenderer))){this._trackManager=new esri.layers._TrackManager(this);this._trackManager.initialize(map);}}this._zoomConnect=dojo.connect(map,"onZoomEnd",this,this._updateMaxOffset);this._updateMaxOffset();var mode=this._mode;if(mode){mode.initialize(map);}return div;},_unsetMap:function(map,_89e){var mode=this._mode;if(mode){mode.destroy();this._mode=null;}if(this._trackManager){this._trackManager.destroy();this._trackManager=null;}dojo.disconnect(this._zoomConnect);this._zoomConnect=null;this._toggleTime(false);this.inherited("_unsetMap",arguments);},refresh:function(){var mode=this._mode;if(mode){mode.refresh();}},setEditable:function(_89f){if(!this._collection){console.log("FeatureLayer:setEditable - this functionality is not yet supported for layer in a feature service");return this;}if(!this.loaded){this._optEditable=_89f;return this;}var _8a0=this._editable;this._editable=_89f;this._updateCaps();if(_8a0!==_89f){this.onCapabilitiesChange();}return this;},getEditCapabilities:function(_8a1){var _8a2={"canCreate":false,"canUpdate":false,"canDelete":false};if(!this.loaded||!this.isEditable()){return _8a2;}var _8a3=_8a1&&_8a1.feature,_8a4=_8a1&&_8a1.userId,caps=dojo.map((this.capabilities?this.capabilities.toLowerCase().split(","):[]),dojo.trim),_8a5=dojo.indexOf(caps,"editing")>-1,_8a6=_8a5&&(dojo.indexOf(caps,"create")>-1),_8a7=_8a5&&(dojo.indexOf(caps,"update")>-1),_8a8=_8a5&&(dojo.indexOf(caps,"delete")>-1),_8a9=this.ownershipBasedAccessControlForFeatures,_8aa=this.editFieldsInfo,_8ab=_8aa&&_8aa.creatorField,_8ac=_8aa&&_8aa.realm,_8ad=_8a3&&_8a3.attributes,_8ae=(_8ad&&_8ab)?_8ad[_8ab]:undefined,_8af,_8b0=!!this.userIsAdmin,_8b1=!_8a9||_8b0||!!(_8a9.allowOthersToUpdate||_8a9.allowUpdateToOthers),_8b2=!_8a9||_8b0||!!(_8a9.allowOthersToDelete||_8a9.allowDeleteToOthers);if(_8b0||(_8a5&&!(_8a6||_8a7||_8a8))){_8a6=_8a7=_8a8=true;}_8af={"canCreate":_8a6,"canUpdate":_8a7,"canDelete":_8a8};if(_8ae===null){_8af.canUpdate=_8a7&&_8b1;_8af.canDelete=_8a8&&_8b2;}else{if(_8ae===""){return _8af;}else{if(_8ae){_8a4=_8a4||this.getUserId();if(_8a4&&_8ac){_8a4=_8a4+"@"+_8ac;}if(_8a4.toLowerCase()===_8ae.toLowerCase()){return _8af;}else{_8af.canUpdate=_8a7&&_8b1;_8af.canDelete=_8a8&&_8b2;}}}}return _8af;},getUserId:function(){var _8b3;if(this.loaded){_8b3=(this.credential&&this.credential.userId)||this.userId||"";}return _8b3;},setUserIsAdmin:function(_8b4){this.userIsAdmin=_8b4;},setEditSummaryCallback:function(_8b5){this.editSummaryCallback=_8b5;},getEditSummary:function(_8b6,_8b7,_8b8){_8b8=esri._isDefined(_8b8)?_8b8:(new Date()).getTime();var _8b9="",info=this.getEditInfo(_8b6,_8b7,_8b8),_8ba=(_8b7&&_8b7.callback)||this.editSummaryCallback;if(_8ba){info=_8ba(_8b6,info)||"";}if(dojo.isString(info)){_8b9=info;}else{if(info){var _8bb=info.action,_8bc=info.userId,_8bd=info.timeValue,_8be=0;if(_8bb){_8be++;}if(_8bc){_8be++;}if(esri._isDefined(_8bd)){_8be++;}if(_8be>1){_8b9=(_8bb==="edit"?"edit":"create")+(_8bc?"User":"")+(esri._isDefined(_8bd)?info.displayPattern:"");}}_8b9=_8b9&&esri.substitute(info,esri.bundle.layers.FeatureLayer[_8b9]);}return _8b9;},getEditInfo:function(_8bf,_8c0,_8c1){if(!this.loaded){return;}_8c1=esri._isDefined(_8c1)?_8c1:(new Date()).getTime();var _8c2=(_8c0&&_8c0.action)||"last",_8c3=this.editFieldsInfo,_8c4=_8c3&&_8c3.creatorField,_8c5=_8c3&&_8c3.creationDateField,_8c6=_8c3&&_8c3.editorField,_8c7=_8c3&&_8c3.editDateField,_8c8=_8c3&&_8c3.realm,_8c9=_8bf&&_8bf.attributes,_8ca=(_8c9&&_8c4)?_8c9[_8c4]:undefined,_8cb=(_8c9&&_8c5)?_8c9[_8c5]:null,_8cc=(_8c9&&_8c6)?_8c9[_8c6]:undefined,_8cd=(_8c9&&_8c7)?_8c9[_8c7]:null,_8ce=this._getEditData(_8ca,_8cb,_8c1),_8cf=this._getEditData(_8cc,_8cd,_8c1),_8d0;switch(_8c2){case "creation":_8d0=_8ce;break;case "edit":_8d0=_8cf;break;case "last":_8d0=_8cf||_8ce;break;}if(_8d0){_8d0.action=(_8d0===_8cf)?"edit":"creation";}return _8d0;},_getEditData:function(_8d1,_8d2,_8d3){var data,_8d4,_8d5,_8d6=60000,_8d7=3600000,_8d8=2*_8d7,_8d9=24*_8d7,_8da=7*_8d9;if(esri._isDefined(_8d2)){_8d4=_8d3-_8d2;if(_8d4<0){_8d5="Full";}else{if(_8d4<_8d6){_8d5="Seconds";}else{if(_8d4<(2*_8d6)){_8d5="Minute";}else{if(_8d4<_8d7){_8d5="Minutes";}else{if(_8d4<_8d8){_8d5="Hour";}else{if(_8d4<_8d9){_8d5="Hours";}else{if(_8d4<_8da){_8d5="WeekDay";}else{_8d5="Full";}}}}}}}}if((_8d1!==undefined)||_8d5){data=data||{};data.userId=_8d1;if(_8d5){var _8db=dojo.date.locale.format,_8dc=new Date(_8d2);data.minutes=Math.floor(_8d4/_8d6);data.hours=Math.floor(_8d4/_8d7);data.weekDay=_8db(_8dc,{datePattern:"EEEE",selector:"date"});data.formattedDate=_8db(_8dc,{selector:"date"});data.formattedTime=_8db(_8dc,{selector:"time"});data.displayPattern=_8d5;data.timeValue=_8d2;}}return data;},isEditable:function(){return !!(this._editable||this.userIsAdmin);},setMaxAllowableOffset:function(_8dd){if(!this.isEditable()){this._maxOffset=_8dd;}return this;},getMaxAllowableOffset:function(){return this._maxOffset;},setAutoGeneralize:function(_8de){if(!this.loaded){this._optAutoGen=_8de;}else{if(!this.isEditable()&&(this.mode!==this.constructor.MODE_SNAPSHOT)&&((this.geometryType==="esriGeometryPolyline")||(this.geometryType==="esriGeometryPolygon"))){this._autoGeneralize=_8de;if(_8de){var map=this._map;if(map&&map.loaded){this._maxOffset=Math.floor(map.extent.getWidth()/map.width);}}else{delete this._maxOffset;}}}return this;},setGDBVersion:function(_8df){if(!this._collection&&(_8df!==this.gdbVersion)&&(_8df||this.gdbVersion)){this.gdbVersion=_8df;this._task.gdbVersion=_8df;this._url.query=dojo.mixin(this._url.query,{gdbVersion:_8df});if(this.loaded){this.clearSelection();if(this._map){this.refresh();}}this.onGDBVersionChange();}return this;},setDefinitionExpression:function(expr){this._defnExpr=expr;var mode=this._mode;if(mode){mode.propertyChangeHandler(1);}return this;},getDefinitionExpression:function(){return this._defnExpr;},setTimeDefinition:function(_8e0){if(this._isSnapshot){this._timeDefn=_8e0;var mode=this._mode;if(mode){mode.propertyChangeHandler(2);}}return this;},getTimeDefinition:function(){return this._timeDefn;},setTimeOffset:function(_8e1,_8e2){this._timeOffset=_8e1;this._timeOffsetUnits=_8e2;var mode=this._mode;if(mode){mode.propertyChangeHandler(0);}return this;},setUseMapTime:function(use){this.useMapTime=use;this._toggleTime(!this.suspended);var mode=this._mode;if(mode){mode.propertyChangeHandler(0);}},selectFeatures:function(_8e3,_8e4,_8e5,_8e6){_8e4=_8e4||this.constructor.SELECTION_NEW;var _8e7=this._getShallowClone(_8e3),map=this._map,_8e8,dfd=esri._fixDfd(new dojo.Deferred(esri._dfdCanceller));_8e7.outFields=this._getOutFields();_8e7.returnGeometry=true;if(map){_8e7.outSpatialReference=new esri.SpatialReference(map.spatialReference.toJson());}if(!this._applyQueryFilters(_8e7)){_8e8={features:[]};this._selectHandler(_8e8,_8e4,_8e5,_8e6,dfd);return dfd;}var _8e9=this._canDoClientSideQuery(_8e7);if(_8e9){_8e8={features:this._doQuery(_8e7,_8e9)};this._selectHandler(_8e8,_8e4,_8e5,_8e6,dfd);return dfd;}else{if(this._collection){var err=new Error("FeatureLayer::selectFeatures - "+esri.bundle.layers.FeatureLayer.invalidParams);this._resolve([err],null,_8e6,dfd,true);return dfd;}var self=this;if(this._ts){_8e7._ts=(new Date()).getTime();}var temp=dfd._pendingDfd=this._task.execute(_8e7);temp.addCallbacks(function(_8ea){self._selectHandler(_8ea,_8e4,_8e5,_8e6,dfd);},function(err){self._resolve([err],null,_8e6,dfd,true);});return dfd;}},getSelectedFeatures:function(){var _8eb=this._selectedFeatures,_8ec=[],item;for(item in _8eb){if(_8eb.hasOwnProperty(item)){_8ec.push(_8eb[item]);}}return _8ec;},clearSelection:function(_8ed){var _8ee=this._selectedFeatures,mode=this._mode,item;for(item in _8ee){if(_8ee.hasOwnProperty(item)){this._unSelectFeatureIIf(item,mode);mode._removeFeatureIIf(item);}}this._selectedFeatures={};if(this._isSelOnly){mode._applyTimeFilter(true);}if(!_8ed){this.onSelectionClear();}return this;},setSelectionSymbol:function(_8ef){this._selectionSymbol=_8ef;if(_8ef){var _8f0=this._selectedFeatures,item;for(item in _8f0){if(_8f0.hasOwnProperty(item)){_8f0[item].setSymbol(_8ef);}}}return this;},getSelectionSymbol:function(){return this._selectionSymbol;},__msigns:[{n:"applyEdits",c:5,a:[{i:0},{i:1}],e:4,f:1}],applyEdits:function(adds,_8f1,_8f2,_8f3,_8f4,_8f5){var _8f6=_8f5.assembly,dfd=_8f5.dfd;this._applyNormalized(adds,_8f6&&_8f6[0]);this._applyNormalized(_8f1,_8f6&&_8f6[1]);this.onBeforeApplyEdits(adds,_8f1,_8f2);var i,_8f7={},_8f8=this.objectIdField,_8f9={f:"json"},_8fa=false;if(this._collection){var _8fb={};_8fb.addResults=adds?dojo.map(adds,function(){_8fa=true;return {objectId:this._nextId++,success:true};},this):null;_8fb.updateResults=_8f1?dojo.map(_8f1,function(_8fc){_8fa=true;var oid=_8fc.attributes[_8f8];_8f7[oid]=_8fc;return {objectId:oid,success:true};},this):null;_8fb.deleteResults=_8f2?dojo.map(_8f2,function(_8fd){_8fa=true;return {objectId:_8fd.attributes[_8f8],success:true};},this):null;if(_8fa){this._editHandler(_8fb,adds,_8f7,_8f3,_8f4,dfd);}return;}if(adds&&adds.length>0){_8f9.adds=this._convertFeaturesToJson(adds,0,1);_8fa=true;}if(_8f1&&_8f1.length>0){for(i=0;i<_8f1.length;i++){var _8fe=_8f1[i];_8f7[_8fe.attributes[_8f8]]=_8fe;}_8f9.updates=this._convertFeaturesToJson(_8f1,0,0,1);_8fa=true;}if(_8f2&&_8f2.length>0){var ids=[];for(i=0;i<_8f2.length;i++){ids.push(_8f2[i].attributes[_8f8]);}_8f9.deletes=ids.join(",");_8fa=true;}if(_8fa){var self=this;return esri.request({url:this._url.path+"/applyEdits",content:dojo.mixin(_8f9,this._url.query),callbackParamName:"callback",load:function(_8ff){self._editHandler(_8ff,adds,_8f7,_8f3,_8f4,dfd);},error:function(err){self._resolve([err],null,_8f4,dfd,true);}},{usePost:true});}},queryFeatures:function(_900,_901,_902){return this._query("execute","onQueryFeaturesComplete",_900,_901,_902);},queryRelatedFeatures:function(_903,_904,_905){return this._query("executeRelationshipQuery","onQueryRelatedFeaturesComplete",_903,_904,_905);},queryIds:function(_906,_907,_908){return this._query("executeForIds","onQueryIdsComplete",_906,_907,_908);},queryCount:function(_909,_90a,_90b){return this._query("executeForCount","onQueryCountComplete",_909,_90a,_90b);},queryAttachmentInfos:function(_90c,_90d,_90e){var url=this._url.path+"/"+_90c+"/attachments",dfd=new dojo.Deferred(esri._dfdCanceller),self=this;dfd._pendingDfd=esri.request({url:url,content:dojo.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:function(_90f){var _910=_90f.attachmentInfos,_911;dojo.forEach(_910,function(info){_911=dojo.objectToQuery({gdbVersion:self._url.query&&self._url.query.gdbVersion,layer:self._url.query&&self._url.query.layer,token:self._getToken()});info.url=url+"/"+info.id+(_911?("?"+_911):"");info.objectId=_90c;});self._resolve([_910],"onQueryAttachmentInfosComplete",_90d,dfd);},error:function(err){self._resolve([err],null,_90e,dfd,true);}});return dfd;},addAttachment:function(_912,_913,_914,_915){return this._sendAttachment("add",_912,_913,_914,_915);},updateAttachment:function(_916,_917,_918,_919,_91a){_918.appendChild(dojo.create("input",{type:"hidden",name:"attachmentId",value:_917}));return this._sendAttachment("update",_916,_918,_919,_91a);},deleteAttachments:function(_91b,_91c,_91d,_91e){var url=this._url.path+"/"+_91b+"/deleteAttachments",dfd=new dojo.Deferred(esri._dfdCanceller),self=this,_91f={f:"json",attachmentIds:_91c.join(",")};dfd._pendingDfd=esri.request({url:url,content:dojo.mixin(_91f,this._url.query),callbackParamName:"callback",load:dojo.hitch(this,function(_920){var _921=_920.deleteAttachmentResults;_921=dojo.map(_921,function(_922){var res=new esri.layers.FeatureEditResult(_922);res.attachmentId=res.objectId;res.objectId=_91b;return res;});self._resolve([_921],"onDeleteAttachmentsComplete",_91d,dfd);}),error:function(err){self._resolve([err],null,_91e,dfd,true);}},{usePost:true});return dfd;},addType:function(_923){var _924=this.types;if(_924){var _925=dojo.some(_924,function(type){if(type.id==_923.id){return true;}return false;});if(_925){return false;}else{_924.push(_923);}}else{this.types=[_923];}this._typesDirty=true;return true;},deleteType:function(_926){if(!this._collection){return;}var _927=this.types;if(_927){var _928=-1;dojo.some(_927,function(type,_929){if(type.id==_926){_928=_929;return true;}return false;});if(_928>-1){this._typesDirty=true;return _927.splice(_928,1)[0];}}},toJson:function(){var _92a=this._json,json=dojo.isString(_92a)?dojo.fromJson(_92a):dojo.clone(_92a);if(!json){return;}json=json.layerDefinition?json:{layerDefinition:json};var _92b=json.layerDefinition,_92c=this._collection;if(_92c&&this._typesDirty){_92b.types=dojo.map(this.types||[],function(type){return type.toJson();});var _92d=this.renderer,_92e=_92b.drawingInfo;if(_92e&&_92d&&_92d.declaredClass.indexOf("TemporalRenderer")===-1){_92e.renderer=_92d.toJson();}}var _92f=null;if(!(_92c&&!this._fcAdded)){_92f={geometryType:_92b.geometryType,features:this._convertFeaturesToJson(this.graphics,true)};}json.featureSet=dojo.mixin({},json.featureSet||{},_92f);if(_92c){json.nextObjectId=this._nextId;_92b.capabilities=this.capabilities;}return json;},onSelectionComplete:function(){},onSelectionClear:function(){},onBeforeApplyEdits:function(){},onEditsComplete:function(){},onQueryFeaturesComplete:function(){},onQueryRelatedFeaturesComplete:function(){},onQueryIdsComplete:function(){},onQueryCountComplete:function(){},onQueryAttachmentInfosComplete:function(){},onAddAttachmentComplete:function(){},onUpdateAttachmentComplete:function(){},onDeleteAttachmentsComplete:function(){},onCapabilitiesChange:function(){},onGDBVersionChange:function(){},onQueryLimitExceeded:function(){},_updateCaps:function(){var _930=this._editable,_931=dojo.trim(this.capabilities||""),_932=dojo.map((_931?_931.split(","):[]),dojo.trim),caps=dojo.map((_931?_931.toLowerCase().split(","):[]),dojo.trim),_933=dojo.indexOf(caps,"editing"),cap,i,_934,_935={"Create":dojo.indexOf(caps,"create"),"Update":dojo.indexOf(caps,"update"),"Delete":dojo.indexOf(caps,"delete")};if(_930&&_933===-1){_932.push("Editing");}else{if(!_930&&_933>-1){_934=[_933];for(cap in _935){if(_935[cap]>-1){_934.push(_935[cap]);}}_934.sort();for(i=_934.length-1;i>=0;i--){_932.splice(_934[i],1);}}}this.capabilities=_932.join(",");},_counter:{value:0},_getUniqueId:function(){return this._counter.value++;},onSuspend:function(){this.inherited(arguments);this._toggleTime(false);var mode=this._mode;if(mode){mode.suspend();}},onResume:function(){this.inherited(arguments);this._toggleTime(true);this._updateMaxOffset();var mode=this._mode;if(mode){mode.resume();}},_updateMaxOffset:function(){var map=this._map;if(map&&map.loaded){if(this._autoGeneralize){this._maxOffset=Math.floor(map.extent.getWidth()/map.width);}}},_toggleTime:function(_936){var map=this._map;if(_936&&this.timeInfo&&this.useMapTime&&map){this._mapTimeExtent=map.timeExtent;if(!this._timeConnect){this._timeConnect=dojo.connect(map,"onTimeExtentChange",this,this._timeChangeHandler);}}else{this._mapTimeExtent=null;dojo.disconnect(this._timeConnect);this._timeConnect=null;}},_timeChangeHandler:function(_937){this._mapTimeExtent=_937;var mode=this._mode;if(mode){mode.propertyChangeHandler(0);}},_getOffsettedTE:function(_938){var _939=this._timeOffset,_93a=this._timeOffsetUnits;return (_938&&_939&&_93a)?_938.offset(-1*_939,_93a):_938;},_getTimeOverlap:function(_93b,_93c){if(_93b&&_93c){return _93b.intersection(_93c);}else{return _93b||_93c;}},_getTimeFilter:function(_93d){var _93e=this.getTimeDefinition(),_93f=null,_940;if(_93e||_93f){_940=this._getTimeOverlap(_93e,_93f);if(!_940){return [false];}}if(_93d){_93d=_940?this._getTimeOverlap(_93d,_940):_93d;if(!_93d){return [false];}}else{_93d=_940;}return [true,_93d];},_getAttributeFilter:function(_941){var _942=this.getDefinitionExpression();if(_941){_941=_942?"("+_942+") AND ("+_941+")":_941;}else{_941=_942;}return _941;},_applyQueryFilters:function(_943){_943.where=this._getAttributeFilter(_943.where);_943.maxAllowableOffset=this._maxOffset;if(this.timeInfo){var _944=this._getTimeFilter(_943.timeExtent);if(!_944[0]){return false;}else{_943.timeExtent=_944[1];}}return true;},_add:function(_945){var _946=this._selectionSymbol,attr=_945.attributes,_947=this.visibilityField;if(_946&&this._isSelOnly){_945.setSymbol(_946);}if(_947&&attr&&attr.hasOwnProperty(_947)){_945[attr[_947]?"show":"hide"]();}return this.add.apply(this,arguments);},_remove:function(){return this.remove.apply(this,arguments);},_canDoClientSideQuery:function(_948){var _949=[],map=this._map;if(this._isTable||!map){return;}if(_948.text||(_948.where&&_948.where!==this.getDefinitionExpression())){return;}var _94a=this._isSnapshot,_94b=this._isSelOnly;var _94c=_948.geometry;if(_94c){if(!_94b&&_948.spatialRelationship===esri.tasks.Query.SPATIAL_REL_INTERSECTS&&(_94c.type==="extent"&&(_94a||map.extent.contains(_94c)))){_949.push(1);}else{return;}}var ids=_948.objectIds;if(ids){if(_94a){_949.push(2);}else{var len=ids.length,mode=this._mode,_94d=0,i;for(i=0;i<len;i++){if(mode._getFeature(ids[i])){_94d++;}}if(_94d===len){_949.push(2);}else{return;}}}if(this.timeInfo){var _94e=_948.timeExtent,_94f=this._mapTimeExtent;if(_94a){if(_94e){_949.push(3);}}else{if(_94b){if(_94e){return;}}else{if(_94f){if(dojo.indexOf(_949,2)!==-1){if(_94e){_949.push(3);}}else{return;}}else{if(_949.length>0){if(_94e){_949.push(3);}}else{if(_94e){return;}}}}}}return _949.length>0?_949:null;},_doQuery:function(_950,_951,_952){var _953=[],mode=this._mode,_954=this.objectIdField,i,len,_955;if(dojo.indexOf(_951,2)!==-1){_953=[];var ids=_950.objectIds;len=ids.length;for(i=0;i<len;i++){var obj=mode._getFeature(ids[i]);if(obj){_953.push(obj);}}if(_953.length===0){return [];}}if(dojo.indexOf(_951,1)!==-1){_955=_953.length>0?_953:this.graphics;len=_955.length;var _956=_950.geometry._normalize(null,true);_953=[];for(i=0;i<len;i++){var _957=_955[i],_958=_957.geometry;if(_958){if(this.normalization&&_956.length){if(_956[0].intersects(_958)||_956[1].intersects(_958)){_953.push(_957);}}else{if(_956.intersects(_958)){_953.push(_957);}}}}if(_953.length===0){return [];}}if(dojo.indexOf(_951,3)!==-1){if(this.timeInfo){_955=_953.length>0?_953:this.graphics;var time=_950.timeExtent,_959=this._filterByTime(_955,time.startTime,time.endTime);_953=_959.match;}}if(_952){return dojo.map(_953,function(obj){return obj.attributes[_954];},this);}else{return _953;}},_filterByTime:function(_95a,_95b,_95c){var _95d=this._startTimeField,_95e=this._endTimeField,_95f;if(!this._twoTimeFields){_95f=_95d||_95e;}var _960=esri._isDefined,yea=[],nay=[],i,len=_95a.length,_961,_962;_95b=_95b?_95b.getTime():-Infinity;_95c=_95c?_95c.getTime():Infinity;if(_95f){for(i=0;i<len;i++){_961=_95a[i];_962=_961.attributes;var time=_962[_95f];if(time>=_95b&&time<=_95c){yea.push(_961);}else{nay.push(_961);}}}else{for(i=0;i<len;i++){_961=_95a[i];_962=_961.attributes;var _963=_962[_95d],end=_962[_95e];_963=_960(_963)?_963:-Infinity;end=_960(end)?end:Infinity;if((_963>=_95b&&_963<=_95c)||(end>=_95b&&end<=_95c)||(_95b>=_963&&_95c<=end)){yea.push(_961);}else{nay.push(_961);}}}return {match:yea,noMatch:nay};},_resolve:function(args,_964,_965,dfd,_966){if(_964){this[_964].apply(this,args);}if(_965){_965.apply(null,args);}if(dfd){esri._resDfd(dfd,args,_966);}},_getShallowClone:function(_967){var _968=new esri.tasks.Query(),prop;for(prop in _967){if(_967.hasOwnProperty(prop)){_968[prop]=_967[prop];}}return _968;},_query:function(type,_969,_96a,_96b,_96c){var that=this,dfd=new dojo.Deferred(esri._dfdCanceller);var _96d=function(_96e,_96f){if(!_96f&&type==="execute"&&!that._isTable){var _970=_96e.features,mode=that._mode,_971=that.objectIdField,il=_970.length,i;for(i=il-1;i>=0;i--){var oid=_970[i].attributes[_971];var _972=mode._getFeature(oid);if(_972){_970.splice(i,1,_972);}}}that._resolve([_96e],_969,_96b,dfd);};if(type!=="executeRelationshipQuery"){_96a=this._getShallowClone(_96a);_96a.outFields=this._getOutFields();_96a.returnGeometry=true;var map=this._map,_973;if(map){_96a.outSpatialReference=new esri.SpatialReference(map.spatialReference.toJson());}if(!this._applyQueryFilters(_96a)){switch(type){case "execute":_973=new esri.tasks.FeatureSet({features:[]});break;case "executeForIds":_973=[];break;case "executeForCount":_973=0;break;}_96d(_973,true);return dfd;}var _974=this._canDoClientSideQuery(_96a);if(_974){var _975=this._doQuery(_96a,_974,(type==="executeForIds"||type==="executeForCount"));switch(type){case "execute":_973=new esri.tasks.FeatureSet();_973.features=_975;break;case "executeForIds":_973=_975;break;case "executeForCount":_973=_975.length;break;}_96d(_973,true);return dfd;}}if(this._collection){var err=new Error("FeatureLayer::_query - "+esri.bundle.layers.FeatureLayer.invalidParams);this._resolve([err],null,_96c,dfd,true);return dfd;}if(this._ts){_96a._ts=(new Date()).getTime();}var temp=dfd._pendingDfd=this._task[type](_96a);temp.addCallbacks(_96d,function(err){that._resolve([err],null,_96c,dfd,true);});return dfd;},_convertFeaturesToJson:function(_976,_977,_978,_979){var json=[],_97a=this._selectionSymbol,_97b=this.visibilityField,i,_97c,_97d=this.objectIdField;if(this.loaded&&(_978||_979)){_97c=dojo.filter(this.fields,function(_97e){return (_97e.editable===false)&&(!_979||(_97e.name!==_97d));});}for(i=0;i<_976.length;i++){var _97f=_976[i],_980={},_981=_97f.geometry,attr=_97f.attributes,_982=_97f.symbol;if(_981&&(!_979||!this.loaded||this.allowGeometryUpdates)){_980.geometry=_981.toJson();}if(_97b){_980.attributes=attr=dojo.mixin({},attr);attr[_97b]=_97f.visible?1:0;}else{if(attr){_980.attributes=dojo.mixin({},attr);}}if(_980.attributes&&_97c&&_97c.length){dojo.forEach(_97c,function(_983){delete _980.attributes[_983.name];});}if(_982&&(_982!==_97a)){_980.symbol=_982.toJson();}json.push(_980);}return _977?json:dojo.toJson(json);},_selectHandler:function(_984,_985,_986,_987,dfd){var _988,ctor=this.constructor;switch(_985){case ctor.SELECTION_NEW:this.clearSelection(true);_988=true;break;case ctor.SELECTION_ADD:_988=true;break;case ctor.SELECTION_SUBTRACT:_988=false;break;}var i,_989=_984.features,mode=this._mode,_98a=[],_98b=this.objectIdField,_98c,oid;if(_988){for(i=0;i<_989.length;i++){_98c=_989[i];oid=_98c.attributes[_98b];var _98d=mode._addFeatureIIf(oid,_98c);_98a.push(_98d);this._selectFeatureIIf(oid,_98d,mode);}}else{for(i=0;i<_989.length;i++){_98c=_989[i];oid=_98c.attributes[_98b];this._unSelectFeatureIIf(oid,mode);var _98e=mode._removeFeatureIIf(oid);_98a.push(_98e||_98c);}}if(this._isSelOnly){mode._applyTimeFilter(true);}this._resolve([_98a,_985,_984.exceededTransferLimit?{queryLimitExceeded:true}:null],"onSelectionComplete",_986,dfd);if(_984.exceededTransferLimit){this.onQueryLimitExceeded();}},_selectFeatureIIf:function(oid,_98f,mode){var _990=this._selectedFeatures,_991=_990[oid];if(!_991){mode._incRefCount(oid);_990[oid]=_98f;if(!this._isTable){this._setSelectSymbol(_98f);}}return _991||_98f;},_unSelectFeatureIIf:function(oid,mode){var _992=this._selectedFeatures[oid];if(_992){mode._decRefCount(oid);delete this._selectedFeatures[oid];if(!this._isTable){this._setUnSelectSymbol(_992);}}return _992;},_isSelected:function(_993){},_setSelectSymbol:function(_994){var _995=this._selectionSymbol;if(_995&&!this._isSelOnly){_994.setSymbol(_995);}},_setUnSelectSymbol:function(_996){var _997=this._selectionSymbol;if(_997&&!this._isSelOnly){if(_997===_996.symbol){_996.setSymbol(null,true);}}},_getOutFields:function(){var _998=dojo.filter([this.objectIdField,this.typeIdField,this.creatorField,this._startTimeField,this._endTimeField,this._trackIdField].concat(this._rendererFields),function(_999,_99a,arr){return !!_999&&(dojo.indexOf(arr,_999)===_99a);});var _99b=dojo.clone(this._outFields);if(_99b){if(dojo.indexOf(_99b,"*")!==-1){return _99b;}dojo.forEach(_998,function(_99c){if(dojo.indexOf(_99b,_99c)===-1){_99b.push(_99c);}});return _99b;}else{return _998;}},_checkFields:function(_99d){var _99e=_99d||this._getOutFields();dojo.forEach(_99e,function(_99f){if(_99f==="*"){return;}if(!this._getField(_99f)){console.debug("esri.layers.FeatureLayer: "+esri.substitute({url:this.url,field:_99f},esri.bundle.layers.FeatureLayer.fieldNotFound));}},this);if(!_99d&&!this._isTable&&!this._fserver&&!this._collection){var _9a0=dojo.some(this.fields,function(_9a1){return (_9a1&&_9a1.type==="esriFieldTypeGeometry")?true:false;});if(!_9a0){console.debug("esri.layers.FeatureLayer: "+esri.substitute({url:this.url},esri.bundle.layers.FeatureLayer.noGeometryField));}}},_fixRendererFields:function(){var _9a2=this.renderer;if(_9a2&&this.fields.length>0){var _9a3=dojo.filter([_9a2,_9a2.observationRenderer,_9a2.latestObservationRenderer,_9a2.trackRenderer],esri._isDefined);var _9a4=[];dojo.forEach(_9a3,function(rnd){var _9a5,_9a6;_9a6=rnd.attributeField;if(_9a6){_9a5=!this._getField(_9a6)&&this._getField(_9a6,true);if(_9a5){rnd.attributeField=_9a5.name;}}_9a6=rnd.attributeField2;if(_9a6){_9a5=!this._getField(_9a6)&&this._getField(_9a6,true);if(_9a5){rnd.attributeField2=_9a5.name;}}_9a6=rnd.attributeField3;if(_9a6){_9a5=!this._getField(_9a6)&&this._getField(_9a6,true);if(_9a5){rnd.attributeField3=_9a5.name;}}_9a4.push(rnd.attributeField);_9a4.push(rnd.attributeField2);_9a4.push(rnd.attributeField3);},this);this._rendererFields=dojo.filter(_9a4,esri._isDefined);}},_getField:function(_9a7,_9a8){var _9a9=this.fields;if(_9a9.length===0){return null;}var _9aa;if(_9a8){_9a7=_9a7.toLowerCase();}dojo.some(_9a9,function(_9ab){var _9ac=false;if(_9a8){_9ac=(_9ab&&_9ab.name.toLowerCase()===_9a7)?true:false;}else{_9ac=(_9ab&&_9ab.name===_9a7)?true:false;}if(_9ac){_9aa=_9ab;}return _9ac;});return _9aa;},_getDateOpts:function(){if(!this._dtOpts){var _9ad=dojo.map(dojo.filter(this.fields,function(_9ae){return !!(_9ae&&_9ae.type==="esriFieldTypeDate");}),function(_9af){return _9af.name;});this._dtOpts={properties:_9ad};}return this._dtOpts;},_applyNormalized:function(_9b0,_9b1){if(_9b0&&_9b1){dojo.forEach(_9b0,function(_9b2,_9b3){if(_9b2&&_9b1[_9b3]){_9b2.setGeometry(_9b1[_9b3]);}});}},_editHandler:function(_9b4,adds,_9b5,_9b6,_9b7,dfd){var _9b8=_9b4.addResults,_9b9=_9b4.updateResults,_9ba=_9b4.deleteResults,i,_9bb,oid,_9bc,attr,_9bd=this.objectIdField,mode=this._mode,_9be=this._isTable;var _9bf=this.editFieldsInfo,_9c0=this._getOutFields()||[],_9c1=_9bf&&_9bf.creatorField,_9c2=_9bf&&_9bf.creationDateField,_9c3=_9bf&&_9bf.editorField,_9c4=_9bf&&_9bf.editDateField,_9c5=_9bf&&_9bf.realm;if(dojo.indexOf(_9c0,"*")===-1){if(_9c1&&dojo.indexOf(_9c0,_9c1)===-1){_9c1=null;}if(_9c2&&dojo.indexOf(_9c0,_9c2)===-1){_9c2=null;}if(_9c3&&dojo.indexOf(_9c0,_9c3)===-1){_9c3=null;}if(_9c4&&dojo.indexOf(_9c0,_9c4)===-1){_9c4=null;}}var _9c6=(_9c2||_9c4)?(new Date()).getTime():null,_9c7=(_9c1||_9c3)?this.getUserId():undefined;if(_9c7&&_9c5){_9c7=_9c7+"@"+_9c5;}if(_9b8){for(i=0;i<_9b8.length;i++){_9b8[i]=new esri.layers.FeatureEditResult(_9b8[i]);if(_9be){continue;}_9bb=_9b8[i];if(_9bb.success){oid=_9bb.objectId;_9bc=adds[i];var gl=_9bc._graphicsLayer;if(gl&&gl!==this){gl.remove(_9bc);}attr=_9bc.attributes||{};attr[_9bd]=oid;if(_9c1){attr[_9c1]=_9c7;}if(_9c3){attr[_9c3]=_9c7;}if(_9c2){attr[_9c2]=_9c6;}if(_9c4){attr[_9c4]=_9c6;}_9bc.setAttributes(attr);if(mode._init){mode.drawFeature(_9bc);}}}}if(_9b9){for(i=0;i<_9b9.length;i++){_9b9[i]=new esri.layers.FeatureEditResult(_9b9[i]);if(_9be){continue;}_9bb=_9b9[i];if(_9bb.success){oid=_9bb.objectId;_9bc=_9b5[oid];var _9c8=mode._getFeature(oid);if(_9c8){if(_9c8.geometry!==_9bc.geometry){_9c8.setGeometry(esri.geometry.fromJson(_9bc.geometry.toJson()));}this._repaint(_9c8,oid);}_9bc=_9c8||_9bc;attr=_9bc.attributes||{};if(_9c3){attr[_9c3]=_9c7;}if(_9c4){attr[_9c4]=_9c6;}_9bc.setAttributes(attr);}}}if(_9ba){var _9c9=[];for(i=0;i<_9ba.length;i++){_9ba[i]=new esri.layers.FeatureEditResult(_9ba[i]);if(_9be){continue;}_9bb=_9ba[i];if(_9bb.success){oid=_9bb.objectId;_9bc=mode._getFeature(oid);if(_9bc){if(this._unSelectFeatureIIf(oid,mode)){_9c9.push(_9bc);}_9bc._count=0;mode._removeFeatureIIf(oid);}}}if(_9c9.length>0){this.onSelectionComplete(_9c9,this.constructor.SELECTION_SUBTRACT);}}this._resolve([_9b8,_9b9,_9ba],"onEditsComplete",_9b6,dfd);},_sendAttachment:function(type,_9ca,_9cb,_9cc,_9cd){var _9ce=(type==="add")?"addAttachment":"updateAttachment",url=this._url.path+"/"+_9ca+"/"+_9ce,self=this;var dfd=esri.request({url:url,form:_9cb,content:dojo.mixin(this._url.query,{f:"json",token:this._getToken()||undefined}),callbackParamName:"callback.html",handleAs:"json"}).addCallback(function(_9cf){var _9d0=(type==="add")?"addAttachmentResult":"updateAttachmentResult",_9d1=(type==="add")?"onAddAttachmentComplete":"onUpdateAttachmentComplete",_9d2=new esri.layers.FeatureEditResult(_9cf[_9d0]);_9d2.attachmentId=_9d2.objectId;_9d2.objectId=_9ca;self._resolve([_9d2],_9d1,_9cc);return _9d2;}).addErrback(function(_9d3){self._resolve([_9d3],null,_9cd,null,true);});return dfd;},_repaint:function(_9d4,oid,_9d5){oid=esri._isDefined(oid)?oid:_9d4.attributes[this.objectIdField];if(!(oid in this._selectedFeatures)||!this._selectionSymbol){_9d4.setSymbol(_9d4.symbol,_9d5);}},_getKind:function(_9d6){var _9d7=this._trackManager;if(_9d7){return _9d7.isLatestObservation(_9d6)?1:0;}return 0;}});dojo.mixin(esri.layers.FeatureLayer,{MODE_SNAPSHOT:0,MODE_ONDEMAND:1,MODE_SELECTION:2,SELECTION_NEW:3,SELECTION_ADD:4,SELECTION_SUBTRACT:5,POPUP_NONE:"esriServerHTMLPopupTypeNone",POPUP_HTML_TEXT:"esriServerHTMLPopupTypeAsHTMLText",POPUP_URL:"esriServerHTMLPopupTypeAsURL"});esri._createWrappers("esri.layers.FeatureLayer");dojo.declare("esri.layers.FeatureType",null,{constructor:function(json){if(json&&dojo.isObject(json)){this.id=json.id;this.name=json.name;var _9d8=json.symbol;if(_9d8){this.symbol=esri.symbol.fromJson(_9d8);}var _9d9=json.domains,_9da,i;var _9db=this.domains={};for(_9da in _9d9){if(_9d9.hasOwnProperty(_9da)){var _9dc=_9d9[_9da];switch(_9dc.type){case "range":_9db[_9da]=new esri.layers.RangeDomain(_9dc);break;case "codedValue":_9db[_9da]=new esri.layers.CodedValueDomain(_9dc);break;case "inherited":_9db[_9da]=new esri.layers.InheritedDomain(_9dc);break;}}}var _9dd=json.templates;if(_9dd){var _9de=this.templates=[];for(i=0;i<_9dd.length;i++){_9de.push(new esri.layers.FeatureTemplate(_9dd[i]));}}}},toJson:function(){var json={id:this.id,name:this.name,symbol:this.symbol&&this.symbol.toJson()};var _9df,_9e0=this.domains,_9e1=this.templates,_9e2=esri._sanitize;if(_9e0){var _9e3=json.domains={};for(_9df in _9e0){if(_9e0.hasOwnProperty(_9df)){_9e3[_9df]=_9e0[_9df]&&_9e0[_9df].toJson();}}_9e2(_9e3);}if(_9e1){json.templates=dojo.map(_9e1,function(_9e4){return _9e4.toJson();});}return _9e2(json);}});dojo.declare("esri.layers.FeatureTemplate",null,{constructor:function(json){if(json&&dojo.isObject(json)){this.name=json.name;this.description=json.description;this.drawingTool=json.drawingTool;var _9e5=json.prototype;this.prototype=new esri.Graphic(_9e5.geometry,null,_9e5.attributes);}},toJson:function(){return esri._sanitize({name:this.name,description:this.description,drawingTool:this.drawingTool,prototype:this.prototype&&this.prototype.toJson()});}});dojo.mixin(esri.layers.FeatureTemplate,{TOOL_AUTO_COMPLETE_POLYGON:"esriFeatureEditToolAutoCompletePolygon",TOOL_CIRCLE:"esriFeatureEditToolCircle",TOOL_ELLIPSE:"esriFeatureEditToolEllipse",TOOL_FREEHAND:"esriFeatureEditToolFreehand",TOOL_LINE:"esriFeatureEditToolLine",TOOL_NONE:"esriFeatureEditToolNone",TOOL_POINT:"esriFeatureEditToolPoint",TOOL_POLYGON:"esriFeatureEditToolPolygon",TOOL_RECTANGLE:"esriFeatureEditToolRectangle",TOOL_ARROW:"esriFeatureEditToolArrow",TOOL_TRIANGLE:"esriFeatureEditToolTriangle",TOOL_LEFT_ARROW:"esriFeatureEditToolLeftArrow",TOOL_RIGHT_ARROW:"esriFeatureEditToolRightArrow",TOOL_UP_ARROW:"esriFeatureEditToolUpArrow",TOOL_DOWN_ARROW:"esriFeatureEditToolDownArrow"});dojo.declare("esri.layers.FeatureEditResult",null,{constructor:function(json){if(json&&dojo.isObject(json)){this.objectId=json.objectId;this.success=json.success;if(!json.success){var err=json.error;this.error=new Error();this.error.code=err.code;this.error.message=err.description;}}}});dojo.declare("esri.layers._RenderMode",null,{constructor:function(){this._prefix="jsonp_"+(dojo._scopeName||"dojo")+"IoScript";},initialize:function(map){},propertyChangeHandler:function(type){},destroy:function(){},drawFeature:function(_9e6){},suspend:function(){},resume:function(){},refresh:function(){},_incRefCount:function(oid){var _9e7=this._featureMap[oid];if(_9e7){_9e7._count++;}},_decRefCount:function(oid){var _9e8=this._featureMap[oid];if(_9e8){_9e8._count--;}},_getFeature:function(oid){return this._featureMap[oid];},_addFeatureIIf:function(oid,_9e9){var fmap=this._featureMap,_9ea=fmap[oid],_9eb=this.featureLayer;if(!_9ea){fmap[oid]=_9e9;_9eb._add(_9e9);_9e9._count=0;}return _9ea||_9e9;},_removeFeatureIIf:function(oid){var _9ec=this._featureMap[oid],_9ed=this.featureLayer;if(_9ec){if(_9ec._count){return;}delete this._featureMap[oid];_9ed._remove(_9ec);}return _9ec;},_clearIIf:function(){var i,_9ee=this.featureLayer,_9ef=_9ee.graphics,_9f0=_9ee._selectedFeatures,_9f1=_9ee.objectIdField;for(i=_9ef.length-1;i>=0;i--){var _9f2=_9ef[i];var oid=_9f2.attributes[_9f1];if(oid in _9f0){_9f2._count=1;continue;}_9f2._count=0;this._removeFeatureIIf(oid);}},_isPending:function(id){var dfd=dojo.io.script[this._prefix+id];return dfd?true:false;},_cancelPendingRequest:function(dfd,id){dfd=dfd||dojo.io.script[this._prefix+id];if(dfd){try{dfd.cancel();dojo.io.script._validCheck(dfd);}catch(e){}}},_purgeRequests:function(){dojo.io.script._validCheck(null);},_toggleVisibility:function(show){var _9f3=this.featureLayer,_9f4=_9f3.graphics,_9f5=show?"show":"hide",i,len=_9f4.length;show=show&&_9f3._ager;for(i=0;i<len;i++){var _9f6=_9f4[i];_9f6[_9f5]();if(show){_9f3._repaint(_9f6);}}},_applyTimeFilter:function(_9f7){var _9f8=this.featureLayer;if(!_9f8.timeInfo||_9f8.suspended){return;}if(!_9f7){_9f8._fireUpdateStart();}var _9f9=_9f8._trackManager;if(_9f9){_9f9.clearTracks();}var defn=_9f8.getTimeDefinition(),_9fa=_9f8._getOffsettedTE(_9f8._mapTimeExtent);if(_9fa){_9fa=_9f8._getTimeOverlap(defn,_9fa);if(_9fa){var _9fb=_9f8._filterByTime(_9f8.graphics,_9fa.startTime,_9fa.endTime);if(_9f9){_9f9.addFeatures(_9fb.match);}dojo.forEach(_9fb.match,function(_9fc){var _9fd=_9fc._shape;if(!_9fc.visible){_9fc.show();_9fd=_9fc._shape;_9fd&&_9fd._moveToFront();}if(_9f8._ager&&_9fd){_9f8._repaint(_9fc);}});dojo.forEach(_9fb.noMatch,function(_9fe){if(_9fe.visible){_9fe.hide();}});}else{this._toggleVisibility(false);}}else{if(_9f9){_9f9.addFeatures(_9f8.graphics);}this._toggleVisibility(true);}if(_9f9){_9f9.moveLatestToFront();_9f9.drawTracks();}if(!_9f7){_9f8._fireUpdateEnd();}}});dojo.declare("esri.layers._SelectionMode",[esri.layers._RenderMode],{constructor:function(_9ff){this.featureLayer=_9ff;this._featureMap={};},initialize:function(map){this.map=map;this._init=true;},propertyChangeHandler:function(type){if(this._init&&type===0){this._applyTimeFilter();}},destroy:function(){this._init=false;},resume:function(){this.propertyChangeHandler(0);}});dojo.declare("esri.layers._SnapshotMode",[esri.layers._RenderMode],{constructor:function(_a00){this.featureLayer=_a00;this._featureMap={};this._drawFeatures=dojo.hitch(this,this._drawFeatures);this._queryErrorHandler=dojo.hitch(this,this._queryErrorHandler);},initialize:function(map){this.map=map;var _a01=this.featureLayer;if(_a01._collection){this._applyTimeFilter();}else{this._fetchAll();}this._init=true;},propertyChangeHandler:function(type){if(this._init){if(type){this._fetchAll();}else{this._applyTimeFilter();}}},destroy:function(){this._init=false;},drawFeature:function(_a02){var _a03=this.featureLayer,_a04=_a03.objectIdField,oid=_a02.attributes[_a04];this._addFeatureIIf(oid,_a02);this._incRefCount(oid);},resume:function(){this.propertyChangeHandler(0);},refresh:function(){var _a05=this.featureLayer;if(_a05._collection){_a05._fireUpdateStart();_a05._refresh(true);_a05._fireUpdateEnd();}else{this._fetchAll();}},_getRequestId:function(_a06){var id="_"+_a06.name+_a06.layerId+_a06._ulid;return id.replace(/[^a-zA-Z0-9\_]+/g,"_");},_fetchAll:function(){var _a07=this.featureLayer;if(_a07._collection){return;}_a07._fireUpdateStart();this._clearIIf();this._sendRequest();},_sendRequest:function(){var map=this.map,_a08=this.featureLayer,_a09=_a08.getDefinitionExpression();var _a0a=new esri.tasks.Query();_a0a.outFields=_a08._getOutFields();_a0a.where=_a09||"1=1";_a0a.returnGeometry=true;_a0a.outSpatialReference=new esri.SpatialReference(map.spatialReference.toJson());_a0a.timeExtent=_a08.getTimeDefinition();_a0a.maxAllowableOffset=_a08._maxOffset;if(_a08._ts){_a0a._ts=(new Date()).getTime();}var _a0b;if(_a08._usePatch){_a0b=this._getRequestId(_a08);this._cancelPendingRequest(null,_a0b);}_a08._task.execute(_a0a,this._drawFeatures,this._queryErrorHandler,_a0b);},_drawFeatures:function(_a0c){this._purgeRequests();var _a0d=_a0c.features,_a0e=this.featureLayer,_a0f=_a0e.objectIdField,i,len=_a0d.length,_a10,oid;for(i=0;i<len;i++){_a10=_a0d[i];oid=_a10.attributes[_a0f];this._addFeatureIIf(oid,_a10);this._incRefCount(oid);}this._applyTimeFilter(true);_a0e._fireUpdateEnd(null,_a0c.exceededTransferLimit?{queryLimitExceeded:true}:null);if(_a0c.exceededTransferLimit){_a0e.onQueryLimitExceeded();}},_queryErrorHandler:function(err){this._purgeRequests();var _a11=this.featureLayer;_a11._errorHandler(err);_a11._fireUpdateEnd(err);}});dojo.declare("esri.layers._OnDemandMode",[esri.layers._RenderMode],{constructor:function(_a12){this.featureLayer=_a12;this._featureMap={};this._queryErrorHandler=dojo.hitch(this,this._queryErrorHandler);},initialize:function(map){this.map=map;this._initialize();this._init=true;},propertyChangeHandler:function(type){if(this._init){if(type<2){this._zoomHandler();}}},destroy:function(){this._disableConnectors();this._init=false;},drawFeature:function(_a13){var _a14=this._gridLayer,geom=_a13.geometry,_a15=[];if(!geom){return;}_a15=_a14.getCellsInExtent((geom.type==="point")?{xmin:geom.x,ymin:geom.y,xmax:geom.x,ymax:geom.y}:geom.getExtent(),false).cells;var _a16=this._cellMap,i,cell,oid=_a13.attributes[this.featureLayer.objectIdField],_a17,row,col;for(i=0;i<_a15.length;i++){cell=_a15[i];_a17=cell.latticeID;row=cell.row;col=cell.col;if(_a17){cell=(_a16[_a17]=(_a16[_a17]||cell));}else{_a16[row]=_a16[row]||{};cell=(_a16[row][col]=(_a16[row][col]||cell));}cell.features=cell.features||[];cell.features.push(_a13);this._addFeatureIIf(oid,_a13);this._incRefCount(oid);}},suspend:function(){if(!this._init){return;}this._disableConnectors();},resume:function(){if(!this._init){return;}this._enableConnectors();this._zoomHandler();},refresh:function(){this._zoomHandler();},_initialize:function(){var map=this.map,_a18=this.featureLayer;var _a19=_a18._srInfo;this._gridLayer=new esri.layers._GridLayout(new esri.geometry.Point(_a19?_a19.valid[0]:map.extent.xmin,map.extent.ymax,map.spatialReference),{width:_a18._tileWidth,height:_a18._tileHeight},{width:map.width,height:map.height},_a19);this._ioQueue=[];if(!_a18.suspended){this._zoomHandler();this._enableConnectors();}},_enableConnectors:function(){var map=this.map;this._zoomConnect=dojo.connect(map,"onZoomEnd",this,this._zoomHandler);this._panConnect=dojo.connect(map,"onPanEnd",this,this._panHandler);this._resizeConnect=dojo.connect(map,"onResize",this,this._panHandler);},_disableConnectors:function(){dojo.disconnect(this._zoomConnect);dojo.disconnect(this._panConnect);dojo.disconnect(this._resizeConnect);},_zoomHandler:function(){this._processIOQueue(true);var _a1a=this.featureLayer,map=this.map;if(_a1a.suspended){return;}_a1a._fireUpdateStart();this._clearIIf();var _a1b=_a1a._trackManager;if(_a1b){_a1b.clearTracks();}this._cellMap={};this._gridLayer.setResolution(map.extent);this._sendRequest();},_panHandler:function(){this.featureLayer._fireUpdateStart();this._sendRequest(this.featureLayer._resized&&arguments[0]);},_getRequestId:function(_a1c,cell){var id="_"+_a1c.name+_a1c.layerId+_a1c._ulid+"_"+cell.resolution+"_"+(cell.latticeID||(cell.row+"_"+cell.col));return id.replace(/[^a-zA-Z0-9\_]+/g,"_");},_sendRequest:function(_a1d){this._exceeds=false;var _a1e=this.featureLayer,map=this.map,_a1f=_a1d||map.extent,_a20=this._gridLayer.getCellsInExtent(_a1f,_a1e.latticeTiling),_a21=_a20.cells;if(!_a1e.isEditable()){var _a22=this._cellMap;_a21=dojo.filter(_a21,function(cell){if(cell.lattice){if(_a22[cell.latticeID]){return false;}}else{if(_a22[cell.row]&&_a22[cell.row][cell.col]){return false;}}return true;});}var _a23=_a1e._getOutFields(),_a24=_a1e.getDefinitionExpression(),time=_a1e._getOffsettedTE(_a1e._mapTimeExtent),_a25=_a1e._usePatch,_a26=this._ioQueue,i,self=this,func=this._drawFeatures,cell,_a27,_a28;this._pending=this._pending||0;for(i=0;i<_a21.length;i++){cell=_a21[i];_a27=new esri.tasks.Query();_a27.geometry=cell.extent||cell.lattice;_a27.outFields=_a23;_a27.where=_a24;if(_a1e.latticeTiling&&cell.extent){_a27.spatialRelationship=esri.tasks.Query.SPATIAL_REL_CONTAINS;}_a27.returnGeometry=true;_a27.timeExtent=time;_a27.maxAllowableOffset=_a1e._maxOffset;if(_a1e._ts){_a27._ts=(new Date()).getTime();}_a28=null;if(_a25){_a28=this._getRequestId(_a1e,cell);if(this._isPending(_a28)){continue;}}this._pending++;_a26.push(_a1e._task.execute(_a27,function(){var _a29=cell;return function(_a2a){func.apply(self,[_a2a,_a29]);};}.call(this),this._queryErrorHandler,_a28));}this._removeOldCells(_a1f);this._endCheck();},_drawFeatures:function(_a2b,cell){this._exceeds=this._exceeds||_a2b.exceededTransferLimit;this._finalizeIO();var _a2c=this.featureLayer,map=this.map,_a2d=map.extent,_a2e=cell.extent,row=cell.row,col=cell.col,_a2f=_a2c.objectIdField,_a30=_a2b.features,_a31=this._gridLayer,_a32=this._cellMap,i,len,_a33=cell.latticeID,_a34=_a33?_a32[_a33]:(_a32[row]&&_a32[row][col]);if((cell.resolution!=_a31._resolution)||(_a33?(_a33!==_a31.getLatticeID(_a2d)):(!_a31.intersects(_a2e,_a2d)))){if(_a34){this._removeCell(row,col,_a33);}}else{if(_a34){this._updateCell(_a34,_a30);}else{cell.features=_a30;if(_a33){_a32[_a33]=cell;}else{_a32[row]=_a32[row]||{};_a32[row][col]=cell;}len=_a30.length;for(i=0;i<len;i++){var _a35=_a30[i];var oid=_a35.attributes[_a2f];this._addFeatureIIf(oid,_a35);this._incRefCount(oid);}}}this._endCheck();},_queryErrorHandler:function(err){this._finalizeIO();this.featureLayer._errorHandler(err);this._endCheck(true);},_finalizeIO:function(){this._purgeRequests();this._pending--;},_endCheck:function(_a36){if(this._pending===0){this._processIOQueue();var _a37=this.featureLayer,_a38=_a37._trackManager;if(_a38){_a38.clearTracks();_a38.addFeatures(_a37.graphics);if(_a37._ager){dojo.forEach(_a37.graphics,function(_a39){if(_a39._shape){_a37._repaint(_a39);}});}_a38.moveLatestToFront();_a38.drawTracks();}this.featureLayer._fireUpdateEnd(_a36&&new Error("FeatureLayer: "+esri.bundle.layers.FeatureLayer.updateError),this._exceeds?{queryLimitExceeded:true}:null);if(this._exceeds){_a37.onQueryLimitExceeded();}}},_processIOQueue:function(_a3a){this._ioQueue=dojo.filter(this._ioQueue,function(dfd){var keep=dfd.fired>-1?false:true;return keep;});if(_a3a){dojo.forEach(this._ioQueue,this._cancelPendingRequest);}},_removeOldCells:function(_a3b){var _a3c=this._cellMap,_a3d=this._gridLayer,_a3e,_a3f;for(_a3e in _a3c){if(_a3c[_a3e]){var row=_a3c[_a3e],_a40=row.latticeID,_a41=0,_a42=0;if(_a40){_a41++;if(_a40!==_a3d.getLatticeID(_a3b)){this._removeCell(null,null,_a40);_a42++;}}else{for(_a3f in row){if(row[_a3f]){_a41++;var _a43=row[_a3f].extent;if(!_a3d.intersects(_a43,_a3b)){this._removeCell(_a3e,_a3f);_a42++;}}}}if(_a42===_a41){delete _a3c[_a3e];}}}},_updateCell:function(cell,_a44){var _a45=this.featureLayer,_a46=_a45.objectIdField,_a47=_a45._selectedFeatures,i,len=_a44.length;cell.features=cell.features||[];for(i=0;i<len;i++){var _a48=_a44[i];var oid=_a48.attributes[_a46];var _a49=this._addFeatureIIf(oid,_a48);if(_a49===_a48){this._incRefCount(oid);cell.features.push(_a49);}else{if(!(oid in _a47)){_a49.setGeometry(_a48.geometry);_a49.setAttributes(_a48.attributes);}}}},_removeCell:function(row,col,_a4a){var _a4b=this._cellMap,_a4c=this.featureLayer,_a4d=_a4c.objectIdField;var cell=_a4a?_a4b[_a4a]:(_a4b[row]&&_a4b[row][col]);if(cell){if(_a4a){delete _a4b[_a4a];}else{delete _a4b[row][col];}var _a4e=cell.features,i;for(i=0;i<_a4e.length;i++){var _a4f=_a4e[i];var oid=_a4f.attributes[_a4d];this._decRefCount(oid);if(oid in _a4c._selectedFeatures){continue;}this._removeFeatureIIf(oid);}}}});dojo.declare("esri.layers._GridLayout",null,{constructor:function(_a50,_a51,_a52,_a53){this.origin=_a50;this.cellWidth=_a51.width;this.cellHeight=_a51.height;this.mapWidth=_a52.width;this.mapHeight=_a52.height;this.srInfo=_a53;},setResolution:function(_a54){this._resolution=(_a54.xmax-_a54.xmin)/this.mapWidth;if(this.srInfo){var _a55=Math.round((2*this.srInfo.valid[1])/this._resolution),_a56=Math.round(_a55/this.cellWidth);this._frameStats=[_a56,0,_a56-1];}},getCellCoordinates:function(_a57){var res=this._resolution,_a58=this.origin;return {row:Math.floor((_a58.y-_a57.y)/(this.cellHeight*res)),col:Math.floor((_a57.x-_a58.x)/(this.cellWidth*res))};},normalize:function(col){var _a59=this._frameStats;if(_a59){var _a5a=_a59[0],m180=_a59[1],p180=_a59[2];if(col<m180){col=col%_a5a;col=col<m180?col+_a5a:col;}else{if(col>p180){col=col%_a5a;}}}return col;},intersects:function(_a5b,_a5c){var _a5d=this.srInfo;if(_a5d){return dojo.some(_a5c._getParts(_a5d),function(_a5e){return _a5b.intersects(_a5e.extent);});}else{return _a5b.intersects(_a5c);}},getCellExtent:function(row,col){var res=this._resolution,_a5f=this.origin,_a60=this.cellWidth,_a61=this.cellHeight;return new esri.geometry.Extent((col*_a60*res)+_a5f.x,_a5f.y-((row+1)*_a61*res),((col+1)*_a60*res)+_a5f.x,_a5f.y-(row*_a61*res),new esri.SpatialReference(_a5f.spatialReference.toJson()));},getLatticeID:function(_a62){var _a63=this.getCellCoordinates({x:_a62.xmin,y:_a62.ymax}),_a64=this.getCellCoordinates({x:_a62.xmax,y:_a62.ymin}),_a65=_a63.row,_a66=_a64.row,_a67=this.normalize(_a63.col),_a68=this.normalize(_a64.col);return _a65+"_"+_a66+"_"+_a67+"_"+_a68;},sorter:function(a,b){return (a<b)?-1:1;},getCellsInExtent:function(_a69,_a6a){var _a6b=this.getCellCoordinates({x:_a69.xmin,y:_a69.ymax}),_a6c=this.getCellCoordinates({x:_a69.xmax,y:_a69.ymin}),_a6d=_a6b.row,_a6e=_a6c.row,_a6f=_a6b.col,_a70=_a6c.col,_a71=[],i,j,nj,_a72=[],_a73=[],len,xmin,xmax,ymin,ymax,_a74=[],_a75,_a76;for(i=_a6d;i<=_a6e;i++){for(j=_a6f;j<=_a70;j++){nj=this.normalize(j);_a69=this.getCellExtent(i,nj);_a71.push({row:i,col:nj,extent:_a69,resolution:this._resolution});if(_a6a){_a72.push(_a69.xmin,_a69.xmax);_a73.push(_a69.ymin,_a69.ymax);}}}_a6f=this.normalize(_a6f);_a70=this.normalize(_a70);_a72.sort(this.sorter);_a73.sort(this.sorter);len=_a72.length;for(i=len-1;i>=0;i--){if(i<(len-1)){if(_a72[i]===_a72[i+1]){_a72.splice(i,1);}}}len=_a73.length;for(i=len-1;i>=0;i--){if(i<(len-1)){if(_a73[i]===_a73[i+1]){_a73.splice(i,1);}}}if(_a72.length&&_a73.length){xmin=_a72[0];xmax=_a72[_a72.length-1];ymin=_a73[0];ymax=_a73[_a73.length-1];len=_a72.length;for(i=0;i<len;i++){_a74.push([[_a72[i],ymax],[_a72[i],ymin]]);}len=_a73.length;for(i=0;i<len;i++){_a74.push([[xmin,_a73[i]],[xmax,_a73[i]]]);}_a75=new esri.geometry.Polyline({paths:_a74,spatialReference:this.origin.spatialReference.toJson()});_a76=_a6d+"_"+_a6e+"_"+_a6f+"_"+_a70;_a71.push({latticeID:_a76,lattice:_a75,resolution:this._resolution});}return {minRow:_a6d,maxRow:_a6e,minCol:_a6f,maxCol:_a70,cells:_a71};}});dojo.declare("esri.layers._TrackManager",null,{constructor:function(_a77){this.layer=_a77;this.trackMap={};},initialize:function(map){this.map=map;var _a78=this.layer,_a79=_a78.renderer.trackRenderer;if(_a79&&(_a78.geometryType==="esriGeometryPoint")){var _a7a=(this.container=new esri.layers._GraphicsLayer({id:_a78.id+"_tracks",_child:true}));_a7a._setMap(map,_a78._div);_a7a.setRenderer(_a79);}},addFeatures:function(_a7b){var tkid,_a7c=this.trackMap,_a7d=this.layer,_a7e=_a7d._trackIdField;dojo.forEach(_a7b,function(_a7f){var _a80=_a7f.attributes;tkid=_a80[_a7e];var ary=(_a7c[tkid]=(_a7c[tkid]||[]));ary.push(_a7f);});var _a81=_a7d._startTimeField,_a82=_a7d.objectIdField;var _a83=function(a,b){var _a84=a.attributes[_a81],_a85=b.attributes[_a81];if(_a84===_a85){return (a.attributes[_a82]<b.attributes[_a82])?-1:1;}else{return (_a84<_a85)?-1:1;}};for(tkid in _a7c){_a7c[tkid].sort(_a83);}},drawTracks:function(){var _a86=this.container;if(!_a86){return;}var _a87=this.trackMap,sr=this.map.spatialReference,tkid,ary,path,i,_a88,_a89=this.layer._trackIdField,_a8a;for(tkid in _a87){ary=_a87[tkid];path=[];for(i=ary.length-1;i>=0;i--){_a88=ary[i].geometry;if(_a88){path.push([_a88.x,_a88.y]);}}_a8a={};_a8a[_a89]=tkid;if(path.length>0){_a86.add(new esri.Graphic(new esri.geometry.Polyline({paths:[path],spatialReference:sr}),null,_a8a));}}},moveLatestToFront:function(){dojo.forEach(this.getLatestObservations(),function(_a8b){var _a8c=_a8b._shape;_a8c&&_a8c._moveToFront();this._repaint(_a8b,null,true);},this.layer);},getLatestObservations:function(){var _a8d=[];if(!this.layer.renderer.latestObservationRenderer){return _a8d;}var _a8e=this.trackMap,tkid;for(tkid in _a8e){var ary=_a8e[tkid];_a8d.push(ary[ary.length-1]);}return _a8d;},clearTracks:function(){var _a8f=this.getLatestObservations();this.trackMap={};var _a90=this.container;if(_a90){_a90.clear();}dojo.forEach(_a8f,function(_a91){this._repaint(_a91,null,true);},this.layer);},isLatestObservation:function(_a92){var _a93=this.layer._trackIdField;var _a94=this.trackMap[_a92.attributes[_a93]];if(_a94){return (_a94[_a94.length-1]===_a92);}return false;},destroy:function(){var _a95=this.container;if(_a95){_a95.clear();_a95._unsetMap(this.map,this.layer._div);this.container=null;}this.map=null;this.layer=null;this.trackMap=null;}});});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/_base/sniff","./_FormWidget","./_FormValueMixin"],function(_a96,has,_a97,_a98){return _a96("dijit.form._FormValueWidget",[_a97,_a98],{_layoutHackIE7:function(){if(has("ie")==7){var _a99=this.domNode;var _a9a=_a99.parentNode;var _a9b=_a99.firstChild||_a99;var _a9c=_a9b.style.filter;var _a9d=this;while(_a9a&&_a9a.clientHeight==0){(function ping(){var _a9e=_a9d.connect(_a9a,"onscroll",function(){_a9d.disconnect(_a9e);_a9b.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_a9b.style.filter=_a9c;},0);});})();_a9a=_a9a.parentNode;}}}});});},"*noref":1}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("esri/dijit/nls/AttributeInspector-all",["nl-nl","en-us","da","fi-fi","pt-pt","hu","sk","sl","pl","ca","sv","zh-tw","ar","en-gb","he-il","de-de","ko-kr","ja-jp","ro","az","nb","ru","es-es","th","cs","it-it","pt-br","fr-fr","el","tr","zh-cn"]);});define("esri/dijit/AttributeInspector-all",["dijit","dojo","dojox","dojo/require!esri/layers/FeatureLayer,esri/dijit/AttributeInspector"],function(_a9f,dojo,_aa0){dojo.provide("esri.dijit.AttributeInspector-all");dojo.require("esri.layers.FeatureLayer");dojo.require("esri.dijit.AttributeInspector");});