/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(_1,_2,_3,_4,_5){var _6=_5.doc.documentElement,ie=_4("ie"),_7=_4("opera"),_8=Math.floor,ff=_4("ff"),_9=_1.boxModel.replace(/-/,""),_a={"dj_ie":ie,"dj_ie6":_8(ie)==6,"dj_ie7":_8(ie)==7,"dj_ie8":_8(ie)==8,"dj_ie9":_8(ie)==9,"dj_quirks":_4("quirks"),"dj_iequirks":ie&&_4("quirks"),"dj_opera":_7,"dj_khtml":_4("khtml"),"dj_webkit":_4("webkit"),"dj_safari":_4("safari"),"dj_chrome":_4("chrome"),"dj_gecko":_4("mozilla"),"dj_ff3":_8(ff)==3};_a["dj_"+_9]=true;var _b="";for(var _c in _a){if(_a[_c]){_b+=_c+" ";}}_6.className=_2.trim(_6.className+" "+_b);_3(90,function(){if(!_1.isBodyLtr()){var _d="dj_rtl dijitRtl "+_b.replace(/ /g,"-rtl ");_6.className=_2.trim(_6.className+" "+_d+"dj_rtl dijitRtl "+_b.replace(/ /g,"-rtl "));}});return _4;});},"dojox/mobile/app/_Widget":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_WidgetBase"],function(_e,_f,_10){_f.provide("dojox.mobile.app._Widget");_f.experimental("dojox.mobile.app._Widget");_f.require("dijit._WidgetBase");_f.declare("dojox.mobile.app._Widget",_e._WidgetBase,{getScroll:function(){return {x:_f.global.scrollX,y:_f.global.scrollY};},connect:function(_11,_12,fn){if(_12.toLowerCase()=="dblclick"||_12.toLowerCase()=="ondblclick"){if(_f.global["Mojo"]){return this.connect(_11,Mojo.Event.tap,fn);}}return this.inherited(arguments);}});});},"dojox/mobile/app/ImageThumbView":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_WidgetBase,dojo/string"],function(_13,_14,_15){_14.provide("dojox.mobile.app.ImageThumbView");_14.experimental("dojox.mobile.app.ImageThumbView");_14.require("dijit._WidgetBase");_14.require("dojo.string");_14.declare("dojox.mobile.app.ImageThumbView",_13._WidgetBase,{items:[],urlParam:"url",labelParam:null,itemTemplate:"<div class=\"mblThumbInner\">"+"<div class=\"mblThumbOverlay\"></div>"+"<div class=\"mblThumbMask\">"+"<div class=\"mblThumbSrc\" style=\"background-image:url(${url})\"></div>"+"</div>"+"</div>",minPadding:4,maxPerRow:3,maxRows:-1,baseClass:"mblImageThumbView",thumbSize:"medium",animationEnabled:true,selectedIndex:-1,cache:null,cacheMustMatch:false,clickEvent:"onclick",cacheBust:false,disableHide:false,constructor:function(_16,_17){},postCreate:function(){this.inherited(arguments);var _18=this;var _19="mblThumbHover";this.addThumb=_14.hitch(this,this.addThumb);this.handleImgLoad=_14.hitch(this,this.handleImgLoad);this.hideCached=_14.hitch(this,this.hideCached);this._onLoadImages={};this.cache=[];this.visibleImages=[];this._cacheCounter=0;this.connect(this.domNode,this.clickEvent,function(_1a){var _1b=_18._getItemNodeFromEvent(_1a);if(_1b&&!_1b._cached){_18.onSelect(_1b._item,_1b._index,_18.items);_14.query(".selected",this.domNode).removeClass("selected");_14.addClass(_1b,"selected");}});_14.addClass(this.domNode,this.thumbSize);this.resize();this.render();},onSelect:function(_1c,_1d,_1e){},_setAnimationEnabledAttr:function(_1f){this.animationEnabled=_1f;_14[_1f?"addClass":"removeClass"](this.domNode,"animated");},_setItemsAttr:function(_20){this.items=_20||[];var _21={};var i;for(i=0;i<this.items.length;i++){_21[this.items[i][this.urlParam]]=1;}var _22=[];for(var url in this._onLoadImages){if(!_21[url]&&this._onLoadImages[url]._conn){_14.disconnect(this._onLoadImages[url]._conn);this._onLoadImages[url].src=null;_22.push(url);}}for(i=0;i<_22.length;i++){delete this._onLoadImages[url];}this.render();},_getItemNode:function(_23){while(_23&&!_14.hasClass(_23,"mblThumb")&&_23!=this.domNode){_23=_23.parentNode;}return (_23==this.domNode)?null:_23;},_getItemNodeFromEvent:function(_24){if(_24.touches&&_24.touches.length>0){_24=_24.touches[0];}return this._getItemNode(_24.target);},resize:function(){this._thumbSize=null;this._size=_14.contentBox(this.domNode);this.disableHide=true;this.render();this.disableHide=false;},hideCached:function(){for(var i=0;i<this.cache.length;i++){if(this.cache[i]){_14.style(this.cache[i],"display","none");}}},render:function(){var i;var url;var _25;var _26;while(this.visibleImages&&this.visibleImages.length>0){_26=this.visibleImages.pop();this.cache.push(_26);if(!this.disableHide){_14.addClass(_26,"hidden");}_26._cached=true;}if(this.cache&&this.cache.length>0){setTimeout(this.hideCached,1000);}if(!this.items||this.items.length==0){return;}for(i=0;i<this.items.length;i++){_25=this.items[i];url=(_14.isString(_25)?_25:_25[this.urlParam]);this.addThumb(_25,url,i);if(this.maxRows>0&&(i+1)/this.maxPerRow>=this.maxRows){break;}}if(!this._thumbSize){return;}var _27=0;var row=-1;var _28=this._thumbSize.w+(this.padding*2);var _29=this._thumbSize.h+(this.padding*2);var _2a=this.thumbNodes=_14.query(".mblThumb",this.domNode);var pos=0;_2a=this.visibleImages;for(i=0;i<_2a.length;i++){if(_2a[i]._cached){continue;}if(pos%this.maxPerRow==0){row++;}_27=pos%this.maxPerRow;this.place(_2a[i],(_27*_28)+this.padding,(row*_29)+this.padding);if(!_2a[i]._loading){_14.removeClass(_2a[i],"hidden");}if(pos==this.selectedIndex){_14[pos==this.selectedIndex?"addClass":"removeClass"](_2a[i],"selected");}pos++;}var _2b=Math.ceil(pos/this.maxPerRow);this._numRows=_2b;this.setContainerHeight((_2b*(this._thumbSize.h+this.padding*2)));},setContainerHeight:function(_2c){_14.style(this.domNode,"height",_2c+"px");},addThumb:function(_2d,url,_2e){var _2f;var _30=false;if(this.cache.length>0){var _31=false;for(var i=0;i<this.cache.length;i++){if(this.cache[i]._url==url){_2f=this.cache.splice(i,1)[0];_31=true;break;}}if(!_2f&&!this.cacheMustMatch){_2f=this.cache.pop();_14.removeClass(_2f,"selected");}else{_30=true;}}if(!_2f){_2f=_14.create("div",{"class":"mblThumb hidden",innerHTML:_14.string.substitute(this.itemTemplate,{url:url},null,this)},this.domNode);}if(this.labelParam){var _32=_14.query(".mblThumbLabel",_2f)[0];if(!_32){_32=_14.create("div",{"class":"mblThumbLabel"},_2f);}_32.innerHTML=_2d[this.labelParam]||"";}_14.style(_2f,"display","");if(!this.disableHide){_14.addClass(_2f,"hidden");}if(!_30){var _33=_14.create("img",{});_33._thumbDiv=_2f;_33._conn=_14.connect(_33,"onload",this.handleImgLoad);_33._url=url;_2f._loading=true;this._onLoadImages[url]=_33;if(_33){_33.src=url;}}this.visibleImages.push(_2f);_2f._index=_2e;_2f._item=_2d;_2f._url=url;_2f._cached=false;if(!this._thumbSize){this._thumbSize=_14.marginBox(_2f);if(this._thumbSize.h==0){this._thumbSize.h=100;this._thumbSize.w=100;}if(this.labelParam){this._thumbSize.h+=8;}this.calcPadding();}},handleImgLoad:function(_34){var img=_34.target;_14.disconnect(img._conn);_14.removeClass(img._thumbDiv,"hidden");img._thumbDiv._loading=false;img._conn=null;var url=img._url;if(this.cacheBust){url+=(url.indexOf("?")>-1?"&":"?")+"cacheBust="+(new Date()).getTime()+"_"+(this._cacheCounter++);}_14.query(".mblThumbSrc",img._thumbDiv).style("backgroundImage","url("+url+")");delete this._onLoadImages[img._url];},calcPadding:function(){var _35=this._size.w;var _36=this._thumbSize.w;var _37=_36+this.minPadding;this.maxPerRow=Math.floor(_35/_37);this.padding=Math.floor((_35-(_36*this.maxPerRow))/(this.maxPerRow*2));},place:function(_38,x,y){_14.style(_38,{"-webkit-transform":"translate("+x+"px,"+y+"px)"});},destroy:function(){var img;var _39=0;for(var url in this._onLoadImages){img=this._onLoadImages[url];if(img){img.src=null;_39++;}}this.inherited(arguments);}});});},"dojox/mobile/TransitionEvent":function(){define("dojox/mobile/TransitionEvent",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/on","./transition"],function(_3a,_3b,_3c,on,_3d){return _3a("dojox.mobile.TransitionEvent",null,{constructor:function(_3e,_3f,_40){this.transitionOptions=_3f;this.target=_3e;this.triggerEvent=_40||null;},dispatch:function(){var _41={bubbles:true,cancelable:true,detail:this.transitionOptions,triggerEvent:this.triggerEvent};var evt=on.emit(this.target,"startTransition",_41);if(evt){_3b.when(_3d,_3c.hitch(this,function(_42){_3b.when(_42.call(this,evt),_3c.hitch(this,function(_43){this.endTransition(_43);}));}));}},endTransition:function(_44){on.emit(this.target,"endTransition",{detail:_44.transitionOptions});}});});},"dojox/mobile/ViewController":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/ready","dijit/registry","./ProgressIndicator","./TransitionEvent"],function(_45,_46,_47,_48,_49,win,dom,_4a,_4b,on,_4c,_4d,_4e,_4f){var dm=_49.getObject("dojox.mobile",true);var _50=_48("dojox.mobile.ViewController",null,{constructor:function(){this.viewMap={};this.currentView=null;this.defaultView=null;_4c(_49.hitch(this,function(){on(win.body(),"startTransition",_49.hitch(this,"onStartTransition"));}));},findCurrentView:function(_51,src){if(_51){var w=_4d.byId(_51);if(w&&w.getShowingView){return w.getShowingView();}}if(dm.currentView){return dm.currentView;}w=src;while(true){w=w.getParent();if(!w){return null;}if(_4a.contains(w.domNode,"mblView")){break;}}return w;},onStartTransition:function(evt){evt.preventDefault();if(!evt.detail||(evt.detail&&!evt.detail.moveTo&&!evt.detail.href&&!evt.detail.url&&!evt.detail.scene)){return;}var w=this.findCurrentView(evt.detail.moveTo,(evt.target&&evt.target.id)?_4d.byId(evt.target.id):_4d.byId(evt.target));if(!w||(evt.detail&&evt.detail.moveTo&&w===_4d.byId(evt.detail.moveTo))){return;}if(evt.detail.href){var t=_4d.byId(evt.target.id).hrefTarget;if(t){dm.openWindow(evt.detail.href,t);}else{w.performTransition(null,evt.detail.transitionDir,evt.detail.transition,evt.target,function(){location.href=evt.detail.href;});}return;}else{if(evt.detail.scene){_47.publish("/dojox/mobile/app/pushScene",[evt.detail.scene]);return;}}var _52=evt.detail.moveTo;if(evt.detail.url){var id;if(dm._viewMap&&dm._viewMap[evt.detail.url]){id=dm._viewMap[evt.detail.url];}else{var _53=this._text;if(!_53){if(_4d.byId(evt.target.id).sync){_45.xhrGet({url:evt.detail.url,sync:true,load:function(_54){_53=_49.trim(_54);}});}else{var s="dojo/_base/xhr";require([s],_49.hitch(this,function(xhr){var _55=_4e.getInstance();win.body().appendChild(_55.domNode);_55.start();var obj=xhr.get({url:evt.detail.url,handleAs:"text"});obj.addCallback(_49.hitch(this,function(_56,_57){_55.stop();if(_56){this._text=_56;new _4f(evt.target,{transition:evt.detail.transition,transitionDir:evt.detail.transitionDir,moveTo:_52,href:evt.detail.href,url:evt.detail.url,scene:evt.detail.scene},evt.detail).dispatch();}}));obj.addErrback(function(_58){_55.stop();console.log("Failed to load "+evt.detail.url+"\n"+(_58.description||_58));});}));return;}}this._text=null;id=this._parse(_53,_4d.byId(evt.target.id).urlTarget);if(!dm._viewMap){dm._viewMap=[];}dm._viewMap[evt.detail.url]=id;}_52=id;w=this.findCurrentView(_52,_4d.byId(evt.target.id))||w;}var src=_4d.getEnclosingWidget(evt.target);var _59,_5a;if(src&&src.callback){_59=src;_5a=src.callback;}w.performTransition(_52,evt.detail.transitionDir,evt.detail.transition,_59,_5a);},_parse:function(_5b,id){var _5c,_5d,i,j,len;var _5e=this.findCurrentView();var _5f=_4d.byId(id)&&_4d.byId(id).containerNode||dom.byId(id)||_5e&&_5e.domNode.parentNode||win.body();var _60=null;for(j=_5f.childNodes.length-1;j>=0;j--){var c=_5f.childNodes[j];if(c.nodeType===1){if(c.getAttribute("fixed")==="bottom"){_60=c;break;}}}if(_5b.charAt(0)==="<"){_5c=_4b.create("DIV",{innerHTML:_5b});for(i=0;i<_5c.childNodes.length;i++){var n=_5c.childNodes[i];if(n.nodeType===1){_5d=n;break;}}if(!_5d){console.log("dojox.mobile.ViewController#_parse: invalid view content");return;}_5d.style.visibility="hidden";_5f.insertBefore(_5c,_60);var ws=_45.parser.parse(_5c);_46.forEach(ws,function(w){if(w&&!w._started&&w.startup){w.startup();}});for(i=0,len=_5c.childNodes.length;i<len;i++){_5f.insertBefore(_5c.firstChild,_60);}_5f.removeChild(_5c);_4d.byNode(_5d)._visible=true;}else{if(_5b.charAt(0)==="{"){_5c=_4b.create("DIV");_5f.insertBefore(_5c,_60);this._ws=[];_5d=this._instantiate(eval("("+_5b+")"),_5c);for(i=0;i<this._ws.length;i++){var w=this._ws[i];w.startup&&!w._started&&(!w.getParent||!w.getParent())&&w.startup();}this._ws=null;}}_5d.style.display="none";_5d.style.visibility="visible";return _45.hash?"#"+_5d.id:_5d.id;},_instantiate:function(obj,_61,_62){var _63;for(var key in obj){if(key.charAt(0)=="@"){continue;}var cls=_49.getObject(key);if(!cls){continue;}var _64={};var _65=cls.prototype;var _66=_49.isArray(obj[key])?obj[key]:[obj[key]];for(var i=0;i<_66.length;i++){for(var _67 in _66[i]){if(_67.charAt(0)=="@"){var val=_66[i][_67];_67=_67.substring(1);if(typeof _65[_67]=="string"){_64[_67]=val;}else{if(typeof _65[_67]=="number"){_64[_67]=val-0;}else{if(typeof _65[_67]=="boolean"){_64[_67]=(val!="false");}else{if(typeof _65[_67]=="object"){_64[_67]=eval("("+val+")");}}}}}}_63=new cls(_64,_61);if(_61){_63._visible=true;this._ws.push(_63);}if(_62&&_62.addChild){_62.addChild(_63);}this._instantiate(_66[i],null,_63);}}return _63&&_63.domNode;}});new _50();return _50;});},"dojox/mobile/ToolBarButton":function(){define("dojox/mobile/ToolBarButton",["dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./common","./_ItemBase"],function(_68,win,_69,_6a,_6b,_6c,_6d){return _68("dojox.mobile.ToolBarButton",_6d,{selected:false,btnClass:"",_defaultColor:"mblColorDefault",_selColor:"mblColorDefaultSel",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement("div");this.inheritParams();_69.add(this.domNode,"mblToolBarButton mblArrowButtonText");var _6e;if(this.selected){_6e=this._selColor;}else{if(this.domNode.className.indexOf("mblColor")==-1){_6e=this._defaultColor;}}_69.add(this.domNode,_6e);if(!this.label){this.label=this.domNode.innerHTML;}if(this.icon&&this.icon!="none"){this.iconNode=_6a.create("div",{className:"mblToolBarButtonIcon"},this.domNode);_6c.createIcon(this.icon,this.iconPos,null,this.alt,this.iconNode);if(this.iconPos){_69.add(this.iconNode.firstChild,"mblToolBarButtonSpriteIcon");}}else{if(_6c.createDomButton(this.domNode)){_69.add(this.domNode,"mblToolBarButtonDomButton");}else{_69.add(this.domNode,"mblToolBarButtonText");}}this.connect(this.domNode,"onclick","onClick");},select:function(){_69.toggle(this.domNode,this._selColor,!arguments[0]);this.selected=!arguments[0];},deselect:function(){this.select(true);},onClick:function(e){this.setTransitionPos(e);this.defaultClickAction();},_setBtnClassAttr:function(_6f){var _70=this.domNode;if(_70.className.match(/(mblDomButton\w+)/)){_69.remove(_70,RegExp.$1);}_69.add(_70,_6f);if(_6c.createDomButton(this.domNode)){_69.add(this.domNode,"mblToolBarButtonDomButton");}},_setLabelAttr:function(_71){this.label=_71;this.domNode.innerHTML=this._cv?this._cv(_71):_71;}});});},"dojox/mobile/_ItemBase":function(){define("dojox/mobile/_ItemBase",["dojo/_base/kernel","dojo/_base/config","dojo/_base/declare","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TransitionEvent","./View"],function(_72,_73,_74,_75,_76,_77,_78,_79,_7a){return _74("dojox.mobile._ItemBase",[_78,_77,_76],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",transition:"",transitionDir:1,transitionOptions:null,callback:null,sync:true,label:"",toggle:false,_duration:800,inheritParams:function(){var _7b=this.getParent();if(_7b){if(!this.transition){this.transition=_7b.transition;}if(this.icon&&_7b.iconBase&&_7b.iconBase.charAt(_7b.iconBase.length-1)==="/"){this.icon=_7b.iconBase+this.icon;}if(!this.icon){this.icon=_7b.iconBase;}if(!this.iconPos){this.iconPos=_7b.iconPos;}}},select:function(){},deselect:function(){},defaultClickAction:function(e){if(this.toggle){if(this.selected){this.deselect();}else{this.select();}}else{if(!this.selected){this.select();if(!this.selectOne){var _7c=this;setTimeout(function(){_7c.deselect();},this._duration);}var _7d;if(this.moveTo||this.href||this.url||this.scene){_7d={moveTo:this.moveTo,href:this.href,url:this.url,scene:this.scene,transition:this.transition,transitionDir:this.transitionDir};}else{if(this.transitionOptions){_7d=this.transitionOptions;}}if(_7d){return new _79(this.domNode,_7d,e).dispatch();}}}},getParent:function(){var ref=this.srcNodeRef||this.domNode;return ref&&ref.parentNode?_75.getEnclosingWidget(ref.parentNode):null;},setTransitionPos:function(e){var w=this;while(true){w=w.getParent();if(!w||w instanceof _7a){break;}}if(w){w.clickedPosX=e.clientX;w.clickedPosY=e.clientY;}},transitionTo:function(_7e,_7f,url,_80){if(_73.isDebug){var _81=arguments.callee._ach||(arguments.callee._ach={}),_82=(arguments.callee.caller||"unknown caller").toString();if(!_81[_82]){_72.deprecated(this.declaredClass+"::transitionTo() is deprecated."+_82,"","2.0");_81[_82]=true;}}new _79(this.domNode,{moveTo:_7e,href:_7f,url:url,scene:_80,transition:this.transition,transitionDir:this.transitionDir}).dispatch();}});});},"dijit/hccss":function(){define(["require","dojo/_base/config","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dojo/_base/sniff","dojo/_base/window"],function(_83,_84,_85,_86,_87,_88,has,win){if(has("ie")||has("mozilla")){_88(90,function(){var div=_86.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(_84.blankGif||_83.toUrl("dojo/resources/blank.gif"))+"\");"}},win.body());var cs=_87.getComputedStyle(div);if(cs){var _89=cs.backgroundImage;var _8a=(cs.borderTopColor==cs.borderRightColor)||(_89!=null&&(_89=="none"||_89=="url(invalid-url:)"));if(_8a){_85.add(win.body(),"dijit_a11y");}if(has("ie")){div.outerHTML="";}else{win.body().removeChild(div);}}});}});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_8b,_8c){return _8b("dijit._Contained",null,{_getSibling:function(_8d){var _8e=this.domNode;do{_8e=_8e[_8d+"Sibling"];}while(_8e&&_8e.nodeType!=1);return _8e&&_8c.byNode(_8e);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang",".."],function(_8f,_90,dom,_91,_92,_93,_94){var _95=_90("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_96,_97,_98){var _99;if(_96!==undefined){_99=this.filter(_96);if(typeof _98!="string"){if(_99!==null&&((typeof _99!="number")||!isNaN(_99))){_98=this.filter(this.format(_99,this.constraints));}else{_98="";}}}if(_98!=null&&_98!=undefined&&((typeof _98)!="number"||!isNaN(_98))&&this.textbox.value!=_98){this.textbox.value=_98;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_98);}this.inherited(arguments,[_99,_97]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_9a){if(_9a===null||_9a===undefined){_9a="";}else{if(typeof _9a!="string"){_9a=String(_9a);}}this.textbox.value=_9a;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_9a);}},format:function(_9b){return ((_9b==null||_9b==undefined)?"":(_9b.toString?_9b.toString():_9b));},parse:function(_9c){return _9c;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _9d=function(e){var _9e=e.charOrCode||e.keyCode||229;if(e.type=="keydown"){switch(_9e){case _92.SHIFT:case _92.ALT:case _92.CTRL:case _92.META:case _92.CAPS_LOCK:return;default:if(_9e>=65&&_9e<=90){return;}}}if(e.type=="keypress"&&typeof _9e!="string"){return;}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var _9f=_93.mixin({},e,{charOrCode:_9e,wasConsumed:false,preventDefault:function(){_9f.wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(_9f)===false){_91.stop(_9f);}if(_9f.wasConsumed){return;}setTimeout(_93.hitch(this,"_onInput",_9f),0);};_8f.forEach(["onkeydown","onkeypress","onpaste","oncut","oninput","oncompositionend"],function(_a0){this.connect(this.textbox,_a0,_9d);},this);},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=_93.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(_a1){return _a1.substring(0,1).toUpperCase()+_a1.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}},_isTextSelected:function(){return this.textbox.selectionStart==this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);if(this._isTextSelected()){_95.selectInputText(this.textbox);}});}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_a2){if(!this._created||this.textDir!=_a2){this._set("textDir",_a2);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_95._setSelectionRange=_94._setSelectionRange=function(_a3,_a4,_a5){if(_a3.setSelectionRange){_a3.setSelectionRange(_a4,_a5);}};_95.selectInputText=_94.selectInputText=function(_a6,_a7,_a8){_a6=dom.byId(_a6);if(isNaN(_a7)){_a7=0;}if(isNaN(_a8)){_a8=_a6.value?_a6.value.length:0;}try{_a6.focus();_95._setSelectionRange(_a6,_a7,_a8);}catch(e){}};return _95;});},"dojox/mobile/parser":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/_base/lang","dojo/_base/window","dojo/ready"],function(_a9,_aa,_ab,win,_ac){var dm=_ab.getObject("dojox.mobile",true);var _ad=new function(){this.instantiate=function(_ae,_af,_b0){_af=_af||{};_b0=_b0||{};var i,ws=[];if(_ae){for(i=0;i<_ae.length;i++){var n=_ae[i];var cls=_ab.getObject(n.getAttribute("dojoType")||n.getAttribute("data-dojo-type"));var _b1=cls.prototype;var _b2={},_b3,v,t;_ab.mixin(_b2,eval("({"+(n.getAttribute("data-dojo-props")||"")+"})"));_ab.mixin(_b2,_b0.defaults);_ab.mixin(_b2,_af);for(_b3 in _b1){v=n.getAttributeNode(_b3);v=v&&v.nodeValue;t=typeof _b1[_b3];if(!v&&(t!=="boolean"||v!=="")){continue;}if(t==="string"){_b2[_b3]=v;}else{if(t==="number"){_b2[_b3]=v-0;}else{if(t==="boolean"){_b2[_b3]=(v!=="false");}else{if(t==="object"){_b2[_b3]=eval("("+v+")");}}}}}_b2["class"]=n.className;_b2.style=n.style&&n.style.cssText;v=n.getAttribute("data-dojo-attach-point");if(v){_b2.dojoAttachPoint=v;}v=n.getAttribute("data-dojo-attach-event");if(v){_b2.dojoAttachEvent=v;}var _b4=new cls(_b2,n);ws.push(_b4);var _b5=n.getAttribute("jsId")||n.getAttribute("data-dojo-id");if(_b5){_ab.setObject(_b5,_b4);}}for(i=0;i<ws.length;i++){var w=ws[i];!_b0.noStart&&w.startup&&!w._started&&w.startup();}}return ws;};this.parse=function(_b6,_b7){if(!_b6){_b6=win.body();}else{if(!_b7&&_b6.rootNode){_b7=_b6;_b6=_b6.rootNode;}}var _b8=_b6.getElementsByTagName("*");var i,_b9=[];for(i=0;i<_b8.length;i++){var n=_b8[i];if(n.getAttribute("dojoType")||n.getAttribute("data-dojo-type")){_b9.push(n);}}var _ba=_b7&&_b7.template?{template:true}:null;return this.instantiate(_b9,_ba,_b7);};}();if(_aa.parseOnLoad){_ac(100,_ad,"parse");}dm.parser=_ad;_a9.parser=_ad;return _ad;});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(_bb,_bc,_bd,_be){return _bc("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_bf,_c0){var _c1=this.containerNode;if(_c0&&typeof _c0=="number"){var _c2=this.getChildren();if(_c2&&_c2.length>=_c0){_c1=_c2[_c0-1].domNode;_c0="after";}}_bd.place(_bf.domNode,_c1,_c0);if(this._started&&!_bf._started){_bf.startup();}},removeChild:function(_c3){if(typeof _c3=="number"){_c3=this.getChildren()[_c3];}if(_c3){var _c4=_c3.domNode;if(_c4&&_c4.parentNode){_c4.parentNode.removeChild(_c4);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_c5,dir){var _c6=_c5.domNode,_c7=(dir>0?"nextSibling":"previousSibling");do{_c6=_c6[_c7];}while(_c6&&(_c6.nodeType!=1||!_be.byNode(_c6)));return _c6&&_be.byNode(_c6);},getIndexOfChild:function(_c8){return _bb.indexOf(this.getChildren(),_c8);}});});},"dojox/mobile/app/SceneController":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/_base"],function(_c9,_ca,_cb){_ca.provide("dojox.mobile.app.SceneController");_ca.experimental("dojox.mobile.app.SceneController");_ca.require("dojox.mobile._base");(function(){var app=_cb.mobile.app;var _cc={};_ca.declare("dojox.mobile.app.SceneController",_cb.mobile.View,{stageController:null,keepScrollPos:false,init:function(_cd,_ce){this.sceneName=_cd;this.params=_ce;var _cf=app.resolveTemplate(_cd);this._deferredInit=new _ca.Deferred();if(_cc[_cd]){this._setContents(_cc[_cd]);}else{_ca.xhrGet({url:_cf,handleAs:"text"}).addCallback(_ca.hitch(this,this._setContents));}return this._deferredInit;},_setContents:function(_d0){_cc[this.sceneName]=_d0;this.domNode.innerHTML="<div>"+_d0+"</div>";var _d1="";var _d2=this.sceneName.split("-");for(var i=0;i<_d2.length;i++){_d1+=_d2[i].substring(0,1).toUpperCase()+_d2[i].substring(1);}_d1+="Assistant";this.sceneAssistantName=_d1;var _d3=this;_cb.mobile.app.loadResourcesForScene(this.sceneName,function(){console.log("All resources for ",_d3.sceneName," loaded");var _d4;if(typeof (_ca.global[_d1])!="undefined"){_d3._initAssistant();}else{var _d5=app.resolveAssistant(_d3.sceneName);_ca.xhrGet({url:_d5,handleAs:"text"}).addCallback(function(_d6){try{_ca.eval(_d6);}catch(e){console.log("Error initializing code for scene "+_d3.sceneName+". Please check for syntax errors");throw e;}_d3._initAssistant();});}});},_initAssistant:function(){console.log("Instantiating the scene assistant "+this.sceneAssistantName);var cls=_ca.getObject(this.sceneAssistantName);if(!cls){throw Error("Unable to resolve scene assistant "+this.sceneAssistantName);}this.assistant=new cls(this.params);this.assistant.controller=this;this.assistant.domNode=this.domNode.firstChild;this.assistant.setup();this._deferredInit.callback();},query:function(_d7,_d8){return _ca.query(_d7,_d8||this.domNode);},parse:function(_d9){var _da=this._widgets=_cb.mobile.parser.parse(_d9||this.domNode,{controller:this});for(var i=0;i<_da.length;i++){_da[i].set("controller",this);}},getWindowSize:function(){return {w:_ca.global.innerWidth,h:_ca.global.innerHeight};},showAlertDialog:function(_db){var _dc=_ca.marginBox(this.assistant.domNode);var _dd=new _cb.mobile.app.AlertDialog(_ca.mixin(_db,{controller:this}));this.assistant.domNode.appendChild(_dd.domNode);console.log("Appended ",_dd.domNode," to ",this.assistant.domNode);_dd.show();},popupSubMenu:function(_de){var _df=new _cb.mobile.app.ListSelector({controller:this,destroyOnHide:true,onChoose:_de.onChoose});this.assistant.domNode.appendChild(_df.domNode);_df.set("data",_de.choices);_df.show(_de.fromNode);}});})();});},"dojox/mobile/app/_base":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_base,dijit/_WidgetBase,dojox/mobile,dojox/mobile/parser,dojox/mobile/Button,dojox/mobile/app/_event,dojox/mobile/app/_Widget,dojox/mobile/app/StageController,dojox/mobile/app/SceneController,dojox/mobile/app/SceneAssistant,dojox/mobile/app/AlertDialog,dojox/mobile/app/List,dojox/mobile/app/ListSelector,dojox/mobile/app/TextBox,dojox/mobile/app/ImageView,dojox/mobile/app/ImageThumbView"],function(_e0,_e1,_e2){_e1.provide("dojox.mobile.app._base");_e1.experimental("dojox.mobile.app._base");_e1.require("dijit._base");_e1.require("dijit._WidgetBase");_e1.require("dojox.mobile");_e1.require("dojox.mobile.parser");_e1.require("dojox.mobile.Button");_e1.require("dojox.mobile.app._event");_e1.require("dojox.mobile.app._Widget");_e1.require("dojox.mobile.app.StageController");_e1.require("dojox.mobile.app.SceneController");_e1.require("dojox.mobile.app.SceneAssistant");_e1.require("dojox.mobile.app.AlertDialog");_e1.require("dojox.mobile.app.List");_e1.require("dojox.mobile.app.ListSelector");_e1.require("dojox.mobile.app.TextBox");_e1.require("dojox.mobile.app.ImageView");_e1.require("dojox.mobile.app.ImageThumbView");(function(){var _e3;var _e4;var _e5=["dojox.mobile","dojox.mobile.parser"];var _e6={};var _e7;var _e8;var _e9=[];function _ea(_eb,_ec){var _ed;var url;do{_ed=_eb.pop();if(_ed.source){url=_ed.source;}else{if(_ed.module){url=_e1.moduleUrl(_ed.module)+".js";}else{console.log("Error: invalid JavaScript resource "+_e1.toJson(_ed));return;}}}while(_eb.length>0&&_e6[url]);if(_eb.length<1&&_e6[url]){_ec();return;}_e1.xhrGet({url:url,sync:false}).addCallbacks(function(_ee){_e1["eval"](_ee);_e6[url]=true;if(_eb.length>0){_ea(_eb,_ec);}else{_ec();}},function(){console.log("Failed to load resource "+url);});};var _ef=function(){_e3=new _e2.mobile.app.StageController(_e8);var _f0={id:"com.test.app",version:"1.0.0",initialScene:"main"};if(_e1.global["appInfo"]){_e1.mixin(_f0,_e1.global["appInfo"]);}_e4=_e2.mobile.app.info=_f0;if(_e4.title){var _f1=_e1.query("head title")[0]||_e1.create("title",{},_e1.query("head")[0]);document.title=_e4.title;}_e3.pushScene(_e4.initialScene);};var _f2=function(){var _f3=false;if(_e1.global.BackButton){BackButton.override();_e1.connect(document,"backKeyDown",function(e){_e1.publish("/dojox/mobile/app/goback");});_f3=true;}else{if(_e1.global.Mojo){}}if(_f3){_e1.addClass(_e1.body(),"mblNativeBack");}};_e1.mixin(_e2.mobile.app,{init:function(_f4){_e8=_f4||_e1.body();_e2.mobile.app.STAGE_CONTROLLER_ACTIVE=true;_e1.subscribe("/dojox/mobile/app/goback",function(){_e3.popScene();});_e1.subscribe("/dojox/mobile/app/alert",function(_f5){_e2.mobile.app.getActiveSceneController().showAlertDialog(_f5);});_e1.subscribe("/dojox/mobile/app/pushScene",function(_f6,_f7){_e3.pushScene(_f6,_f7||{});});_e1.xhrGet({url:"view-resources.json",load:function(_f8){var _f9=[];if(_f8){_e9=_f8=_e1.fromJson(_f8);for(var i=0;i<_f8.length;i++){if(!_f8[i].scene){_f9.push(_f8[i]);}}}if(_f9.length>0){_ea(_f9,_ef);}else{_ef();}},error:_ef});_f2();},getActiveSceneController:function(){return _e3.getActiveSceneController();},getStageController:function(){return _e3;},loadResources:function(_fa,_fb){_ea(_fa,_fb);},loadResourcesForScene:function(_fc,_fd){var _fe=[];for(var i=0;i<_e9.length;i++){if(_e9[i].scene==_fc){_fe.push(_e9[i]);}}if(_fe.length>0){_ea(_fe,_fd);}else{_fd();}},resolveTemplate:function(_ff){return "app/views/"+_ff+"/"+_ff+"-scene.html";},resolveAssistant:function(_100){return "app/assistants/"+_100+"-assistant.js";}});})();});},"dijit/_base/scroll":function(){define(["dojo/window",".."],function(_101,_102){_102.scrollIntoView=function(node,pos){_101.scrollIntoView(node,pos);};});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_103,dojo,_104,_105,_106,dom,_107,geom,_108,_109){if(!dojo.isAsync){_108(0,function(){var _10a=["./fx/Toggler"];_109(_10a);});}var _10b=dojo.fx={};var _10c={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _10d=function(_10e){this._index=-1;this._animations=_10e||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_104.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_10d.prototype=new _103();lang.extend(_10d,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_105.disconnect(this._onAnimateCtx);_105.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_105.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_105.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_10f,_110){if(!this._current){this._current=this._animations[this._index=0];}if(!_110&&this._current.status()=="playing"){return this;}var _111=_105.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_112=_105.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_113=_105.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_105.disconnect(_111);_105.disconnect(_112);_105.disconnect(_113);});if(this._onAnimateCtx){_105.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_105.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_105.disconnect(this._onEndCtx);}this._onEndCtx=_105.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_105.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_105.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_114,_115){this.pause();var _116=this.duration*_114;this._current=null;_104.some(this._animations,function(a){if(a.duration<=_116){this._current=a;return true;}_116-=a.duration;return false;});if(this._current){this._current.gotoPercent(_116/this._current.duration,_115);}return this;},stop:function(_117){if(this._current){if(_117){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_105.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_105.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_105.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_105.disconnect(this._onEndCtx);}}});lang.extend(_10d,_10c);_10b.chain=function(_118){return new _10d(_118);};var _119=function(_11a){this._animations=_11a||[];this._connects=[];this._finished=0;this.duration=0;_104.forEach(_11a,function(a){var _11b=a.duration;if(a.delay){_11b+=a.delay;}if(this.duration<_11b){this.duration=_11b;}this._connects.push(_105.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _106.Animation({curve:[0,1],duration:this.duration});var self=this;_104.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_105.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_119,{_doAction:function(_11c,args){_104.forEach(this._animations,function(a){a[_11c].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_11d,args){var t=this._pseudoAnimation;t[_11d].apply(t,args);},play:function(_11e,_11f){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_120,_121){var ms=this.duration*_120;_104.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_121);});this._call("gotoPercent",arguments);return this;},stop:function(_122){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_104.forEach(this._connects,_105.disconnect);}});lang.extend(_119,_10c);_10b.combine=function(_123){return new _119(_123);};_10b.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_106.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _124=_107.get(node,"height");return Math.max(_124,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_105.connect(anim,"onStop",fini);_105.connect(anim,"onEnd",fini);return anim;};_10b.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_106.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_105.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_105.connect(anim,"onStop",fini);_105.connect(anim,"onEnd",fini);return anim;};_10b.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_107.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_106.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_105.connect(anim,"beforeBegin",anim,init);return anim;};return _10b;});},"dijit/_base":function(){define([".","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_125){return _125._base;});},"dojox/mobile/sniff":function(){define("dojox/mobile/sniff",["dojo/_base/window","dojo/_base/sniff"],function(win,has){var ua=navigator.userAgent;has.add("bb",ua.indexOf("BlackBerry")>=0&&parseFloat(ua.split("Version/")[1])||undefined,undefined,true);has.add("android",parseFloat(ua.split("Android ")[1])||undefined,undefined,true);if(ua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os,undefined,true);has.add("iphone",os,undefined,true);}if(has("webkit")){has.add("touch",(typeof win.doc.documentElement.ontouchstart!="undefined"&&navigator.appVersion.indexOf("Mobile")!=-1)||!!has("android"),undefined,true);}return has;});},"dojox/mobile/ProgressIndicator":function(){define("dojox/mobile/ProgressIndicator",["dojo/_base/config","dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/has"],function(_126,_127,_128,_129,has){var cls=_127("dojox.mobile.ProgressIndicator",null,{interval:100,colors:["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#B8B9B8","#AEAFAE","#A4A5A4","#9A9A9A","#8E8E8E","#838383"],constructor:function(){this._bars=[];this.domNode=_128.create("DIV");this.domNode.className="mblProgContainer";if(_126["mblAndroidWorkaround"]!==false&&has("android")>=2.2&&has("android")<3){_129.set(this.domNode,"webkitTransform","translate3d(0,0,0)");}this.spinnerNode=_128.create("DIV",null,this.domNode);for(var i=0;i<this.colors.length;i++){var div=_128.create("DIV",{className:"mblProg mblProg"+i},this.spinnerNode);this._bars.push(div);}},start:function(){if(this.imageNode){var img=this.imageNode;var l=Math.round((this.domNode.offsetWidth-img.offsetWidth)/2);var t=Math.round((this.domNode.offsetHeight-img.offsetHeight)/2);img.style.margin=t+"px "+l+"px";return;}var cntr=0;var _12a=this;var n=this.colors.length;this.timer=setInterval(function(){cntr--;cntr=cntr<0?n-1:cntr;var c=_12a.colors;for(var i=0;i<n;i++){var idx=(cntr+i)%n;_12a._bars[i].style.backgroundColor=c[idx];}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}},setImage:function(file){if(file){this.imageNode=_128.create("IMG",{src:file},this.domNode);this.spinnerNode.style.display="none";}else{if(this.imageNode){this.domNode.removeChild(this.imageNode);this.imageNode=null;}this.spinnerNode.style.display="";}}});cls._instance=null;cls.getInstance=function(){if(!cls._instance){cls._instance=new cls();}return cls._instance;};return cls;});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/_base/sniff","dojo/_base/window","dojo/window","../a11y"],function(_12b,_12c,_12d,_12e,lang,_12f,has,win,_130,a11y){return _12c("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_131){this._set("disabled",_131);_12d.set(this.focusNode,"disabled",_131);if(this.valueNode){_12d.set(this.valueNode,"disabled",_131);}this.focusNode.setAttribute("aria-disabled",_131?"true":"false");if(_131){this._set("hovering",false);this._set("active",false);var _132="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_12b.forEach(lang.isArray(_132)?_132:[_132],function(_133){var node=this[_133];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _134=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_135);this.disconnect(_134);});var _135=this.connect(win.body(),"onmouseup",function(){this.disconnect(_135);this.disconnect(_134);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_130.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_12e.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_136,_137){if(this._lastValueReported==undefined&&(_137===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_136;}this._pendingOnChange=this._pendingOnChange||(typeof _136!=typeof this._lastValueReported)||(this.compare(_136,this._lastValueReported)!=0);if((this.intermediateChanges||_137||_137===undefined)&&this._pendingOnChange){this._lastValueReported=_136;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_136);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/BackgroundIframe":function(){define(["require",".","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window"],function(_138,_139,_13a,_13b,_13c,lang,on,has,win){var _13d=new function(){var _13e=[];this.pop=function(){var _13f;if(_13e.length){_13f=_13e.pop();_13f.style.display="";}else{if(has("ie")<9){var burl=_13a["dojoBlankHtmlUrl"]||_138.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_13f=win.doc.createElement(html);}else{_13f=_13b.create("iframe");_13f.src="javascript:\"\"";_13f.className="dijitBackgroundIframe";_13f.setAttribute("role","presentation");_13c.set(_13f,"opacity",0.1);}_13f.tabIndex=-1;}return _13f;};this.push=function(_140){_140.style.display="none";_13e.push(_140);};}();_139.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("ie")||has("mozilla")){var _141=(this.iframe=_13d.pop());node.appendChild(_141);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_13c.set(_141,{width:"100%",height:"100%"});}}};lang.extend(_139.BackgroundIframe,{resize:function(node){if(this.iframe){_13c.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_13d.push(this.iframe);delete this.iframe;}}});return _139.BackgroundIframe;});},"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(_142,lang,base){lang.getObject("mobile",true,_142);return _142.mobile;});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/sniff","./_FormWidgetMixin"],function(_143,_144,keys,has,_145){return _143("dijit.form._FormValueMixin",_145,{readOnly:false,_setReadOnlyAttr:function(_146){_144.set(this.focusNode,"readOnly",_146);this.focusNode.setAttribute("aria-readonly",_146);this._set("readOnly",_146);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_147,_148){this._handleOnChange(_147,_148);},_handleOnChange:function(_149,_14a){this._set("value",_149);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();te=document.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}}});});},"dojox/mobile/common":function(){define("dojox/mobile/common",["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dijit/registry","./sniff","./uacss"],function(dojo,_14b,_14c,_14d,lang,win,_14e,_14f,_150,_151,_152,has,_153){var dm=lang.getObject("dojox.mobile",true);dm.getScreenSize=function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth};};dm.updateOrient=function(){var dim=dm.getScreenSize();_14e.replace(win.doc.documentElement,dim.h>dim.w?"dj_portrait":"dj_landscape",dim.h>dim.w?"dj_landscape":"dj_portrait");};dm.updateOrient();dm.tabletSize=500;dm.detectScreenSize=function(_154){var dim=dm.getScreenSize();var sz=Math.min(dim.w,dim.h);var from,to;if(sz>=dm.tabletSize&&(_154||(!this._sz||this._sz<dm.tabletSize))){from="phone";to="tablet";}else{if(sz<dm.tabletSize&&(_154||(!this._sz||this._sz>=dm.tabletSize))){from="tablet";to="phone";}}if(to){_14e.replace(win.doc.documentElement,"dj_"+to,"dj_"+from);_14d.publish("/dojox/mobile/screenSize/"+to,[dim]);}this._sz=sz;};dm.detectScreenSize();dm.setupIcon=function(_155,_156){if(_155&&_156){var arr=_14b.map(_156.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_150.set(_155,{clip:"rect("+t+"px "+r+"px "+b+"px "+l+"px)",top:(_155.parentNode?_150.get(_155,"top"):0)-t+"px",left:-l+"px"});}};dm.hideAddressBarWait=typeof (_14c["mblHideAddressBarWait"])==="number"?_14c["mblHideAddressBarWait"]:1500;dm.hide_1=function(_157){scrollTo(0,1);var h=dm.getScreenSize().h+"px";if(has("android")){if(_157){win.body().style.minHeight=h;}dm.resizeAll();}else{if(_157||dm._h===h&&h!==win.body().style.minHeight){win.body().style.minHeight=h;dm.resizeAll();}}dm._h=h;};dm.hide_fs=function(){var t=win.body().style.minHeight;win.body().style.minHeight=(dm.getScreenSize().h*2)+"px";scrollTo(0,1);setTimeout(function(){dm.hide_1(1);dm._hiding=false;},1000);};dm.hideAddressBar=function(evt){if(dm.disableHideAddressBar||dm._hiding){return;}dm._hiding=true;dm._h=0;win.body().style.minHeight=(dm.getScreenSize().h*2)+"px";setTimeout(dm.hide_1,0);setTimeout(dm.hide_1,200);setTimeout(dm.hide_1,800);setTimeout(dm.hide_fs,dm.hideAddressBarWait);};dm.resizeAll=function(evt,root){if(dm.disableResizeAll){return;}_14d.publish("/dojox/mobile/resizeAll",[evt,root]);dm.updateOrient();dm.detectScreenSize();var _158=function(w){var _159=w.getParent&&w.getParent();return !!((!_159||!_159.resize)&&w.resize);};var _15a=function(w){_14b.forEach(w.getChildren(),function(_15b){if(_158(_15b)){_15b.resize();}_15a(_15b);});};if(root){if(root.resize){root.resize();}_15a(root);}else{_14b.forEach(_14b.filter(_152.toArray(),_158),function(w){w.resize();});}};dm.openWindow=function(url,_15c){win.global.open(url,_15c||"_blank");};dm.createDomButton=function(_15d,_15e,_15f){if(!dm._domButtons){if(has("webkit")){var _160=function(_161,dic){var i,j;if(!_161){var dic={};var ss=dojo.doc.styleSheets;for(i=0;i<ss.length;i++){ss[i]&&_160(ss[i],dic);}return dic;}var _162=_161.cssRules||[];for(i=0;i<_162.length;i++){var rule=_162[i];if(rule.href&&rule.styleSheet){_160(rule.styleSheet,dic);}else{if(rule.selectorText){var sels=rule.selectorText.split(/,/);for(j=0;j<sels.length;j++){var sel=sels[j];var n=sel.split(/>/).length-1;if(sel.match(/(mblDomButton\w+)/)){var cls=RegExp.$1;if(!dic[cls]||n>dic[cls]){dic[cls]=n;}}}}}}};dm._domButtons=_160();}else{dm._domButtons={};}}var s=_15d.className;var node=_15f||_15d;if(s.match(/(mblDomButton\w+)/)&&s.indexOf("/")===-1){var _163=RegExp.$1;var nDiv=4;if(s.match(/(mblDomButton\w+_(\d+))/)){nDiv=RegExp.$2-0;}else{if(dm._domButtons[_163]!==undefined){nDiv=dm._domButtons[_163];}}var _164=null;if(has("bb")&&_14c["mblBBBoxShadowWorkaround"]!==false){_164={style:"-webkit-box-shadow:none"};}for(var i=0,p=node;i<nDiv;i++){p=p.firstChild||_14f.create("DIV",_164,p);}if(_15f){setTimeout(function(){_14e.remove(_15d,_163);},0);_14e.add(_15f,_163);}}else{if(s.indexOf(".")!==-1){_14f.create("IMG",{src:s},node);}else{return null;}}_14e.add(node,"mblDomButton");if(_14c["mblAndroidWorkaround"]!==false&&has("android")>=2.2){_150.set(node,"webkitTransform","translate3d(0,0,0)");}!!_15e&&_150.set(node,_15e);return node;};dm.createIcon=function(icon,_165,node,_166,_167){if(icon&&icon.indexOf("mblDomButton")===0){if(node&&node.className.match(/(mblDomButton\w+)/)){_14e.remove(node,RegExp.$1);}else{node=_14f.create("DIV");}node.title=_166;_14e.add(node,icon);dm.createDomButton(node);}else{if(icon&&icon!=="none"){if(!node||node.nodeName!=="IMG"){node=_14f.create("IMG",{alt:_166});}node.src=(icon||"").replace("${theme}",dm.currentTheme);dm.setupIcon(node,_165);if(_167&&_165){var arr=_165.split(/[ ,]/);_150.set(_167,{width:arr[2]+"px",height:arr[3]+"px"});}}}if(_167){_167.appendChild(node);}return node;};dm._iw=_14c["mblIosWorkaround"]!==false&&has("iphone");if(dm._iw){dm._iwBgCover=_14f.create("div");}if(_14c.parseOnLoad){_151(90,function(){var _168=win.body().getElementsByTagName("*");var i,len,s;len=_168.length;for(i=0;i<len;i++){s=_168[i].getAttribute("dojoType");if(s){if(_168[i].parentNode.getAttribute("lazy")=="true"){_168[i].setAttribute("__dojoType",s);_168[i].removeAttribute("dojoType");}}}});}_151(function(){dm.detectScreenSize(true);if(_14c["mblApplyPageStyles"]!==false){_14e.add(win.doc.documentElement,"mobile");}if(has("chrome")){_14e.add(win.doc.documentElement,"dj_chrome");}if(_14c["mblAndroidWorkaround"]!==false&&has("android")>=2.2){if(_14c["mblAndroidWorkaroundButtonStyle"]!==false){_14f.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},win.doc.head,"first");}if(has("android")<3){_150.set(win.doc.documentElement,"webkitTransform","translate3d(0,0,0)");_14d.connect(null,"onfocus",null,function(e){_150.set(win.doc.documentElement,"webkitTransform","");});_14d.connect(null,"onblur",null,function(e){_150.set(win.doc.documentElement,"webkitTransform","translate3d(0,0,0)");});}else{if(_14c["mblAndroid3Workaround"]!==false){_150.set(win.doc.documentElement,{webkitBackfaceVisibility:"hidden",webkitPerspective:8000});}}}var f=dm.resizeAll;if(_14c["mblHideAddressBar"]!==false&&navigator.appVersion.indexOf("Mobile")!=-1||_14c["mblForceHideAddressBar"]===true){dm.hideAddressBar();if(_14c["mblAlwaysHideAddressBar"]===true){f=dm.hideAddressBar;}}_14d.connect(null,(win.global.onorientationchange!==undefined&&!has("android"))?"onorientationchange":"onresize",null,f);var _169=win.body().getElementsByTagName("*");var i,len=_169.length,s;for(i=0;i<len;i++){s=_169[i].getAttribute("__dojoType");if(s){_169[i].setAttribute("dojoType",s);_169[i].removeAttribute("__dojoType");}}if(dojo.hash){var _16a=function(root){if(!root){return [];}var arr=_152.findWidgets(root);var _16b=arr;for(var i=0;i<_16b.length;i++){arr=arr.concat(_16a(_16b[i].containerNode));}return arr;};_14d.subscribe("/dojo/hashchange",null,function(_16c){var view=dm.currentView;if(!view){return;}var _16d=dm._params;if(!_16d){var _16e=_16c?_16c:dm._defaultView.id;var _16f=_16a(view.domNode);var dir=1,_170="slide";for(i=0;i<_16f.length;i++){var w=_16f[i];if("#"+_16e==w.moveTo){_170=w.transition;dir=(w instanceof dm.Heading)?-1:1;break;}}_16d=[_16e,dir,_170];}view.performTransition.apply(view,_16d);dm._params=null;});}win.body().style.visibility="visible";});_152.getEnclosingWidget=function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return _152.byId(id);}node=node._parentNode||node.parentNode;}return null;};return dm;});},"dojox/mobile/Heading":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./View"],function(_171,_172,_173,lang,win,_174,_175,_176,_177,_178,_179,_17a,View){var dm=lang.getObject("dojox.mobile",true);return _173("dojox.mobile.Heading",[_17a,_179,_178],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",backProp:{className:"mblArrowButton"},tag:"H1",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement(this.tag);this.domNode.className="mblHeading";if(!this.label){_171.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){var v=lang.trim(n.nodeValue);if(v){this.label=v;this.labelNode=_175.create("SPAN",{innerHTML:v},n,"replace");}}},this);}if(!this.labelNode){this.labelNode=_175.create("SPAN",null,this.domNode);}this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=_175.create("DIV",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);},startup:function(){if(this._started){return;}var _17b=this.getParent&&this.getParent();if(!_17b||!_17b.resize){var _17c=this;setTimeout(function(){_17c.resize();},0);}this.inherited(arguments);},resize:function(){if(this._btn){this._btn.style.width=this._body.offsetWidth+this._head.offsetWidth+"px";}if(this.labelNode){var _17d,_17e;var _17f=this.containerNode.childNodes;for(var i=_17f.length-1;i>=0;i--){var c=_17f[i];if(c.nodeType===1){if(!_17e&&_174.contains(c,"mblToolBarButton")&&_176.get(c,"float")==="right"){_17e=c;}if(!_17d&&(_174.contains(c,"mblToolBarButton")&&_176.get(c,"float")==="left"||c===this._btn)){_17d=c;}}}if(!this.labelNodeLen&&this.label){this.labelNode.style.display="inline";this.labelNodeLen=this.labelNode.offsetWidth;this.labelNode.style.display="";}var bw=this.domNode.offsetWidth;var rw=_17e?bw-_17e.offsetLeft+5:0;var lw=_17d?_17d.offsetLeft+_17d.offsetWidth+5:0;var tw=this.labelNodeLen||0;_174[bw-Math.max(rw,lw)*2>tw?"add":"remove"](this.domNode,"mblHeadingCenterTitle");}_171.forEach(this.getChildren(),function(_180){if(_180.resize){_180.resize();}});},_setBackAttr:function(back){if(!back){_175.destroy(this._btn);this._btn=null;this.back="";}else{if(!this._btn){var btn=_175.create("DIV",this.backProp,this.domNode,"first");var head=_175.create("DIV",{className:"mblArrowButtonHead"},btn);var body=_175.create("DIV",{className:"mblArrowButtonBody mblArrowButtonText"},btn);this._body=body;this._head=head;this._btn=btn;this.backBtnNode=btn;this.connect(body,"onclick","onClick");}this.back=back;this._body.innerHTML=this._cv?this._cv(this.back):this.back;}this.resize();},_setLabelAttr:function(_181){this.label=_181;this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(_181):_181;},findCurrentView:function(){var w=this;while(true){w=w.getParent();if(!w){return null;}if(w instanceof View){break;}}return w;},onClick:function(e){var h1=this.domNode;_174.add(h1,"mblArrowButtonSelected");setTimeout(function(){_174.remove(h1,"mblArrowButtonSelected");},1000);if(this.back&&!this.moveTo&&!this.href&&history){history.back();return;}var view=this.findCurrentView();if(view){view.clickedPosX=e.clientX;view.clickedPosY=e.clientY;}this.goTo(this.moveTo,this.href);},goTo:function(_182,href){var view=this.findCurrentView();if(!view){return;}if(href){view.performTransition(null,-1,this.transition,this,function(){location.href=href;});}else{if(dm.app&&dm.app.STAGE_CONTROLLER_ACTIVE){_172.publish("/dojox/mobile/app/goback");}else{var node=_177.byId(view.convertToId(_182));if(node){var _183=node.getParent();while(view){var _184=view.getParent();if(_183===_184){break;}view=_184;}}if(view){view.performTransition(_182,-1,this.transition);}}}}});});},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/mobile/RoundRectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/window","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_185,_186,win,_187,_188,_189){return _186("dojox.mobile.RoundRectList",[_189,_188,_187],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:false,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement("UL");this.domNode.className="mblRoundRectList";},resize:function(){_185.forEach(this.getChildren(),function(_18a){if(_18a.resize){_18a.resize();}});},onCheckStateChanged:function(_18b,_18c){},_setStatefulAttr:function(_18d){this.stateful=_18d;_185.forEach(this.getChildren(),function(_18e){_18e.setArrow&&_18e.setArrow();});},deselectItem:function(item){item.deselect();},deselectAll:function(){_185.forEach(this.getChildren(),function(_18f){_18f.deselect&&_18f.deselect();});},selectItem:function(item){item.select();}});});},"dojo/Stateful":function(){define(["./_base/kernel","./_base/declare","./_base/lang","./_base/array"],function(dojo,_190,lang,_191){return dojo.declare("dojo.Stateful",null,{postscript:function(_192){if(_192){lang.mixin(this,_192);}},get:function(name){return this[name];},set:function(name,_193){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _194=this[name];this[name]=_193;if(this._watchCallbacks){this._watchCallbacks(name,_194,_193);}return this;},watch:function(name,_195){var _196=this._watchCallbacks;if(!_196){var self=this;_196=this._watchCallbacks=function(name,_197,_198,_199){var _19a=function(_19b){if(_19b){_19b=_19b.slice();for(var i=0,l=_19b.length;i<l;i++){try{_19b[i].call(self,name,_197,_198);}catch(e){console.error(e);}}}};_19a(_196["_"+name]);if(!_199){_19a(_196["*"]);}};}if(!_195&&typeof name==="function"){_195=name;name="*";}else{name="_"+name;}var _19c=_196[name];if(typeof _19c!=="object"){_19c=_196[name]=[];}_19c.push(_195);return {unwatch:function(){_19c.splice(_191.indexOf(_19c,_195),1);}};}});});},"dojox/mobile/app/List":function(){define(["dijit","dojo","dojox","dojo/require!dojo/string,dijit/_WidgetBase"],function(_19d,dojo,_19e){dojo.provide("dojox.mobile.app.List");dojo.experimental("dojox.mobile.app.List");dojo.require("dojo.string");dojo.require("dijit._WidgetBase");(function(){var _19f={};dojo.declare("dojox.mobile.app.List",_19d._WidgetBase,{items:null,itemTemplate:"",emptyTemplate:"",dividerTemplate:"",dividerFunction:null,labelDelete:"Delete",labelCancel:"Cancel",controller:null,autoDelete:true,enableDelete:true,enableHold:true,formatters:null,_templateLoadCount:0,_mouseDownPos:null,baseClass:"list",constructor:function(){this._checkLoadComplete=dojo.hitch(this,this._checkLoadComplete);this._replaceToken=dojo.hitch(this,this._replaceToken);this._postDeleteAnim=dojo.hitch(this,this._postDeleteAnim);},postCreate:function(){var _1a0=this;if(this.emptyTemplate){this._templateLoadCount++;}if(this.itemTemplate){this._templateLoadCount++;}if(this.dividerTemplate){this._templateLoadCount++;}this.connect(this.domNode,"onmousedown",function(_1a1){var _1a2=_1a1;if(_1a1.targetTouches&&_1a1.targetTouches.length>0){_1a2=_1a1.targetTouches[0];}var _1a3=_1a0._getRowNode(_1a1.target);if(_1a3){_1a0._setDataInfo(_1a3,_1a1);_1a0._selectRow(_1a3);_1a0._mouseDownPos={x:_1a2.pageX,y:_1a2.pageY};_1a0._dragThreshold=null;}});this.connect(this.domNode,"onmouseup",function(_1a4){if(_1a4.targetTouches&&_1a4.targetTouches.length>0){_1a4=_1a4.targetTouches[0];}var _1a5=_1a0._getRowNode(_1a4.target);if(_1a5){_1a0._setDataInfo(_1a5,_1a4);if(_1a0._selectedRow){_1a0.onSelect(_1a5._data,_1a5._idx,_1a5);}this._deselectRow();}});if(this.enableDelete){this.connect(this.domNode,"mousemove",function(_1a6){dojo.stopEvent(_1a6);if(!_1a0._selectedRow){return;}var _1a7=_1a0._getRowNode(_1a6.target);if(_1a0.enableDelete&&_1a7&&!_1a0._deleting){_1a0.handleDrag(_1a6);}});}this.connect(this.domNode,"onclick",function(_1a8){if(_1a8.touches&&_1a8.touches.length>0){_1a8=_1a8.touches[0];}var _1a9=_1a0._getRowNode(_1a8.target,true);if(_1a9){_1a0._setDataInfo(_1a9,_1a8);}});this.connect(this.domNode,"mouseout",function(_1aa){if(_1aa.touches&&_1aa.touches.length>0){_1aa=_1aa.touches[0];}if(_1aa.target==_1a0._selectedRow){_1a0._deselectRow();}});if(!this.itemTemplate){throw Error("An item template must be provided to "+this.declaredClass);}this._loadTemplate(this.itemTemplate,"itemTemplate",this._checkLoadComplete);if(this.emptyTemplate){this._loadTemplate(this.emptyTemplate,"emptyTemplate",this._checkLoadComplete);}if(this.dividerTemplate){this._loadTemplate(this.dividerTemplate,"dividerTemplate",this._checkLoadComplete);}},handleDrag:function(_1ab){var _1ac=_1ab;if(_1ab.targetTouches&&_1ab.targetTouches.length>0){_1ac=_1ab.targetTouches[0];}var diff=_1ac.pageX-this._mouseDownPos.x;var _1ad=Math.abs(diff);if(_1ad>10&&!this._dragThreshold){this._dragThreshold=dojo.marginBox(this._selectedRow).w*0.6;if(!this.autoDelete){this.createDeleteButtons(this._selectedRow);}}this._selectedRow.style.left=(_1ad>10?diff:0)+"px";if(this._dragThreshold&&this._dragThreshold<_1ad){this.preDelete(diff);}},handleDragCancel:function(){if(this._deleting){return;}dojo.removeClass(this._selectedRow,"hold");this._selectedRow.style.left=0;this._mouseDownPos=null;this._dragThreshold=null;this._deleteBtns&&dojo.style(this._deleteBtns,"display","none");},preDelete:function(_1ae){var self=this;this._deleting=true;dojo.animateProperty({node:this._selectedRow,duration:400,properties:{left:{end:_1ae+((_1ae>0?1:-1)*this._dragThreshold*0.8)}},onEnd:dojo.hitch(this,function(){if(this.autoDelete){this.deleteRow(this._selectedRow);}})}).play();},deleteRow:function(row){dojo.style(row,{visibility:"hidden",minHeight:"0px"});dojo.removeClass(row,"hold");this._deleteAnimConn=this.connect(row,"webkitAnimationEnd",this._postDeleteAnim);dojo.addClass(row,"collapsed");},_postDeleteAnim:function(_1af){if(this._deleteAnimConn){this.disconnect(this._deleteAnimConn);this._deleteAnimConn=null;}var row=this._selectedRow;var _1b0=row.nextSibling;var _1b1=row.previousSibling;if(_1b1&&_1b1._isDivider){if(!_1b0||_1b0._isDivider){_1b1.parentNode.removeChild(_1b1);}}row.parentNode.removeChild(row);this.onDelete(row._data,row._idx,this.items);while(_1b0){if(_1b0._idx){_1b0._idx--;}_1b0=_1b0.nextSibling;}dojo.destroy(row);dojo.query("> *:not(.buttons)",this.domNode).forEach(this.applyClass);this._deleting=false;this._deselectRow();},createDeleteButtons:function(_1b2){var mb=dojo.marginBox(_1b2);var pos=dojo._abs(_1b2,true);if(!this._deleteBtns){this._deleteBtns=dojo.create("div",{"class":"buttons"},this.domNode);this.buttons=[];this.buttons.push(new _19e.mobile.Button({btnClass:"mblRedButton",label:this.labelDelete}));this.buttons.push(new _19e.mobile.Button({btnClass:"mblBlueButton",label:this.labelCancel}));dojo.place(this.buttons[0].domNode,this._deleteBtns);dojo.place(this.buttons[1].domNode,this._deleteBtns);dojo.addClass(this.buttons[0].domNode,"deleteBtn");dojo.addClass(this.buttons[1].domNode,"cancelBtn");this._handleButtonClick=dojo.hitch(this._handleButtonClick);this.connect(this._deleteBtns,"onclick",this._handleButtonClick);}dojo.removeClass(this._deleteBtns,"fade out fast");dojo.style(this._deleteBtns,{display:"",width:mb.w+"px",height:mb.h+"px",top:(_1b2.offsetTop)+"px",left:"0px"});},onDelete:function(data,_1b3,_1b4){_1b4.splice(_1b3,1);if(_1b4.length<1){this.render();}},cancelDelete:function(){this._deleting=false;this.handleDragCancel();},_handleButtonClick:function(_1b5){if(_1b5.touches&&_1b5.touches.length>0){_1b5=_1b5.touches[0];}var node=_1b5.target;if(dojo.hasClass(node,"deleteBtn")){this.deleteRow(this._selectedRow);}else{if(dojo.hasClass(node,"cancelBtn")){this.cancelDelete();}else{return;}}dojo.addClass(this._deleteBtns,"fade out");},applyClass:function(node,idx,_1b6){dojo.removeClass(node,"first last");if(idx==0){dojo.addClass(node,"first");}if(idx==_1b6.length-1){dojo.addClass(node,"last");}},_setDataInfo:function(_1b7,_1b8){_1b8.item=_1b7._data;_1b8.index=_1b7._idx;},onSelect:function(data,_1b9,_1ba){},_selectRow:function(row){if(this._deleting&&this._selectedRow&&row!=this._selectedRow){this.cancelDelete();}if(!dojo.hasClass(row,"row")){return;}if(this.enableHold||this.enableDelete){dojo.addClass(row,"hold");}this._selectedRow=row;},_deselectRow:function(){if(!this._selectedRow||this._deleting){return;}this.handleDragCancel();dojo.removeClass(this._selectedRow,"hold");this._selectedRow=null;},_getRowNode:function(_1bb,_1bc){while(_1bb&&!_1bb._data&&_1bb!=this.domNode){if(!_1bc&&dojo.hasClass(_1bb,"noclick")){return null;}_1bb=_1bb.parentNode;}return _1bb==this.domNode?null:_1bb;},applyTemplate:function(_1bd,data){return dojo._toDom(dojo.string.substitute(_1bd,data,this._replaceToken,this.formatters||this));},render:function(){dojo.query("> *:not(.buttons)",this.domNode).forEach(dojo.destroy);if(this.items.length<1&&this.emptyTemplate){dojo.place(dojo._toDom(this.emptyTemplate),this.domNode,"first");}else{this.domNode.appendChild(this._renderRange(0,this.items.length));}if(dojo.hasClass(this.domNode.parentNode,"mblRoundRect")){dojo.addClass(this.domNode.parentNode,"mblRoundRectList");}var divs=dojo.query("> .row",this.domNode);if(divs.length>0){dojo.addClass(divs[0],"first");dojo.addClass(divs[divs.length-1],"last");}},_renderRange:function(_1be,_1bf){var rows=[];var row,i;var frag=document.createDocumentFragment();_1be=Math.max(0,_1be);_1bf=Math.min(_1bf,this.items.length);for(i=_1be;i<_1bf;i++){row=this.applyTemplate(this.itemTemplate,this.items[i]);dojo.addClass(row,"row");row._data=this.items[i];row._idx=i;rows.push(row);}if(!this.dividerFunction||!this.dividerTemplate){for(i=_1be;i<_1bf;i++){rows[i]._data=this.items[i];rows[i]._idx=i;frag.appendChild(rows[i]);}}else{var _1c0=null;var _1c1;var _1c2;for(i=_1be;i<_1bf;i++){rows[i]._data=this.items[i];rows[i]._idx=i;_1c1=this.dividerFunction(this.items[i]);if(_1c1&&_1c1!=_1c0){_1c2=this.applyTemplate(this.dividerTemplate,{label:_1c1,item:this.items[i]});_1c2._isDivider=true;frag.appendChild(_1c2);_1c0=_1c1;}frag.appendChild(rows[i]);}}return frag;},_replaceToken:function(_1c3,key){if(key.charAt(0)=="!"){_1c3=dojo.getObject(key.substr(1),false,_this);}if(typeof _1c3=="undefined"){return "";}if(_1c3==null){return "";}return key.charAt(0)=="!"?_1c3:_1c3.toString().replace(/"/g,"&quot;");},_checkLoadComplete:function(){this._templateLoadCount--;if(this._templateLoadCount<1&&this.get("items")){this.render();}},_loadTemplate:function(url,_1c4,_1c5){if(!url){_1c5();return;}if(_19f[url]){this.set(_1c4,_19f[url]);_1c5();}else{var _1c6=this;dojo.xhrGet({url:url,sync:false,handleAs:"text",load:function(text){_19f[url]=dojo.trim(text);_1c6.set(_1c4,_19f[url]);_1c5();}});}},_setFormattersAttr:function(_1c7){this.formatters=_1c7;},_setItemsAttr:function(_1c8){this.items=_1c8||[];if(this._templateLoadCount<1&&_1c8){this.render();}},destroy:function(){if(this.buttons){dojo.forEach(this.buttons,function(_1c9){_1c9.destroy();});this.buttons=null;}this.inherited(arguments);}});})();});},"dojox/mobile/app/ListSelector":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/app/_Widget,dojo/fx"],function(_1ca,dojo,_1cb){dojo.provide("dojox.mobile.app.ListSelector");dojo.experimental("dojox.mobile.app.ListSelector");dojo.require("dojox.mobile.app._Widget");dojo.require("dojo.fx");dojo.declare("dojox.mobile.app.ListSelector",_1cb.mobile.app._Widget,{data:null,controller:null,onChoose:null,destroyOnHide:false,_setDataAttr:function(data){this.data=data;if(this.data){this.render();}},postCreate:function(){dojo.addClass(this.domNode,"listSelector");var _1cc=this;this.connect(this.domNode,"onclick",function(_1cd){if(!dojo.hasClass(_1cd.target,"listSelectorRow")){return;}if(_1cc.onChoose){_1cc.onChoose(_1cc.data[_1cd.target._idx].value);}_1cc.hide();});this.connect(this.domNode,"onmousedown",function(_1ce){if(!dojo.hasClass(_1ce.target,"listSelectorRow")){return;}dojo.addClass(_1ce.target,"listSelectorRow-selected");});this.connect(this.domNode,"onmouseup",function(_1cf){if(!dojo.hasClass(_1cf.target,"listSelectorRow")){return;}dojo.removeClass(_1cf.target,"listSelectorRow-selected");});this.connect(this.domNode,"onmouseout",function(_1d0){if(!dojo.hasClass(_1d0.target,"listSelectorRow")){return;}dojo.removeClass(_1d0.target,"listSelectorRow-selected");});var _1d1=this.controller.getWindowSize();this.mask=dojo.create("div",{"class":"dialogUnderlayWrapper",innerHTML:"<div class=\"dialogUnderlay\"></div>"},this.controller.assistant.domNode);this.connect(this.mask,"onclick",function(){_1cc.onChoose&&_1cc.onChoose();_1cc.hide();});},show:function(_1d2){var _1d3;var _1d4=this.controller.getWindowSize();var _1d5;if(_1d2){_1d5=dojo._abs(_1d2);_1d3=_1d5;}else{_1d3.x=_1d4.w/2;_1d3.y=200;}console.log("startPos = ",_1d3);dojo.style(this.domNode,{opacity:0,display:"",width:Math.floor(_1d4.w*0.8)+"px"});var _1d6=0;dojo.query(">",this.domNode).forEach(function(node){dojo.style(node,{"float":"left"});_1d6=Math.max(_1d6,dojo.marginBox(node).w);dojo.style(node,{"float":"none"});});_1d6=Math.min(_1d6,Math.round(_1d4.w*0.8))+dojo.style(this.domNode,"paddingLeft")+dojo.style(this.domNode,"paddingRight")+1;dojo.style(this.domNode,"width",_1d6+"px");var _1d7=dojo.marginBox(this.domNode).h;var _1d8=this;var _1d9=_1d5?Math.max(30,_1d5.y-_1d7-10):this.getScroll().y+30;console.log("fromNodePos = ",_1d5," targetHeight = ",_1d7," targetY = "+_1d9," startPos ",_1d3);var _1da=dojo.animateProperty({node:this.domNode,duration:400,properties:{width:{start:1,end:_1d6},height:{start:1,end:_1d7},top:{start:_1d3.y,end:_1d9},left:{start:_1d3.x,end:(_1d4.w/2-_1d6/2)},opacity:{start:0,end:1},fontSize:{start:1}},onEnd:function(){dojo.style(_1d8.domNode,"width","inherit");}});var _1db=dojo.fadeIn({node:this.mask,duration:400});dojo.fx.combine([_1da,_1db]).play();},hide:function(){var _1dc=this;var _1dd=dojo.animateProperty({node:this.domNode,duration:500,properties:{width:{end:1},height:{end:1},opacity:{end:0},fontSize:{end:1}},onEnd:function(){if(_1dc.get("destroyOnHide")){_1dc.destroy();}}});var _1de=dojo.fadeOut({node:this.mask,duration:400});dojo.fx.combine([_1dd,_1de]).play();},render:function(){dojo.empty(this.domNode);dojo.style(this.domNode,"opacity",0);var row;for(var i=0;i<this.data.length;i++){row=dojo.create("div",{"class":"listSelectorRow "+(this.data[i].className||""),innerHTML:this.data[i].label},this.domNode);row._idx=i;if(i==0){dojo.addClass(row,"first");}if(i==this.data.length-1){dojo.addClass(row,"last");}}},destroy:function(){this.inherited(arguments);dojo.destroy(this.mask);}});});},"dojox/mobile/EdgeToEdgeCategory":function(){define("dojox/mobile/EdgeToEdgeCategory",["dojo/_base/declare","./RoundRectCategory"],function(_1df,_1e0){return _1df("dojox.mobile.EdgeToEdgeCategory",_1e0,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";}});});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){lang.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_1e1,map,_1e2,_1e3){_1e3=_1e3||dojo.global;_1e2=_1e2?lang.hitch(_1e3,_1e2):function(v){return v;};return _1e1.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1e4,key,_1e5){var _1e6=lang.getObject(key,false,map);if(_1e5){_1e6=lang.getObject(_1e5,false,_1e3).call(_1e3,_1e6,key);}return _1e2(_1e6,key).toString();});};dojo.string.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return dojo.string;});},"dojox/mobile/TextBox":function(){define("dojox/mobile/TextBox",["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_FormValueMixin","dijit/form/_TextBoxMixin"],function(_1e7,_1e8,_1e9,_1ea,_1eb){return _1e7("dojox.mobile.TextBox",[_1e9,_1ea,_1eb],{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:"textbox",buildRendering:function(){if(!this.srcNodeRef){this.srcNodeRef=_1e8.create("input",{"type":this.type});}this.inherited(arguments);this.textbox=this.focusNode=this.domNode;},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onfocus","_onFocus");this.connect(this.textbox,"onblur","_onBlur");}});});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window","."],function(_1ec,has,_1ed,win,_1ee){var _1ef={},hash={};var _1f0={length:0,add:function(_1f1){if(hash[_1f1.id]){throw new Error("Tried to register widget with id=="+_1f1.id+" but that id is already registered");}hash[_1f1.id]=_1f1;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_1f2){var id;do{id=_1f2+"_"+(_1f2 in _1ef?++_1ef[_1f2]:_1ef[_1f2]=0);}while(hash[id]);return _1ee._scopeName=="dijit"?id:_1ee._scopeName+"_"+id;},findWidgets:function(root){var _1f3=[];function _1f4(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _1f5=node.getAttribute("widgetId");if(_1f5){var _1f6=hash[_1f5];if(_1f6){_1f3.push(_1f6);}}else{_1f4(node);}}}};_1f4(root);return _1f3;},_destroyAll:function(){_1ee._curFocus=null;_1ee._prevFocus=null;_1ee._activeStack=[];_1ec.forEach(_1f0.findWidgets(win.body()),function(_1f7){if(!_1f7._destroyed){if(_1f7.destroyRecursive){_1f7.destroyRecursive();}else{if(_1f7.destroy){_1f7.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_1ee.registry=_1f0;return _1f0;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","../registry",".."],function(_1f8,_1f9,_1fa,_1fb){_1f8.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_1fb[name]=_1fa[name];});_1fb.defaultDuration=_1f9["defaultDuration"]||200;return _1fb;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place",".."],function(_1fc,lang,_1fd,_1fe,_1ff){_1ff.getViewport=function(){return _1fd.getBox();};_1ff.placeOnScreen=_1fe.at;_1ff.placeOnScreenAroundElement=function(node,_200,_201,_202){var _203;if(lang.isArray(_201)){_203=_201;}else{_203=[];for(var key in _201){_203.push({aroundCorner:key,corner:_201[key]});}}return _1fe.around(node,_200,_203,true,_202);};_1ff.placeOnScreenAroundNode=_1ff.placeOnScreenAroundElement;_1ff.placeOnScreenAroundRectangle=_1ff.placeOnScreenAroundElement;_1ff.getPopupAroundAlignment=function(_204,_205){var _206={};_1fc.forEach(_204,function(pos){var ltr=_205;switch(pos){case "after":_206[_205?"BR":"BL"]=_205?"BL":"BR";break;case "before":_206[_205?"BL":"BR"]=_205?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_206[ltr?"BL":"BR"]=ltr?"TL":"TR";_206[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_206[ltr?"TL":"TR"]=ltr?"BL":"BR";_206[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _206;};return _1ff;});},"dojox/mobile/View":function(){define("dojox/mobile/View",["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ViewController","./transition"],function(dojo,_207,_208,_209,_20a,lang,has,win,_20b,dom,_20c,_20d,_20e,_20f,_210,_211,_212,_213,_214){var dm=lang.getObject("dojox.mobile",true);return _20a("dojox.mobile.View",[_212,_211,_210],{selected:false,keepScrollPos:true,constructor:function(_215,node){if(node){dom.byId(node).style.visibility="hidden";}this._aw=has("android")>=2.2&&has("android")<3;},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement("DIV");this.domNode.className="mblView";this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");if(!_208["mblCSS3Transition"]){this.connect(this.domNode,"webkitTransitionEnd","onAnimationEnd");}var id=location.href.match(/#(\w+)([^\w=]|$)/)?RegExp.$1:null;this._visible=this.selected&&!id||this.id==id;if(this.selected){dm._defaultView=this;}},startup:function(){if(this._started){return;}var _216=[];var _217=this.domNode.parentNode.childNodes;var _218=false;for(var i=0;i<_217.length;i++){var c=_217[i];if(c.nodeType===1&&_20c.contains(c,"mblView")){_216.push(c);_218=_218||_20f.byNode(c)._visible;}}var _219=this._visible;if(_216.length===1||(!_218&&_216[0]===this.domNode)){_219=true;}var _21a=this;setTimeout(function(){if(!_219){_21a.domNode.style.display="none";}else{dm.currentView=_21a;_21a.onStartView();_209.publish("/dojox/mobile/startView",[_21a]);}if(_21a.domNode.style.visibility!="visible"){_21a.domNode.style.visibility="visible";}var _21b=_21a.getParent&&_21a.getParent();if(!_21b||!_21b.resize){_21a.resize();}},has("ie")?100:0);this.inherited(arguments);},resize:function(){_207.forEach(this.getChildren(),function(_21c){if(_21c.resize){_21c.resize();}});},onStartView:function(){},onBeforeTransitionIn:function(_21d,dir,_21e,_21f,_220){},onAfterTransitionIn:function(_221,dir,_222,_223,_224){},onBeforeTransitionOut:function(_225,dir,_226,_227,_228){},onAfterTransitionOut:function(_229,dir,_22a,_22b,_22c){},_saveState:function(_22d,dir,_22e,_22f,_230){this._context=_22f;this._method=_230;if(_22e=="none"){_22e=null;}this._moveTo=_22d;this._dir=dir;this._transition=_22e;this._arguments=lang._toArray(arguments);this._args=[];if(_22f||_230){for(var i=5;i<arguments.length;i++){this._args.push(arguments[i]);}}},_fixViewState:function(_231){var _232=this.domNode.parentNode.childNodes;for(var i=0;i<_232.length;i++){var n=_232[i];if(n.nodeType===1&&_20c.contains(n,"mblView")){n.className="mblView";}}_231.className="mblView";},convertToId:function(_233){if(typeof (_233)=="string"){_233.match(/^#?([^&?]+)/);return RegExp.$1;}return _233;},performTransition:function(_234,dir,_235,_236,_237){if(_234==="#"){return;}if(dojo.hash){if(typeof (_234)=="string"&&_234.charAt(0)=="#"&&!dm._params){dm._params=[];for(var i=0;i<arguments.length;i++){dm._params.push(arguments[i]);}dojo.hash(_234);return;}}this._saveState.apply(this,arguments);var _238;if(_234){_238=this.convertToId(_234);}else{if(!this._dummyNode){this._dummyNode=win.doc.createElement("DIV");win.body().appendChild(this._dummyNode);}_238=this._dummyNode;}var _239=this.domNode;var _23a=_239.offsetTop;_238=this.toNode=dom.byId(_238);if(!_238){console.log("dojox.mobile.View#performTransition: destination view not found: "+_234);return;}_238.style.visibility=this._aw?"visible":"hidden";_238.style.display="";this._fixViewState(_238);var _23b=_20f.byNode(_238);if(_23b){if(_208["mblAlwaysResizeOnTransition"]||!_23b._resized){dm.resizeAll(null,_23b);_23b._resized=true;}if(_235&&_235!="none"){_23b.containerNode.style.paddingTop=_23a+"px";}_23b.movedFrom=_239.id;}this.onBeforeTransitionOut.apply(this,arguments);_209.publish("/dojox/mobile/beforeTransitionOut",[this].concat(lang._toArray(arguments)));if(_23b){if(this.keepScrollPos&&!this.getParent()){var _23c=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;_239._scrollTop=_23c;var _23d=(dir==1)?0:(_238._scrollTop||0);_238.style.top="0px";if(_23c>1||_23d!==0){_239.style.top=_23d-_23c+"px";if(_208["mblHideAddressBar"]!==false){setTimeout(function(){win.global.scrollTo(0,(_23d||1));},0);}}}else{_238.style.top="0px";}_23b.onBeforeTransitionIn.apply(_23b,arguments);_209.publish("/dojox/mobile/beforeTransitionIn",[_23b].concat(lang._toArray(arguments)));}if(!this._aw){_238.style.display="none";_238.style.visibility="visible";}if(dm._iw&&dm.scrollable){var ss=dm.getScreenSize();win.body().appendChild(dm._iwBgCover);_20e.set(dm._iwBgCover,{position:"absolute",top:"0px",left:"0px",height:(ss.h+1)+"px",width:ss.w+"px",backgroundColor:_20e.get(win.body(),"background-color"),zIndex:-10000,display:""});_20e.set(_238,{position:"absolute",zIndex:-10001,visibility:"visible",display:""});setTimeout(lang.hitch(this,function(){this._doTransition(_239,_238,_235,dir);}),80);}else{this._doTransition(_239,_238,_235,dir);}},_toCls:function(s){return "mbl"+s.charAt(0).toUpperCase()+s.substring(1);},_doTransition:function(_23e,_23f,_240,dir){var rev=(dir==-1)?" mblReverse":"";if(dm._iw&&dm.scrollable){_20e.set(_23f,{position:"",zIndex:""});win.body().removeChild(dm._iwBgCover);}else{if(!this._aw){_23f.style.display="";}}if(!_240||_240=="none"){this.domNode.style.display="none";this.invokeCallback();}else{if(_208["mblCSS3Transition"]){_20b.when(_214,lang.hitch(this,function(_241){var _242=_20e.get(_23f,"position");_20e.set(_23f,"position","absolute");_20b.when(_241(_23e,_23f,{transition:_240,reverse:(dir===-1)?true:false}),lang.hitch(this,function(){_20e.set(_23f,"position",_242);this.invokeCallback();}));}));}else{var s=this._toCls(_240);_20c.add(_23e,s+" mblOut"+rev);_20c.add(_23f,s+" mblIn"+rev);setTimeout(function(){_20c.add(_23e,"mblTransition");_20c.add(_23f,"mblTransition");},100);var _243="50% 50%";var _244="50% 50%";var _245,posX,posY;if(_240.indexOf("swirl")!=-1||_240.indexOf("zoom")!=-1){if(this.keepScrollPos&&!this.getParent()){_245=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_245=-_20d.position(_23e,true).y;}posY=win.global.innerHeight/2+_245;_243="50% "+posY+"px";_244="50% "+posY+"px";}else{if(_240.indexOf("scale")!=-1){var _246=_20d.position(_23e,true);posX=((this.clickedPosX!==undefined)?this.clickedPosX:win.global.innerWidth/2)-_246.x;if(this.keepScrollPos&&!this.getParent()){_245=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_245=-_246.y;}posY=((this.clickedPosY!==undefined)?this.clickedPosY:win.global.innerHeight/2)+_245;_243=posX+"px "+posY+"px";_244=posX+"px "+posY+"px";}}_20e.set(_23e,{webkitTransformOrigin:_243});_20e.set(_23f,{webkitTransformOrigin:_244});}}dm.currentView=_20f.byNode(_23f);},onAnimationStart:function(e){},onAnimationEnd:function(e){var name=e.animationName||e.target.className;if(name.indexOf("Out")===-1&&name.indexOf("In")===-1&&name.indexOf("Shrink")===-1){return;}var _247=false;if(_20c.contains(this.domNode,"mblOut")){_247=true;this.domNode.style.display="none";_20c.remove(this.domNode,[this._toCls(this._transition),"mblIn","mblOut","mblReverse"]);}else{this.containerNode.style.paddingTop="";}_20e.set(this.domNode,{webkitTransformOrigin:""});if(name.indexOf("Shrink")!==-1){var li=e.target;li.style.display="none";_20c.remove(li,"mblCloseContent");}if(_247){this.invokeCallback();}this.domNode&&(this.domNode.className="mblView");this.clickedPosX=this.clickedPosY=undefined;},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);_209.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var _248=_20f.byNode(this.toNode);if(_248){_248.onAfterTransitionIn.apply(_248,this._arguments);_209.publish("/dojox/mobile/afterTransitionIn",[_248].concat(this._arguments));_248.movedFrom=undefined;}var c=this._context,m=this._method;if(!c&&!m){return;}if(!m){m=c;c=null;}c=c||win.global;if(typeof (m)=="string"){c[m].apply(c,this._args);}else{m.apply(c,this._args);}},getShowingView:function(){var _249=this.domNode.parentNode.childNodes;for(var i=0;i<_249.length;i++){var n=_249[i];if(n.nodeType===1&&_20c.contains(n,"mblView")&&_20e.get(n,"display")!=="none"){return _20f.byNode(n);}}return null;},show:function(){var view=this.getShowingView();if(view){view.domNode.style.display="none";}this.domNode.style.display="";dm.currentView=this;}});});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/window","./registry"],function(_24a,_24b,win,_24c){var _24d=_24b("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_24e){if(this._hash[_24e.id]){throw new Error("Tried to register widget with id=="+_24e.id+" but that id is already registered");}this._hash[_24e.id]=_24e;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_24f){_24f=_24f||win.global;var i=0,id;for(id in this._hash){func.call(_24f,this._hash[id],i++,this._hash);}return this;},filter:function(_250,_251){_251=_251||win.global;var res=new _24d(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_250.call(_251,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _24d(),id,_252;for(id in this._hash){_252=this._hash[id];if(_252.declaredClass==cls){res.add(_252);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_253){return _24a.map(this.toArray(),func,_253);},every:function(func,_254){_254=_254||win.global;var x=0,i;for(i in this._hash){if(!func.call(_254,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_255){_255=_255||win.global;var x=0,i;for(i in this._hash){if(func.call(_255,this._hash[i],x++,this._hash)){return true;}}return false;}});_24a.forEach(["forEach","filter","byClass","map","every","some"],function(func){_24c[func]=_24d.prototype[func];});return _24d;});},"dojo/fx/easing":function(){define(["../_base/lang"],function(lang){var _256={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-_256.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return _256.bounceIn(n*2)/2;}return (_256.bounceOut(n*2-1)/2)+0.5;}};lang.setObject("dojo.fx.easing",_256);return _256;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/sniff","./_base/manager","."],function(_257,_258,_259,dom,_25a,_25b,has,_25c,_25d){var _25e=(_25d._isElementShown=function(elem){var s=_25b.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_25a.get(elem,"type")!="hidden");});_25d.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _25a.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _25f=elem.contentDocument;if("designMode" in _25f&&_25f.designMode=="on"){return true;}body=_25f.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}};var _260=(_25d.isTabNavigable=function(elem){if(_25a.get(elem,"disabled")){return false;}else{if(_25a.has(elem,"tabIndex")){return _25a.get(elem,"tabIndex")>=0;}else{return _25d.hasDefaultTabStop(elem);}}});_25d._getTabNavigable=function(root){var _261,last,_262,_263,_264,_265,_266={};function _267(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _268=function(_269){for(var _26a=_269.firstChild;_26a;_26a=_26a.nextSibling){if(_26a.nodeType!=1||(has("ie")&&_26a.scopeName!=="HTML")||!_25e(_26a)){continue;}if(_260(_26a)){var _26b=_25a.get(_26a,"tabIndex");if(!_25a.has(_26a,"tabIndex")||_26b==0){if(!_261){_261=_26a;}last=_26a;}else{if(_26b>0){if(!_262||_26b<_263){_263=_26b;_262=_26a;}if(!_264||_26b>=_265){_265=_26b;_264=_26a;}}}var rn=_267(_26a);if(_25a.get(_26a,"checked")&&rn){_266[rn]=_26a;}}if(_26a.nodeName.toUpperCase()!="SELECT"){_268(_26a);}}};if(_25e(root)){_268(root);}function rs(node){return _266[_267(node)]||node;};return {first:rs(_261),last:rs(last),lowest:rs(_262),highest:rs(_264)};};_25d.getFirstInTabbingOrder=function(root){var _26c=_25d._getTabNavigable(dom.byId(root));return _26c.lowest?_26c.lowest:_26c.first;};_25d.getLastInTabbingOrder=function(root){var _26d=_25d._getTabNavigable(dom.byId(root));return _26d.last?_26d.last:_26d.highest;};return {hasDefaultTabStop:_25d.hasDefaultTabStop,isTabNavigable:_25d.isTabNavigable,_getTabNavigable:_25d._getTabNavigable,getFirstInTabbingOrder:_25d.getFirstInTabbingOrder,getLastInTabbingOrder:_25d.getLastInTabbingOrder};});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/_base/sniff","."],function(_26e,_26f,_270,_271,lang,on,has,_272){var _273=(_272.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_274,node,_275,obj,_276,_277,_278){if(obj!=this._obj){this.stop();this._initialDelay=_277||500;this._subsequentDelay=_276||0.9;this._minDelay=_278||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_274,_275);this._fireEventAndReload();this._evt=lang.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_279,_27a,_27b,_27c,_27d,_27e){if(_279.keyCode){_279.charOrCode=_279.keyCode;_271.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_279.charCode){_279.charOrCode=String.fromCharCode(_279.charCode);_271.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _27f=[on(node,_26f._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_279.charOrCode&&(_279.ctrlKey===undefined||_279.ctrlKey==evt.ctrlKey)&&(_279.altKey===undefined||_279.altKey==evt.altKey)&&(_279.metaKey===undefined||_279.metaKey==(evt.metaKey||false))&&(_279.shiftKey===undefined||_279.shiftKey==evt.shiftKey)){_270.stop(evt);_273.trigger(evt,_27a,node,_27b,_279,_27c,_27d,_27e);}else{if(_273._obj==_279){_273.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_273._obj==_279){_273.stop();}}))];return {remove:function(){_26e.forEach(_27f,function(h){h.remove();});}};},addMouseListener:function(node,_280,_281,_282,_283,_284){var _285=[on(node,"mousedown",lang.hitch(this,function(evt){_270.stop(evt);_273.trigger(evt,_280,node,_281,node,_282,_283,_284);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){_270.stop(evt);}_273.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){_270.stop(evt);_273.stop();})),on(node,"mousemove",lang.hitch(this,function(evt){evt.preventDefault();})),on(node,"dblclick",lang.hitch(this,function(evt){_270.stop(evt);if(has("ie")){_273.trigger(evt,_280,node,_281,node,_282,_283,_284);setTimeout(lang.hitch(this,_273.stop),50);}}))];return {remove:function(){_26e.forEach(_285,function(h){h.remove();});}};},addListener:function(_286,_287,_288,_289,_28a,_28b,_28c,_28d){var _28e=[this.addKeyListener(_287,_288,_289,_28a,_28b,_28c,_28d),this.addMouseListener(_286,_289,_28a,_28b,_28c,_28d)];return {remove:function(){_26e.forEach(_28e,function(h){h.remove();});}};}});return _273;});},"dojox/mobile/app/ImageView":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/app/_Widget,dojo/fx/easing"],function(_28f,dojo,_290){dojo.provide("dojox.mobile.app.ImageView");dojo.experimental("dojox.mobile.app.ImageView");dojo.require("dojox.mobile.app._Widget");dojo.require("dojo.fx.easing");dojo.declare("dojox.mobile.app.ImageView",_290.mobile.app._Widget,{zoom:1,zoomCenterX:0,zoomCenterY:0,maxZoom:5,autoZoomLevel:3,disableAutoZoom:false,disableSwipe:false,autoZoomEvent:null,_leftImg:null,_centerImg:null,_rightImg:null,_leftSmallImg:null,_centerSmallImg:null,_rightSmallImg:null,constructor:function(){this.panX=0;this.panY=0;this.handleLoad=dojo.hitch(this,this.handleLoad);this._updateAnimatedZoom=dojo.hitch(this,this._updateAnimatedZoom);this._updateAnimatedPan=dojo.hitch(this,this._updateAnimatedPan);this._onAnimPanEnd=dojo.hitch(this,this._onAnimPanEnd);},buildRendering:function(){this.inherited(arguments);this.canvas=dojo.create("canvas",{},this.domNode);dojo.addClass(this.domNode,"mblImageView");},postCreate:function(){this.inherited(arguments);this.size=dojo.marginBox(this.domNode);dojo.style(this.canvas,{width:this.size.w+"px",height:this.size.h+"px"});this.canvas.height=this.size.h;this.canvas.width=this.size.w;var _291=this;this.connect(this.domNode,"onmousedown",function(_292){if(_291.isAnimating()){return;}if(_291.panX){_291.handleDragEnd();}_291.downX=_292.targetTouches?_292.targetTouches[0].clientX:_292.clientX;_291.downY=_292.targetTouches?_292.targetTouches[0].clientY:_292.clientY;});this.connect(this.domNode,"onmousemove",function(_293){if(_291.isAnimating()){return;}if((!_291.downX&&_291.downX!==0)||(!_291.downY&&_291.downY!==0)){return;}if((!_291.disableSwipe&&_291.zoom==1)||(!_291.disableAutoZoom&&_291.zoom!=1)){var x=_293.targetTouches?_293.targetTouches[0].clientX:_293.pageX;var y=_293.targetTouches?_293.targetTouches[0].clientY:_293.pageY;_291.panX=x-_291.downX;_291.panY=y-_291.downY;if(_291.zoom==1){if(Math.abs(_291.panX)>10){_291.render();}}else{if(Math.abs(_291.panX)>10||Math.abs(_291.panY)>10){_291.render();}}}});this.connect(this.domNode,"onmouseout",function(_294){if(!_291.isAnimating()&&_291.panX){_291.handleDragEnd();}});this.connect(this.domNode,"onmouseover",function(_295){_291.downX=_291.downY=null;});this.connect(this.domNode,"onclick",function(_296){if(_291.isAnimating()){return;}if(_291.downX==null||_291.downY==null){return;}var x=(_296.targetTouches?_296.targetTouches[0].clientX:_296.pageX);var y=(_296.targetTouches?_296.targetTouches[0].clientY:_296.pageY);if(Math.abs(_291.panX)>14||Math.abs(_291.panY)>14){_291.downX=_291.downY=null;_291.handleDragEnd();return;}_291.downX=_291.downY=null;if(!_291.disableAutoZoom){if(!_291._centerImg||!_291._centerImg._loaded){return;}if(_291.zoom!=1){_291.set("animatedZoom",1);return;}var pos=dojo._abs(_291.domNode);var _297=_291.size.w/_291._centerImg.width;var _298=_291.size.h/_291._centerImg.height;_291.zoomTo(((x-pos.x)/_297)-_291.panX,((y-pos.y)/_298)-_291.panY,_291.autoZoomLevel);}});dojo.connect(this.domNode,"flick",this,"handleFlick");},isAnimating:function(){return this._anim&&this._anim.status()=="playing";},handleDragEnd:function(){this.downX=this.downY=null;console.log("handleDragEnd");if(this.zoom==1){if(!this.panX){return;}var _299=(this._leftImg&&this._leftImg._loaded)||(this._leftSmallImg&&this._leftSmallImg._loaded);var _29a=(this._rightImg&&this._rightImg._loaded)||(this._rightSmallImg&&this._rightSmallImg._loaded);var _29b=!(Math.abs(this.panX)<this._centerImg._baseWidth/2)&&((this.panX>0&&_299?1:0)||(this.panX<0&&_29a?1:0));if(!_29b){this._animPanTo(0,dojo.fx.easing.expoOut,700);}else{this.moveTo(this.panX);}}else{if(!this.panX&&!this.panY){return;}this.zoomCenterX-=(this.panX/this.zoom);this.zoomCenterY-=(this.panY/this.zoom);this.panX=this.panY=0;}},handleFlick:function(_29c){if(this.zoom==1&&_29c.duration<500){if(_29c.direction=="ltr"){this.moveTo(1);}else{if(_29c.direction=="rtl"){this.moveTo(-1);}}this.downX=this.downY=null;}},moveTo:function(_29d){_29d=_29d>0?1:-1;var _29e;if(_29d<1){if(this._rightImg&&this._rightImg._loaded){_29e=this._rightImg;}else{if(this._rightSmallImg&&this._rightSmallImg._loaded){_29e=this._rightSmallImg;}}}else{if(this._leftImg&&this._leftImg._loaded){_29e=this._leftImg;}else{if(this._leftSmallImg&&this._leftSmallImg._loaded){_29e=this._leftSmallImg;}}}this._moveDir=_29d;var _29f=this;if(_29e&&_29e._loaded){this._animPanTo(this.size.w*_29d,null,500,function(){_29f.panX=0;_29f.panY=0;if(_29d<0){_29f._switchImage("left","right");}else{_29f._switchImage("right","left");}_29f.render();_29f.onChange(_29d*-1);});}else{console.log("moveTo image not loaded!",_29e);this._animPanTo(0,dojo.fx.easing.expoOut,700);}},_switchImage:function(_2a0,_2a1){var _2a2="_"+_2a0+"SmallImg";var _2a3="_"+_2a0+"Img";var _2a4="_"+_2a1+"SmallImg";var _2a5="_"+_2a1+"Img";this[_2a3]=this._centerImg;this[_2a2]=this._centerSmallImg;this[_2a3]._type=_2a0;if(this[_2a2]){this[_2a2]._type=_2a0;}this._centerImg=this[_2a5];this._centerSmallImg=this[_2a4];this._centerImg._type="center";if(this._centerSmallImg){this._centerSmallImg._type="center";}this[_2a5]=this[_2a4]=null;},_animPanTo:function(to,_2a6,_2a7,_2a8){this._animCallback=_2a8;this._anim=new dojo.Animation({curve:[this.panX,to],onAnimate:this._updateAnimatedPan,duration:_2a7||500,easing:_2a6,onEnd:this._onAnimPanEnd});this._anim.play();return this._anim;},onChange:function(_2a9){},_updateAnimatedPan:function(_2aa){this.panX=_2aa;this.render();},_onAnimPanEnd:function(){this.panX=this.panY=0;if(this._animCallback){this._animCallback();}},zoomTo:function(_2ab,_2ac,zoom){this.set("zoomCenterX",_2ab);this.set("zoomCenterY",_2ac);this.set("animatedZoom",zoom);},render:function(){var cxt=this.canvas.getContext("2d");cxt.clearRect(0,0,this.canvas.width,this.canvas.height);this._renderImg(this._centerSmallImg,this._centerImg,this.zoom==1?(this.panX<0?1:this.panX>0?-1:0):0);if(this.zoom==1&&this.panX!=0){if(this.panX>0){this._renderImg(this._leftSmallImg,this._leftImg,1);}else{this._renderImg(this._rightSmallImg,this._rightImg,-1);}}},_renderImg:function(_2ad,_2ae,_2af){var img=(_2ae&&_2ae._loaded)?_2ae:_2ad;if(!img||!img._loaded){return;}var cxt=this.canvas.getContext("2d");var _2b0=img._baseWidth;var _2b1=img._baseHeight;var _2b2=_2b0*this.zoom;var _2b3=_2b1*this.zoom;var _2b4=Math.min(this.size.w,_2b2);var _2b5=Math.min(this.size.h,_2b3);var _2b6=this.dispWidth=img.width*(_2b4/_2b2);var _2b7=this.dispHeight=img.height*(_2b5/_2b3);var _2b8=this.zoomCenterX-(this.panX/this.zoom);var _2b9=this.zoomCenterY-(this.panY/this.zoom);var _2ba=Math.floor(Math.max(_2b6/2,Math.min(img.width-_2b6/2,_2b8)));var _2bb=Math.floor(Math.max(_2b7/2,Math.min(img.height-_2b7/2,_2b9)));var _2bc=Math.max(0,Math.round((img.width-_2b6)/2+(_2ba-img._centerX)));var _2bd=Math.max(0,Math.round((img.height-_2b7)/2+(_2bb-img._centerY)));var _2be=Math.round(Math.max(0,this.canvas.width-_2b4)/2);var _2bf=Math.round(Math.max(0,this.canvas.height-_2b5)/2);var _2c0=_2b4;var _2c1=_2b6;if(this.zoom==1&&_2af&&this.panX){if(this.panX<0){if(_2af>0){_2b4-=Math.abs(this.panX);_2be=0;}else{if(_2af<0){_2b4=Math.max(1,Math.abs(this.panX)-5);_2be=this.size.w-_2b4;}}}else{if(_2af>0){_2b4=Math.max(1,Math.abs(this.panX)-5);_2be=0;}else{if(_2af<0){_2b4-=Math.abs(this.panX);_2be=this.size.w-_2b4;}}}_2b6=Math.max(1,Math.floor(_2b6*(_2b4/_2c0)));if(_2af>0){_2bc=(_2bc+_2c1)-(_2b6);}_2bc=Math.floor(_2bc);}try{cxt.drawImage(img,Math.max(0,_2bc),_2bd,Math.min(_2c1,_2b6),_2b7,_2be,_2bf,Math.min(_2c0,_2b4),_2b5);}catch(e){console.log("Caught Error",e,"type=",img._type,"oldDestWidth = ",_2c0,"destWidth",_2b4,"destX",_2be,"oldSourceWidth=",_2c1,"sourceWidth=",_2b6,"sourceX = "+_2bc);}},_setZoomAttr:function(_2c2){this.zoom=Math.min(this.maxZoom,Math.max(1,_2c2));if(this.zoom==1&&this._centerImg&&this._centerImg._loaded){if(!this.isAnimating()){this.zoomCenterX=this._centerImg.width/2;this.zoomCenterY=this._centerImg.height/2;}this.panX=this.panY=0;}this.render();},_setZoomCenterXAttr:function(_2c3){if(_2c3!=this.zoomCenterX){if(this._centerImg&&this._centerImg._loaded){_2c3=Math.min(this._centerImg.width,_2c3);}this.zoomCenterX=Math.max(0,Math.round(_2c3));}},_setZoomCenterYAttr:function(_2c4){if(_2c4!=this.zoomCenterY){if(this._centerImg&&this._centerImg._loaded){_2c4=Math.min(this._centerImg.height,_2c4);}this.zoomCenterY=Math.max(0,Math.round(_2c4));}},_setZoomCenterAttr:function(_2c5){if(_2c5.x!=this.zoomCenterX||_2c5.y!=this.zoomCenterY){this.set("zoomCenterX",_2c5.x);this.set("zoomCenterY",_2c5.y);this.render();}},_setAnimatedZoomAttr:function(_2c6){if(this._anim&&this._anim.status()=="playing"){return;}this._anim=new dojo.Animation({curve:[this.zoom,_2c6],onAnimate:this._updateAnimatedZoom,onEnd:this._onAnimEnd});this._anim.play();},_updateAnimatedZoom:function(_2c7){this._setZoomAttr(_2c7);},_setCenterUrlAttr:function(_2c8){this._setImage("center",_2c8);},_setLeftUrlAttr:function(_2c9){this._setImage("left",_2c9);},_setRightUrlAttr:function(_2ca){this._setImage("right",_2ca);},_setImage:function(name,_2cb){var _2cc=null;var _2cd=null;if(dojo.isString(_2cb)){_2cd=_2cb;}else{_2cd=_2cb.large;_2cc=_2cb.small;}if(this["_"+name+"Img"]&&this["_"+name+"Img"]._src==_2cd){return;}var _2ce=this["_"+name+"Img"]=new Image();_2ce._type=name;_2ce._loaded=false;_2ce._src=_2cd;_2ce._conn=dojo.connect(_2ce,"onload",this.handleLoad);if(_2cc){var _2cf=this["_"+name+"SmallImg"]=new Image();_2cf._type=name;_2cf._loaded=false;_2cf._conn=dojo.connect(_2cf,"onload",this.handleLoad);_2cf._isSmall=true;_2cf._src=_2cc;_2cf.src=_2cc;}_2ce.src=_2cd;},handleLoad:function(evt){var img=evt.target;img._loaded=true;dojo.disconnect(img._conn);var type=img._type;switch(type){case "center":this.zoomCenterX=img.width/2;this.zoomCenterY=img.height/2;break;}var _2d0=img.height;var _2d1=img.width;if(_2d1/this.size.w<_2d0/this.size.h){img._baseHeight=this.canvas.height;img._baseWidth=_2d1/(_2d0/this.size.h);}else{img._baseWidth=this.canvas.width;img._baseHeight=_2d0/(_2d1/this.size.w);}img._centerX=_2d1/2;img._centerY=_2d0/2;this.render();this.onLoad(img._type,img._src,img._isSmall);},onLoad:function(type,url,_2d2){}});});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus",".."],function(_2d3,dom,lang,_2d4,win,_2d5,_2d6){lang.mixin(_2d6,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return _2d6.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_2d5.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_2d7){var _2d8=win.doc,mark=_2d7.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_2d8.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_2d8.body.createControlRange();_2d3.forEach(mark,function(n){rg.addElement(n);});}else{rg=_2d8.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_2d9){var node=!_2d5.curNode||(menu&&dom.isDescendant(_2d5.curNode,menu.domNode))?_2d6._prevFocus:_2d5.curNode;return {node:node,bookmark:node&&(node==_2d5.curNode)&&win.withGlobal(_2d9||win.global,_2d6.getBookmark),openedForWindow:_2d9};},_activeStack:[],registerIframe:function(_2da){return _2d5.registerIframe(_2da);},unregisterIframe:function(_2db){_2db&&_2db.remove();},registerWin:function(_2dc,_2dd){return _2d5.registerWin(_2dc,_2dd);},unregisterWin:function(_2de){_2de&&_2de.remove();}});_2d5.focus=function(_2df){if(!_2df){return;}var node="node" in _2df?_2df.node:_2df,_2e0=_2df.bookmark,_2e1=_2df.openedForWindow,_2e2=_2e0?_2e0.isCollapsed:false;if(node){var _2e3=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_2e3&&_2e3.focus){try{_2e3.focus();}catch(e){}}_2d5._onFocusNode(node);}if(_2e0&&win.withGlobal(_2e1||win.global,_2d6.isCollapsed)&&!_2e2){if(_2e1){_2e1.focus();}try{win.withGlobal(_2e1||win.global,_2d6.moveToBookmark,null,[_2e0]);}catch(e2){}}};_2d5.watch("curNode",function(name,_2e4,_2e5){_2d6._curFocus=_2e5;_2d6._prevFocus=_2e4;if(_2e5){_2d4.publish("focusNode",_2e5);}});_2d5.watch("activeStack",function(name,_2e6,_2e7){_2d6._activeStack=_2e7;});_2d5.on("widget-blur",function(_2e8,by){_2d4.publish("widgetBlur",_2e8,by);});_2d5.on("widget-focus",function(_2e9,by){_2d4.publish("widgetFocus",_2e9,by);});return _2d6;});},"dojox/mobile/ListItem":function(){define("dojox/mobile/ListItem",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/has","./common","./_ItemBase","./TransitionEvent"],function(_2ea,_2eb,_2ec,lang,_2ed,_2ee,has,_2ef,_2f0,_2f1){return _2ec("dojox.mobile.ListItem",_2f0,{rightText:"",rightIcon:"",rightIcon2:"",anchorLabel:false,noArrow:false,selected:false,checked:false,arrowClass:"mblDomButtonArrow",checkClass:"mblDomButtonCheck",variableHeight:false,rightIconTitle:"",rightIcon2Title:"",btnClass:"",btnClass2:"",tag:"li",postMixInProperties:function(){if(this.btnClass){this.rightIcon=this.btnClass;}this._setBtnClassAttr=this._setRightIconAttr;this._setBtnClass2Attr=this._setRightIcon2Attr;},buildRendering:function(){this.domNode=this.srcNodeRef||_2ee.create(this.tag);this.inherited(arguments);this.domNode.className="mblListItem"+(this.selected?" mblItemSelected":"");var box=this.box=_2ee.create("DIV");box.className="mblListItemTextBox";if(this.anchorLabel){box.style.cursor="pointer";}var r=this.srcNodeRef;if(r&&!this.label){this.label="";for(var i=0,len=r.childNodes.length;i<len;i++){var n=r.firstChild;if(n.nodeType===3&&lang.trim(n.nodeValue)!==""){n.nodeValue=this._cv?this._cv(n.nodeValue):n.nodeValue;this.labelNode=_2ee.create("SPAN",{className:"mblListItemLabel"});this.labelNode.appendChild(n);n=this.labelNode;}box.appendChild(n);}}if(!this.labelNode){this.labelNode=_2ee.create("SPAN",{className:"mblListItemLabel"},box);}if(this.anchorLabel){box.style.display="inline";}var a=this.anchorNode=_2ee.create("A");a.className="mblListItemAnchor";this.domNode.appendChild(a);a.appendChild(box);},startup:function(){if(this._started){return;}this.inheritParams();var _2f2=this.getParent();if(this.moveTo||this.href||this.url||this.clickable||(_2f2&&_2f2.select)){this._onClickHandle=this.connect(this.anchorNode,"onclick","onClick");}this.setArrow();if(_2ed.contains(this.domNode,"mblVariableHeight")){this.variableHeight=true;}if(this.variableHeight){_2ed.add(this.domNode,"mblVariableHeight");setTimeout(lang.hitch(this,"layoutVariableHeight"));}this.set("icon",this.icon);if(!this.checked&&this.checkClass.indexOf(",")!==-1){this.set("checked",this.checked);}this.inherited(arguments);},resize:function(){if(this.variableHeight){this.layoutVariableHeight();}},onClick:function(e){var a=e.currentTarget;var li=a.parentNode;if(_2ed.contains(li,"mblItemSelected")){return;}if(this.anchorLabel){for(var p=e.target;p.tagName!==this.tag.toUpperCase();p=p.parentNode){if(p.className=="mblListItemTextBox"){_2ed.add(p,"mblListItemTextBoxSelected");setTimeout(function(){_2ed.remove(p,"mblListItemTextBoxSelected");},has("android")?300:1000);this.onAnchorLabelClicked(e);return;}}}var _2f3=this.getParent();if(_2f3.select){if(_2f3.select==="single"){if(!this.checked){this.set("checked",true);}}else{if(_2f3.select==="multiple"){this.set("checked",!this.checked);}}}this.select();if(this.href&&this.hrefTarget){_2ef.openWindow(this.href,this.hrefTarget);return;}var _2f4;if(this.moveTo||this.href||this.url||this.scene){_2f4={moveTo:this.moveTo,href:this.href,url:this.url,scene:this.scene,transition:this.transition,transitionDir:this.transitionDir};}else{if(this.transitionOptions){_2f4=this.transitionOptions;}}if(_2f4){this.setTransitionPos(e);return new _2f1(this.domNode,_2f4,e).dispatch();}},select:function(){var _2f5=this.getParent();if(_2f5.stateful){_2f5.deselectAll();}else{var _2f6=this;setTimeout(function(){_2f6.deselect();},has("android")?300:1000);}_2ed.add(this.domNode,"mblItemSelected");},deselect:function(){_2ed.remove(this.domNode,"mblItemSelected");},onAnchorLabelClicked:function(e){},layoutVariableHeight:function(){var h=this.anchorNode.offsetHeight;if(h===this.anchorNodeHeight){return;}this.anchorNodeHeight=h;_2ea.forEach([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.iconNode],function(n){if(n){var t=Math.round((h-n.offsetHeight)/2);n.style.marginTop=t+"px";}});},setArrow:function(){if(this.checked){return;}var c="";var _2f7=this.getParent();if(this.moveTo||this.href||this.url||this.clickable){if(!this.noArrow&&!(_2f7&&_2f7.stateful)){c=this.arrowClass;}}if(c){this._setRightIconAttr(c);}},_setIconAttr:function(icon){if(!this.getParent()){return;}this.icon=icon;var a=this.anchorNode;if(!this.iconNode){if(icon){var ref=this.rightIconNode||this.rightIcon2Node||this.rightTextNode||this.box;this.iconNode=_2ee.create("DIV",{className:"mblListItemIcon"},ref,"before");}}else{_2ee.empty(this.iconNode);}if(icon&&icon!=="none"){_2ef.createIcon(icon,this.iconPos,null,this.alt,this.iconNode);if(this.iconPos){_2ed.add(this.iconNode.firstChild,"mblListItemSpriteIcon");}_2ed.remove(a,"mblListItemAnchorNoIcon");}else{_2ed.add(a,"mblListItemAnchorNoIcon");}},_setCheckedAttr:function(_2f8){var _2f9=this.getParent();if(_2f9&&_2f9.select==="single"&&_2f8){_2ea.forEach(_2f9.getChildren(),function(_2fa){_2fa.set("checked",false);});}this._setRightIconAttr(this.checkClass);var _2fb=this.rightIconNode.childNodes;if(_2fb.length===1){this.rightIconNode.style.display=_2f8?"":"none";}else{_2fb[0].style.display=_2f8?"":"none";_2fb[1].style.display=!_2f8?"":"none";}_2ed.toggle(this.domNode,"mblListItemChecked",_2f8);if(_2f9&&this.checked!==_2f8){_2f9.onCheckStateChanged(this,_2f8);}this.checked=_2f8;},_setRightTextAttr:function(text){if(!this.rightTextNode){this.rightTextNode=_2ee.create("DIV",{className:"mblListItemRightText"},this.box,"before");}this.rightText=text;this.rightTextNode.innerHTML=this._cv?this._cv(text):text;},_setRightIconAttr:function(icon){if(!this.rightIconNode){var ref=this.rightIcon2Node||this.rightTextNode||this.box;this.rightIconNode=_2ee.create("DIV",{className:"mblListItemRightIcon"},ref,"before");}else{_2ee.empty(this.rightIconNode);}this.rightIcon=icon;var arr=(icon||"").split(/,/);if(arr.length===1){_2ef.createIcon(icon,null,null,this.rightIconTitle,this.rightIconNode);}else{_2ef.createIcon(arr[0],null,null,this.rightIconTitle,this.rightIconNode);_2ef.createIcon(arr[1],null,null,this.rightIconTitle,this.rightIconNode);}},_setRightIcon2Attr:function(icon){if(!this.rightIcon2Node){var ref=this.rightTextNode||this.box;this.rightIcon2Node=_2ee.create("DIV",{className:"mblListItemRightIcon2"},ref,"before");}else{_2ee.empty(this.rightIcon2Node);}this.rightIcon2=icon;_2ef.createIcon(icon,null,null,this.rightIcon2Title,this.rightIcon2Node);},_setLabelAttr:function(text){this.label=text;this.labelNode.innerHTML=this._cv?this._cv(text):text;}});});},"dojox/mobile/app/StageController":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/app/SceneController"],function(_2fc,dojo,_2fd){dojo.provide("dojox.mobile.app.StageController");dojo.experimental("dojox.mobile.app.StageController");dojo.require("dojox.mobile.app.SceneController");dojo.declare("dojox.mobile.app.StageController",null,{scenes:null,effect:"fade",constructor:function(node){this.domNode=node;this.scenes=[];if(dojo.config.mobileAnim){this.effect=dojo.config.mobileAnim;}},getActiveSceneController:function(){return this.scenes[this.scenes.length-1];},pushScene:function(_2fe,_2ff){if(this._opInProgress){return;}this._opInProgress=true;var node=dojo.create("div",{"class":"scene-wrapper",style:{visibility:"hidden"}},this.domNode);var _300=new _2fd.mobile.app.SceneController({},node);if(this.scenes.length>0){this.scenes[this.scenes.length-1].assistant.deactivate();}this.scenes.push(_300);var _301=this;dojo.forEach(this.scenes,this.setZIndex);_300.stageController=this;_300.init(_2fe,_2ff).addCallback(function(){if(_301.scenes.length==1){_300.domNode.style.visibility="visible";_301.scenes[_301.scenes.length-1].assistant.activate(_2ff);_301._opInProgress=false;}else{_301.scenes[_301.scenes.length-2].performTransition(_301.scenes[_301.scenes.length-1].domNode,1,_301.effect,null,function(){_301.scenes[_301.scenes.length-1].assistant.activate(_2ff);_301._opInProgress=false;});}});},setZIndex:function(_302,idx){dojo.style(_302.domNode,"zIndex",idx+1);},popScene:function(data){if(this._opInProgress){return;}var _303=this;if(this.scenes.length>1){this._opInProgress=true;this.scenes[_303.scenes.length-2].assistant.activate(data);this.scenes[_303.scenes.length-1].performTransition(_303.scenes[this.scenes.length-2].domNode,-1,this.effect,null,function(){_303._destroyScene(_303.scenes[_303.scenes.length-1]);_303.scenes.splice(_303.scenes.length-1,1);_303._opInProgress=false;});}else{console.log("cannot pop the scene if there is just one");}},popScenesTo:function(_304,data){if(this._opInProgress){return;}while(this.scenes.length>2&&this.scenes[this.scenes.length-2].sceneName!=_304){this._destroyScene(this.scenes[this.scenes.length-2]);this.scenes.splice(this.scenes.length-2,1);}this.popScene(data);},_destroyScene:function(_305){_305.assistant.deactivate();_305.assistant.destroy();_305.destroyRecursive();}});});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","."],function(_306,_307,_308,_309,win,_30a,_30b){function _30c(node,_30d,_30e,_30f){var view=_30a.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body().appendChild(node);}var best=null;_306.some(_30d,function(_310){var _311=_310.corner;var pos=_310.pos;var _312=0;var _313={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_311.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_311.charAt(0)]};if(_30e){var res=_30e(node,_310.aroundCorner,_311,_313,_30f);_312=typeof res=="undefined"?0:res;}var _314=node.style;var _315=_314.display;var _316=_314.visibility;if(_314.display=="none"){_314.visibility="hidden";_314.display="";}var mb=_307.getMarginBox(node);_314.display=_315;_314.visibility=_316;var _317={"L":pos.x,"R":pos.x-mb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(mb.w>>1))-mb.w)}[_311.charAt(1)],_318={"T":pos.y,"B":pos.y-mb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(mb.h>>1))-mb.h)}[_311.charAt(0)],_319=Math.max(view.l,_317),_31a=Math.max(view.t,_318),endX=Math.min(view.l+view.w,_317+mb.w),endY=Math.min(view.t+view.h,_318+mb.h),_31b=endX-_319,_31c=endY-_31a;_312+=(mb.w-_31b)+(mb.h-_31c);if(best==null||_312<best.overflow){best={corner:_311,aroundCorner:_310.aroundCorner,x:_319,y:_31a,w:_31b,h:_31c,overflow:_312,spaceAvailable:_313};}return !_312;});if(best.overflow&&_30e){_30e(node,best.aroundCorner,best.corner,best.spaceAvailable,_30f);}var l=_307.isBodyLtr(),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";s[l?"right":"left"]="auto";return best;};return (_30b.place={at:function(node,pos,_31d,_31e){var _31f=_306.map(_31d,function(_320){var c={corner:_320,pos:{x:pos.x,y:pos.y}};if(_31e){c.pos.x+=_320.charAt(1)=="L"?_31e.x:-_31e.x;c.pos.y+=_320.charAt(0)=="T"?_31e.y:-_31e.y;}return c;});return _30c(node,_31f);},around:function(node,_321,_322,_323,_324){var _325=(typeof _321=="string"||"offsetWidth" in _321)?_307.position(_321,true):_321;if(_321.parentNode){var _326=_321.parentNode;while(_326&&_326.nodeType==1&&_326.nodeName!="BODY"){var _327=_307.position(_326,true);var _328=_308.getComputedStyle(_326).overflow;if(_328=="hidden"||_328=="auto"||_328=="scroll"){var _329=Math.min(_325.y+_325.h,_327.y+_327.h);var _32a=Math.min(_325.x+_325.w,_327.x+_327.w);_325.x=Math.max(_325.x,_327.x);_325.y=Math.max(_325.y,_327.y);_325.h=_329-_325.y;_325.w=_32a-_325.x;}_326=_326.parentNode;}}var x=_325.x,y=_325.y,_32b="w" in _325?_325.w:(_325.w=_325.width),_32c="h" in _325?_325.h:(_309.deprecated("place.around: dijit.place.__Rectangle: { x:"+x+", y:"+y+", height:"+_325.height+", width:"+_32b+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_325.height+", w:"+_32b+" }","","2.0"),_325.h=_325.height);var _32d=[];function push(_32e,_32f){_32d.push({aroundCorner:_32e,corner:_32f,pos:{x:{"L":x,"R":x+_32b,"M":x+(_32b>>1)}[_32e.charAt(1)],y:{"T":y,"B":y+_32c,"M":y+(_32c>>1)}[_32e.charAt(0)]}});};_306.forEach(_322,function(pos){var ltr=_323;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _330=_30c(node,_32d,_324,{w:_32b,h:_32c});_330.aroundNodePos=_325;return _330;}});});},"dojox/mobile/app/_event":function(){define(["dijit","dojo","dojox"],function(_331,dojo,_332){dojo.provide("dojox.mobile.app._event");dojo.experimental("dojox.mobile.app._event.js");dojo.mixin(_332.mobile.app,{eventMap:{},connectFlick:function(_333,_334,_335){var _336;var _337;var _338=false;var _339;var _33a;var _33b;var _33c;var _33d;var time;var _33e=dojo.connect("onmousedown",_333,function(_33f){_338=false;_336=_33f.targetTouches?_33f.targetTouches[0].clientX:_33f.clientX;_337=_33f.targetTouches?_33f.targetTouches[0].clientY:_33f.clientY;time=(new Date()).getTime();_33b=dojo.connect(_333,"onmousemove",_340);_33c=dojo.connect(_333,"onmouseup",onUp);});var _340=function(_341){dojo.stopEvent(_341);_339=_341.targetTouches?_341.targetTouches[0].clientX:_341.clientX;_33a=_341.targetTouches?_341.targetTouches[0].clientY:_341.clientY;if(Math.abs(Math.abs(_339)-Math.abs(_336))>15){_338=true;_33d=(_339>_336)?"ltr":"rtl";}else{if(Math.abs(Math.abs(_33a)-Math.abs(_337))>15){_338=true;_33d=(_33a>_337)?"ttb":"btt";}}};var onUp=function(_342){dojo.stopEvent(_342);_33b&&dojo.disconnect(_33b);_33c&&dojo.disconnect(_33c);if(_338){var _343={target:_333,direction:_33d,duration:(new Date()).getTime()-time};if(_334&&_335){_334[_335](_343);}else{_335(_343);}}};}});_332.mobile.app.isIPhone=(dojo.isSafari&&(navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1));_332.mobile.app.isWebOS=(navigator.userAgent.indexOf("webOS")>-1);_332.mobile.app.isAndroid=(navigator.userAgent.toLowerCase().indexOf("android")>-1);if(_332.mobile.app.isIPhone||_332.mobile.app.isAndroid){_332.mobile.app.eventMap={onmousedown:"ontouchstart",mousedown:"ontouchstart",onmouseup:"ontouchend",mouseup:"ontouchend",onmousemove:"ontouchmove",mousemove:"ontouchmove"};}dojo._oldConnect=dojo._connect;dojo._connect=function(obj,_344,_345,_346,_347){_344=_332.mobile.app.eventMap[_344]||_344;if(_344=="flick"||_344=="onflick"){if(dojo.global["Mojo"]){_344=Mojo.Event.flick;}else{return _332.mobile.app.connectFlick(obj,_345,_346);}}return dojo._oldConnect(obj,_344,_345,_346,_347);};});},"dojox/mobile/_base":function(){define("dojox/mobile/_base",["./common","./View","./Heading","./RoundRect","./RoundRectCategory","./EdgeToEdgeCategory","./RoundRectList","./EdgeToEdgeList","./ListItem","./Switch","./ToolBarButton","./ProgressIndicator"],function(_348,View,_349,_34a,_34b,_34c,_34d,_34e,_34f,_350,_351,_352){return _348;});},"dojox/mobile/Button":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_ButtonMixin","dijit/form/_FormWidgetMixin"],function(_353,_354,_355,_356,_357,_358,_359){return _354("dojox.mobile.Button",[_357,_359,_358],{baseClass:"mblButton",_setTypeAttr:null,duration:1000,_onClick:function(e){var ret=this.inherited(arguments);if(ret&&this.duration>=0){var _35a=this.focusNode||this.domNode;var _35b=(this.baseClass+" "+this["class"]).split(" ");_35b=_353.map(_35b,function(c){return c+"Selected";});_355.add(_35a,_35b);setTimeout(function(){_355.remove(_35a,_35b);},this.duration);}return ret;},isFocusable:function(){return false;},buildRendering:function(){if(!this.srcNodeRef){this.srcNodeRef=_356.create("button",{"type":this.type});}else{if(this._cv){var n=this.srcNodeRef.firstChild;if(n&&n.nodeType===3){n.nodeValue=this._cv(n.nodeValue);}}}this.inherited(arguments);this.focusNode=this.domNode;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick");},_setLabelAttr:function(_35c){this.inherited(arguments,[this._cv?this._cv(_35c):_35c]);}});});},"dojox/mobile/Switch":function(){define("dojox/mobile/Switch",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/window","dojo/dom-class","dijit/_Contained","dijit/_WidgetBase","./sniff"],function(_35d,_35e,_35f,_360,win,_361,_362,_363,has){return _35f("dojox.mobile.Switch",[_363,_362],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",_width:53,buildRendering:function(){this.domNode=win.doc.createElement("DIV");var c=(this.srcNodeRef&&this.srcNodeRef.className)||this.className||this["class"];this._swClass=(c||"").replace(/ .*/,"");this.domNode.className="mblSwitch";var _364=this.name?" name=\""+this.name+"\"":"";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\"></div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\"></div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"<input type=\"hidden\""+_364+"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];this.input=n.childNodes[3];},postCreate:function(){this.connect(this.domNode,"onclick","onClick");this.connect(this.domNode,has("touch")?"touchstart":"onmousedown","onTouchStart");this._initialValue=this.value;},_changeState:function(_365,anim){var on=(_365==="on");this.left.style.display="";this.right.style.display="";this.inner.style.left="";if(anim){_361.add(this.domNode,"mblSwitchAnimation");}_361.remove(this.domNode,on?"mblSwitchOff":"mblSwitchOn");_361.add(this.domNode,on?"mblSwitchOn":"mblSwitchOff");var _366=this;setTimeout(function(){_366.left.style.display=on?"":"none";_366.right.style.display=!on?"":"none";_361.remove(_366.domNode,"mblSwitchAnimation");},anim?300:0);},startup:function(){if(this._swClass.indexOf("Round")!=-1){var r=Math.round(this.domNode.offsetHeight/2);this.createRoundMask(this._swClass,r,this.domNode.offsetWidth);}},createRoundMask:function(_367,r,w){if(!has("webkit")||!_367){return;}if(!this._createdMasks){this._createdMasks=[];}if(this._createdMasks[_367]){return;}this._createdMasks[_367]=1;var ctx=win.doc.getCSSCanvasContext("2d",_367+"Mask",w,100);ctx.fillStyle="#000000";ctx.beginPath();ctx.moveTo(r,0);ctx.arcTo(0,0,0,2*r,r);ctx.arcTo(0,2*r,r,2*r,r);ctx.lineTo(w-r,2*r);ctx.arcTo(w,2*r,w,r,r);ctx.arcTo(w,0,w-r,0,r);ctx.closePath();ctx.fill();},onClick:function(e){if(this._moved){return;}this.value=this.input.value=(this.value=="on")?"off":"on";this._changeState(this.value,true);this.onStateChanged(this.value);},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(!this._conn){this._conn=[];this._conn.push(_35e.connect(this.inner,has("touch")?"touchmove":"onmousemove",this,"onTouchMove"));this._conn.push(_35e.connect(this.inner,has("touch")?"touchend":"onmouseup",this,"onTouchEnd"));}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.left.style.display="";this.right.style.display="";_360.stop(e);},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return false;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";if(Math.abs(dx)>d){this._moved=true;}},onTouchEnd:function(e){_35d.forEach(this._conn,_35e.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(has("touch")){var ev=win.doc.createEvent("MouseEvents");ev.initEvent("click",true,true);this.inner.dispatchEvent(ev);}return;}var _368=(this.inner.offsetLeft<-(this._width/2))?"off":"on";this._changeState(_368,true);if(_368!=this.value){this.value=this.input.value=_368;this.onStateChanged(_368);}},onStateChanged:function(_369){},_setValueAttr:function(_36a){this._changeState(_36a,false);if(this.value!=_36a){this.onStateChanged(_36a);}this.value=this.input.value=_36a;},_setLeftLabelAttr:function(_36b){this.leftLabel=_36b;this.left.firstChild.innerHTML=this._cv?this._cv(_36b):_36b;},_setRightLabelAttr:function(_36c){this.rightLabel=_36c;this.right.firstChild.innerHTML=this._cv?this._cv(_36c):_36c;},reset:function(){this.set("value",this._initialValue);}});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","."],function(_36d,_36e,dom,_36f,_370,_371,lang,on,_372,has,_373,_374,win,_375,a11y,_376,_377){var _378=_36e([_373,_371],{curNode:null,activeStack:[],constructor:function(){var _379=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_36d.before(_370,"empty",_379);_36d.before(_370,"destroy",_379);},registerIframe:function(_37a){return this.registerWin(_37a.contentWindow,_37a);},registerWin:function(_37b,_37c){var _37d=this;var _37e=function(evt){_37d._justMouseDowned=true;setTimeout(function(){_37d._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_37d._onTouchNode(_37c||evt.target||evt.srcElement,"mouse");};var doc=has("ie")?_37b.document.documentElement:_37b.document;if(doc){if(has("ie")){_37b.document.body.attachEvent("onmousedown",_37e);var _37f=function(evt){var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.srcElement)){_37d._onFocusNode(_37c||evt.srcElement);}else{_37d._onTouchNode(_37c||evt.srcElement);}};doc.attachEvent("onactivate",_37f);var _380=function(evt){_37d._onBlurNode(_37c||evt.srcElement);};doc.attachEvent("ondeactivate",_380);return {remove:function(){_37b.document.detachEvent("onmousedown",_37e);doc.detachEvent("onactivate",_37f);doc.detachEvent("ondeactivate",_380);doc=null;}};}else{doc.body.addEventListener("mousedown",_37e,true);doc.body.addEventListener("touchstart",_37e,true);var _381=function(evt){_37d._onFocusNode(_37c||evt.target);};doc.addEventListener("focus",_381,true);var _382=function(evt){_37d._onBlurNode(_37c||evt.target);};doc.addEventListener("blur",_382,true);return {remove:function(){doc.body.removeEventListener("mousedown",_37e,true);doc.body.removeEventListener("touchstart",_37e,true);doc.removeEventListener("focus",_381,true);doc.removeEventListener("blur",_382,true);doc=null;}};}}},_onBlurNode:function(){this.set("prevNode",this.curNode);this.set("curNode",null);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);this.prevNode=null;}),100);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _383=[];try{while(node){var _384=_36f.get(node,"dijitPopupParent");if(_384){node=_376.byId(_384).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_375.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_385=id&&_376.byId(id);if(_385&&!(by=="mouse"&&_385.get("disabled"))){_383.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_383,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("curNode",node);},_setStack:function(_386,by){var _387=this.activeStack;this.set("activeStack",_386);for(var _388=0;_388<Math.min(_387.length,_386.length);_388++){if(_387[_388]!=_386[_388]){break;}}var _389;for(var i=_387.length-1;i>=_388;i--){_389=_376.byId(_387[i]);if(_389){_389._hasBeenBlurred=true;_389.set("focused",false);if(_389._focusManager==this){_389._onBlur(by);}this.emit("widget-blur",_389,by);}}for(i=_388;i<_386.length;i++){_389=_376.byId(_386[i]);if(_389){_389.set("focused",true);if(_389._focusManager==this){_389._onFocus(by);}this.emit("widget-focus",_389,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _38a=new _378();_372(function(){var _38b=_38a.registerWin(win.doc.parentWindow||win.doc.defaultView);if(has("ie")){_374.addOnWindowUnload(function(){_38b.remove();_38b=null;});}});_377.focus=function(node){_38a.focus(node);};for(var attr in _38a){if(!/^_/.test(attr)){_377.focus[attr]=typeof _38a[attr]=="function"?lang.hitch(_38a,attr):_38a[attr];}}_38a.watch(function(attr,_38c,_38d){_377.focus[attr]=_38d;});return _38a;});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dojox/mobile/RoundRect":function(){define("dojox/mobile/RoundRect",["dojo/_base/array","dojo/_base/declare","dojo/_base/window","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_38e,_38f,win,_390,_391,_392){return _38f("dojox.mobile.RoundRect",[_392,_391,_390],{shadow:false,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement("DIV");this.domNode.className=this.shadow?"mblRoundRect mblShadow":"mblRoundRect";},resize:function(){_38e.forEach(this.getChildren(),function(_393){if(_393.resize){_393.resize();}});}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_394,dom,_395,_396){return _394("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_395.stop(e);return false;}var _397=this.onClick(e)===false;if(!_397&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _398=_396.byNode(node);if(_398&&typeof _398._onSubmit=="function"){_398._onSubmit(e);_397=true;break;}}}if(_397){e.preventDefault();}return !_397;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_399){this._set("label",_399);(this.containerNode||this.focusNode).innerHTML=_399;}});});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dojox/mobile/RoundRectCategory":function(){define("dojox/mobile/RoundRectCategory",["dojo/_base/declare","dojo/_base/window","dijit/_Contained","dijit/_WidgetBase"],function(_39a,win,_39b,_39c){return _39a("dojox.mobile.RoundRectCategory",[_39c,_39b],{label:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement("H2");this.domNode.className="mblRoundRectCategory";if(!this.label){this.label=this.domNode.innerHTML;}},_setLabelAttr:function(_39d){this.label=_39d;this.domNode.innerHTML=this._cv?this._cv(_39d):_39d;}});});},"dojox/mobile/app/TextBox":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/TextBox"],function(_39e,dojo,_39f){dojo.provide("dojox.mobile.app.TextBox");dojo.deprecated("dojox.mobile.app.TextBox is deprecated","dojox.mobile.app.TextBox moved to dojox.mobile.TextBox",1.8);dojo.require("dojox.mobile.TextBox");_39f.mobile.app.TextBox=_39f.mobile.TextBox;});},"dojox/mobile/app/SceneAssistant":function(){define(["dijit","dojo","dojox"],function(_3a0,dojo,_3a1){dojo.provide("dojox.mobile.app.SceneAssistant");dojo.experimental("dojox.mobile.app.SceneAssistant");dojo.declare("dojox.mobile.app.SceneAssistant",null,{constructor:function(){},setup:function(){},activate:function(_3a2){},deactivate:function(){},destroy:function(){var _3a3=dojo.query("> [widgetId]",this.containerNode).map(_3a0.byNode);dojo.forEach(_3a3,function(_3a4){_3a4.destroyRecursive();});this.disconnect();},connect:function(obj,_3a5,_3a6){if(!this._connects){this._connects=[];}this._connects.push(dojo.connect(obj,_3a5,_3a6));},disconnect:function(){dojo.forEach(this._connects,dojo.disconnect);this._connects=[];}});});},"dijit/_base/popup":function(){define(["dojo/dom-class","../popup","../BackgroundIframe"],function(_3a7,_3a8){var _3a9=_3a8._createWrapper;_3a8._createWrapper=function(_3aa){if(!_3aa.declaredClass){_3aa={_popupWrapper:(_3aa.parentNode&&_3a7.contains(_3aa.parentNode,"dijitPopup"))?_3aa.parentNode:null,domNode:_3aa,destroy:function(){}};}return _3a9.call(this,_3aa);};var _3ab=_3a8.open;_3a8.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _3ab.call(this,args);};return _3a8;});},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(_3ac,_3ad){if(_3ad["mblCSS3Transition"]){var _3ae=new _3ac();require([_3ad["mblCSS3Transition"]],function(_3af){_3ae.resolve(_3af);});return _3ae;}return null;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","..","../hccss"],function(_3b0,lang,_3b1){lang.mixin(_3b1,{hasWaiRole:function(elem,role){var _3b2=this.getWaiRole(elem);return role?(_3b2.indexOf(role)>-1):(_3b2.length>0);},getWaiRole:function(elem){return lang.trim((_3b0.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_3b0.set(elem,"role",role);},removeWaiRole:function(elem,role){var _3b3=_3b0.get(elem,"role");if(!_3b3){return;}if(role){var t=lang.trim((" "+_3b3+" ").replace(" "+role+" "," "));_3b0.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_3b4){return elem.hasAttribute?elem.hasAttribute("aria-"+_3b4):!!elem.getAttribute("aria-"+_3b4);},getWaiState:function(elem,_3b5){return elem.getAttribute("aria-"+_3b5)||"";},setWaiState:function(elem,_3b6,_3b7){elem.setAttribute("aria-"+_3b6,_3b7);},removeWaiState:function(elem,_3b8){elem.removeAttribute("aria-"+_3b8);}});return _3b1;});},"dojo/window":function(){define(["./_base/lang","./_base/sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(lang,has,_3b9,dom,geom,_3ba){var _3bb=lang.getObject("dojo.window",true);_3bb.getBox=function(){var _3bc=(_3b9.doc.compatMode=="BackCompat")?_3b9.body():_3b9.doc.documentElement,_3bd=geom.docScroll(),w,h;if(has("touch")){var _3be=_3b9.doc.parentWindow||_3b9.doc.defaultView;w=_3be.innerWidth||_3bc.clientWidth;h=_3be.innerHeight||_3bc.clientHeight;}else{w=_3bc.clientWidth;h=_3bc.clientHeight;}return {l:_3bd.x,t:_3bd.y,w:w,h:h};};_3bb.get=function(doc){if(has("ie")&&_3bb!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};_3bb.scrollIntoView=function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_3b9.doc,body=doc.body||_3b9.body(),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if((!(has("mozilla")||isIE||isWK||has("opera"))||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _3bf=doc.compatMode=="BackCompat",_3c0=(isIE>=9&&node.ownerDocument.parentWindow.frameElement)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_3bf?body:html),_3c1=isWK?body:_3c0,_3c2=_3c0.clientWidth,_3c3=_3c0.clientHeight,rtl=!geom.isBodyLtr(),_3c4=pos||geom.position(node),el=node.parentNode,_3c5=function(el){return ((isIE<=6||(isIE&&_3bf))?false:(_3ba.get(el,"position").toLowerCase()=="fixed"));};if(_3c5(node)){return;}while(el){if(el==body){el=_3c1;}var _3c6=geom.position(el),_3c7=_3c5(el);if(el==_3c1){_3c6.w=_3c2;_3c6.h=_3c3;if(_3c1==html&&isIE&&rtl){_3c6.x+=_3c1.offsetWidth-_3c6.w;}if(_3c6.x<0||!isIE){_3c6.x=0;}if(_3c6.y<0||!isIE){_3c6.y=0;}}else{var pb=geom.getPadBorderExtents(el);_3c6.w-=pb.w;_3c6.h-=pb.h;_3c6.x+=pb.l;_3c6.y+=pb.t;var _3c8=el.clientWidth,_3c9=_3c6.w-_3c8;if(_3c8>0&&_3c9>0){_3c6.w=_3c8;_3c6.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_3c9:0;}_3c8=el.clientHeight;_3c9=_3c6.h-_3c8;if(_3c8>0&&_3c9>0){_3c6.h=_3c8;}}if(_3c7){if(_3c6.y<0){_3c6.h+=_3c6.y;_3c6.y=0;}if(_3c6.x<0){_3c6.w+=_3c6.x;_3c6.x=0;}if(_3c6.y+_3c6.h>_3c3){_3c6.h=_3c3-_3c6.y;}if(_3c6.x+_3c6.w>_3c2){_3c6.w=_3c2-_3c6.x;}}var l=_3c4.x-_3c6.x,t=_3c4.y-Math.max(_3c6.y,0),r=l+_3c4.w-_3c6.w,bot=t+_3c4.h-_3c6.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_3bf)||isIE>=9)){s=-s;}_3c4.x+=el.scrollLeft;el.scrollLeft+=s;_3c4.x-=el.scrollLeft;}if(bot*t>0){_3c4.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_3c4.y-=el.scrollTop;}el=(el!=_3c1)&&!_3c7&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};return _3bb;});},"dojox/mobile/EdgeToEdgeList":function(){define("dojox/mobile/EdgeToEdgeList",["dojo/_base/declare","./RoundRectList"],function(_3ca,_3cb){return _3ca("dojox.mobile.EdgeToEdgeList",_3cb,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","./place","./BackgroundIframe","."],function(_3cc,_3cd,_3ce,_3cf,dom,_3d0,_3d1,_3d2,_3d3,_3d4,keys,lang,on,has,win,_3d5,_3d6,_3d7){function _3d8(){if(this._popupWrapper){_3d1.destroy(this._popupWrapper);delete this._popupWrapper;}};var _3d9=_3cf(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_3da){var _3db=_3da._popupWrapper,node=_3da.domNode;if(!_3db){_3db=_3d1.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},win.body());_3db.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_3da._popupWrapper=_3db;_3cd.after(_3da,"destroy",_3d8,true);}return _3db;},moveOffScreen:function(_3dc){var _3dd=this._createWrapper(_3dc);_3d3.set(_3dd,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_3de){var _3df=this._createWrapper(_3de);_3d3.set(_3df,"display","none");},getTopPopup:function(){var _3e0=this._stack;for(var pi=_3e0.length-1;pi>0&&_3e0[pi].parent===_3e0[pi-1].widget;pi--){}return _3e0[pi];},open:function(args){var _3e1=this._stack,_3e2=args.popup,_3e3=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_3d2.isBodyLtr(),_3e4=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_3e1.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_3e1[_3e1.length-1].widget.domNode))){this.close(_3e1[_3e1.length-1].widget);}var _3e5=this._createWrapper(_3e2);_3d0.set(_3e5,{id:id,style:{zIndex:this._beginZIndex+_3e1.length},"class":"dijitPopup "+(_3e2.baseClass||_3e2["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("ie")||has("mozilla")){if(!_3e2.bgIframe){_3e2.bgIframe=new _3d6(_3e5);}}var best=_3e4?_3d5.around(_3e5,_3e4,_3e3,ltr,_3e2.orient?lang.hitch(_3e2,"orient"):null):_3d5.at(_3e5,args,_3e3=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_3e5.style.display="";_3e5.style.visibility="visible";_3e2.domNode.style.visibility="visible";var _3e6=[];_3e6.push(on(_3e5,_3ce._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_3d4.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_3d4.stop(evt);var _3e7=this.getTopPopup();if(_3e7&&_3e7.onCancel){_3e7.onCancel();}}}})));if(_3e2.onCancel&&args.onCancel){_3e6.push(_3e2.on("cancel",args.onCancel));}_3e6.push(_3e2.on(_3e2.onExecute?"execute":"change",lang.hitch(this,function(){var _3e8=this.getTopPopup();if(_3e8&&_3e8.onExecute){_3e8.onExecute();}})));_3e1.push({widget:_3e2,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_3e6});if(_3e2.onOpen){_3e2.onOpen(best);}return best;},close:function(_3e9){var _3ea=this._stack;while((_3e9&&_3cc.some(_3ea,function(elem){return elem.widget==_3e9;}))||(!_3e9&&_3ea.length)){var top=_3ea.pop(),_3eb=top.widget,_3ec=top.onClose;if(_3eb.onClose){_3eb.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_3eb&&_3eb.domNode){this.hide(_3eb);}if(_3ec){_3ec();}}}});return (_3d7.popup=new _3d9());});},"dojox/mobile/uacss":function(){define("dojox/mobile/uacss",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","dojox/mobile/sniff"],function(dojo,lang,win,has){win.doc.documentElement.className+=lang.trim([has("bb")?"dj_bb":"",has("android")?"dj_android":"",has("iphone")?"dj_iphone":"",has("ipod")?"dj_ipod":"",has("ipad")?"dj_ipad":""].join(" ").replace(/ +/g," "));return dojo;});},"dijit/_base/window":function(){define(["dojo/window",".."],function(_3ed,_3ee){_3ee.getDocumentWindow=function(doc){return _3ed.get(doc);};});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./registry"],function(_3ef,_3f0,_3f1,_3f2,_3f3,_3f4,dom,_3f5,_3f6,_3f7,_3f8,_3f9,_3fa,lang,on,_3fb,_3fc,_3fd,win,_3fe){if(!_3fa.isAsync){_3fb(0,function(){var _3ff=["dijit/_base/manager"];_3ef(_3ff);});}var _400={};function _401(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _402(attr){return function(val){_3f5[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};return _3f4("dijit._WidgetBase",_3fc,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_402("lang"),dir:"",_setDirAttr:_402("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:_3f2.blankGif||_3ef.toUrl("dojo/resources/blank.gif"),postscript:function(_403,_404){this.create(_403,_404);},create:function(_405,_406){this.srcNodeRef=dom.byId(_406);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_405){this.params=_405;lang.mixin(this,_405);}this.postMixInProperties();if(!this.id){this.id=_3fe.getUniqueId(this.declaredClass.replace(/\./g,"_"));}_3fe.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _407=this.srcNodeRef;if(_407&&_407.parentNode&&this.domNode!==_407){_407.parentNode.replaceChild(this.domNode,_407);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var ctor=this.constructor,list=ctor._setterAttrs;if(!list){list=(ctor._setterAttrs=[]);for(var attr in this.attributeMap){list.push(attr);}var _408=ctor.prototype;for(var _409 in _408){if(_409 in this.attributeMap){continue;}var _40a="_set"+_409.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_40a in _408){list.push(_409);}}}_3f0.forEach(list,function(attr){if(this.params&&attr in this.params){}else{if(this[attr]){this.set(attr,this[attr]);}}},this);for(var _40b in this.params){this.set(_40b,this[_40b]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_3f7.create("div");}if(this.baseClass){var _40c=this.baseClass.split(" ");if(!this.isLeftToRight()){_40c=_40c.concat(_3f0.map(_40c,function(name){return name+"Rtl";}));}_3f6.add(this.domNode,_40c);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_3f0.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_40d){this._beingDestroyed=true;this.destroyDescendants(_40d);this.destroy(_40d);},destroy:function(_40e){this._beingDestroyed=true;this.uninitialize();var c;while((c=this._connects.pop())){c.remove();}var w;while((w=this._supportingWidgets.pop())){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}}this.destroyRendering(_40e);_3fe.remove(this.id);this._destroyed=true;},destroyRendering:function(_40f){if(this.bgIframe){this.bgIframe.destroy(_40f);delete this.bgIframe;}if(this.domNode){if(_40f){_3f5.remove(this.domNode,"widgetId");}else{_3f7.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_40f){_3f7.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_410){_3f0.forEach(this.getChildren(),function(_411){if(_411.destroyRecursive){_411.destroyRecursive(_410);}});},uninitialize:function(){return false;},_setStyleAttr:function(_412){var _413=this.domNode;if(lang.isObject(_412)){_3f9.set(_413,_412);}else{if(_413.style.cssText){_413.style.cssText+="; "+_412;}else{_413.style.cssText=_412;}}this._set("style",_412);},_attrToDom:function(attr,_414,_415){_415=arguments.length>=3?_415:this.attributeMap[attr];_3f0.forEach(lang.isArray(_415)?_415:[_415],function(_416){var _417=this[_416.node||_416||"domNode"];var type=_416.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_414)){_414=lang.hitch(this,_414);}var _418=_416.attribute?_416.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);_3f5.set(_417,_418,_414);break;case "innerText":_417.innerHTML="";_417.appendChild(win.doc.createTextNode(_414));break;case "innerHTML":_417.innerHTML=_414;break;case "class":_3f6.replace(_417,_414,this[attr]);break;}},this);},get:function(name){var _419=this._getAttrNames(name);return this[_419.g]?this[_419.g]():this[name];},set:function(name,_41a){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _41b=this._getAttrNames(name),_41c=this[_41b.s];if(lang.isFunction(_41c)){var _41d=_41c.apply(this,Array.prototype.slice.call(arguments,1));}else{var _41e=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_41e].tagName,_41f=_400[tag]||(_400[tag]=_401(this[_41e])),map=name in this.attributeMap?this.attributeMap[name]:_41b.s in this?this[_41b.s]:((_41b.l in _41f&&typeof _41a!="function")||/^aria-|^data-|^role$/.test(name))?_41e:null;if(map!=null){this._attrToDom(name,_41a,map);}this._set(name,_41a);}return _41d||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_420){var _421=this[name];this[name]=_420;if(this._watchCallbacks&&this._created&&_420!==_421){this._watchCallbacks(name,_421,_420);}},on:function(type,func){return _3f1.after(this,this._onMap(type),func,true);},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_3fe.findWidgets(this.containerNode):[];},getParent:function(){return _3fe.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_422,_423){var _424=_3f3.connect(obj,_422,this,_423);this._connects.push(_424);return _424;},disconnect:function(_425){var i=_3f0.indexOf(this._connects,_425);if(i!=-1){_425.remove();this._connects.splice(i,1);}},subscribe:function(t,_426){var _427=_3fd.subscribe(t,lang.hitch(this,_426));this._connects.push(_427);return _427;},unsubscribe:function(_428){this.disconnect(_428);},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_3f8.isBodyLtr();},isFocusable:function(){return this.focus&&(_3f9.get(this.domNode,"display")!="none");},placeAt:function(_429,_42a){if(_429.declaredClass&&_429.addChild){_429.addChild(this,_42a);}else{_3f7.place(this.domNode,_429,_42a);}return this;},getTextDir:function(text,_42b){return _42b;},applyTextDir:function(){},defer:function(fcn,_42c){var _42d=setTimeout(lang.hitch(this,function(){_42d=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_42c||0);return {remove:function(){if(_42d){clearTimeout(_42d);_42d=null;}return null;}};}});});},"dojox/mobile/app/AlertDialog":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_WidgetBase"],function(_42e,dojo,_42f){dojo.provide("dojox.mobile.app.AlertDialog");dojo.experimental("dojox.mobile.app.AlertDialog");dojo.require("dijit._WidgetBase");dojo.declare("dojox.mobile.app.AlertDialog",_42e._WidgetBase,{title:"",text:"",controller:null,buttons:null,defaultButtonLabel:"OK",onChoose:null,constructor:function(){this.onClick=dojo.hitch(this,this.onClick);this._handleSelect=dojo.hitch(this,this._handleSelect);},buildRendering:function(){this.domNode=dojo.create("div",{"class":"alertDialog"});var _430=dojo.create("div",{"class":"alertDialogBody"},this.domNode);dojo.create("div",{"class":"alertTitle",innerHTML:this.title||""},_430);dojo.create("div",{"class":"alertText",innerHTML:this.text||""},_430);var _431=dojo.create("div",{"class":"alertBtns"},_430);if(!this.buttons||this.buttons.length==0){this.buttons=[{label:this.defaultButtonLabel,value:"ok","class":"affirmative"}];}var _432=this;dojo.forEach(this.buttons,function(_433){var btn=new _42f.mobile.Button({btnClass:_433["class"]||"",label:_433.label});btn._dialogValue=_433.value;dojo.place(btn.domNode,_431);_432.connect(btn,"onClick",_432._handleSelect);});var _434=this.controller.getWindowSize();this.mask=dojo.create("div",{"class":"dialogUnderlayWrapper",innerHTML:"<div class=\"dialogUnderlay\"></div>",style:{width:_434.w+"px",height:_434.h+"px"}},this.controller.assistant.domNode);this.connect(this.mask,"onclick",function(){_432.onChoose&&_432.onChoose();_432.hide();});},postCreate:function(){this.subscribe("/dojox/mobile/app/goback",this._handleSelect);},_handleSelect:function(_435){var node;console.log("handleSelect");if(_435&&_435.target){node=_435.target;while(!_42e.byNode(node)){node-node.parentNode;}}if(this.onChoose){this.onChoose(node?_42e.byNode(node)._dialogValue:undefined);}this.hide();},show:function(){this._doTransition(1);},hide:function(){this._doTransition(-1);},_doTransition:function(dir){var anim;var h=dojo.marginBox(this.domNode.firstChild).h;var _436=this.controller.getWindowSize().h;console.log("dialog height = "+h," body height = "+_436);var high=_436-h;var low=_436;var _437=dojo.fx.slideTo({node:this.domNode,duration:400,top:{start:dir<0?high:low,end:dir<0?low:high}});var _438=dojo[dir<0?"fadeOut":"fadeIn"]({node:this.mask,duration:400});var anim=dojo.fx.combine([_437,_438]);var _439=this;dojo.connect(anim,"onEnd",this,function(){if(dir<0){_439.domNode.style.display="none";dojo.destroy(_439.domNode);dojo.destroy(_439.mask);}});anim.play();},destroy:function(){this.inherited(arguments);dojo.destroy(this.mask);},onClick:function(){}});});},"*noref":1}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("dojox/mobile/nls/app",[]);});define("dojox/mobile/app",["./app/_base"],function(_43a){return _43a;});